#!/bin/bash
# Pre-push hook: Catch build errors BEFORE they reach CI
# tsc --noEmit catches TS errors but misses Angular template errors.
# ng build catches both â€” this is the last gate before CI.

set -e

echo "ðŸ”¨ Pre-push: Running production build check..."

# Full Angular build â€” catches template binding errors that tsc misses
cd apps/web && npx ng build 2>&1 | tail -5

echo "âœ… Build passed â€” safe to push"
