[functions.mercadopago-webhook]
# Disable JWT verification for webhook (needs to be public for MercadoPago)
verify_jwt = false

[functions.mercadopago-create-preference]
# This one needs JWT verification (user must be authenticated)
verify_jwt = true

[functions.sync-binance-rates]
# Disable JWT verification (called by pg_cron internally)
verify_jwt = false

[functions.mp-create-preauth]
# Requires JWT verification (user must be authenticated)
verify_jwt = true

[functions.mercadopago-oauth-callback]
# Disable JWT verification for MP OAuth callback (MP no envía el token del usuario)
# Seguridad se asegura con el parámetro state y validaciones en la función.
verify_jwt = false

[functions.sitemap]
# Sitemap must be public for Google Bot
verify_jwt = false

[functions.passkeys-registration-options]
# Passkey registration options - requires authentication
verify_jwt = true

[functions.passkeys-registration-verify]
# Passkey registration verification - requires authentication
verify_jwt = true

[functions.passkeys-authentication-options]
# Passkey authentication options - public (before login)
verify_jwt = false

[functions.passkeys-authentication-verify]
# Passkey authentication verification - public (creates session)
verify_jwt = false

[functions.tiktok-events]
# TikTok Events API - public for analytics tracking (anonymous users too)
verify_jwt = false

[functions.tiktok-leadgen-webhook]
# TikTok Lead Gen Webhook - public endpoint for Instant Form leads
verify_jwt = false

[functions.github-webhook-handler]
# GitHub webhook handler - public for receiving GitHub Actions events
# Security: Validates webhook signature via X-Hub-Signature-256 header
verify_jwt = false

[functions.process-email-sequences]
# Triggered by pg_cron, auth handled via Service Role Key in header
verify_jwt = false

[functions.send-otp-via-n8n]
# OTP via WhatsApp/SMS - disable middleware JWT verification
# Function handles authentication manually for better error handling
# This allows us to provide user-friendly error messages on auth failures
verify_jwt = false
