[
  {
    "projectId": "449c2d1e-d329-493e-b6ba-2c30209ae999",
    "testId": "4d5f0828-aefa-47e0-91a6-4d32855c8883",
    "userId": "9478c4d8-20a1-70fe-6045-2e4c0ed91926",
    "title": "TC001-Successful Car Booking with Wallet Payment",
    "description": "Verify that a locatario can browse cars, select dates, and complete a booking successfully using wallet payment when sufficient funds are available.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:4200\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Try to find a way to reveal or load the car list or filters, possibly by scrolling or looking for navigation or filter buttons.\n        await page.mouse.wheel(0, await page.evaluate('() => window.innerHeight'))\n        \n\n        # -> Input rental start and end dates, then filter cars by price or other criteria.\n        frame = context.pages[-1]\n        # Input rental start date\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/div/div/div/app-date-range-picker/div/div[3]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('2025-11-10')\n        \n\n        # -> Fill the rental end date input with 2025-11-15 and then click the Filtros button to open filter options.\n        frame = context.pages[-1]\n        # Input rental end date\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/div/div/div/app-date-range-picker/div/div[3]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('2025-11-15')\n        \n\n        # -> Select an available car from the list to proceed with booking.\n        frame = context.pages[-1]\n        # Select Volkswagen Gol Trend 2021 car from the list\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/div/div[2]/div[2]/div/app-car-card/article').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input rental start and end dates on the car detail page and proceed to review price breakdown.\n        frame = context.pages[-1]\n        # Input rental start date on car detail page\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/div/div/div/app-date-range-picker/div/div[3]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('2025-11-10')\n        \n\n        frame = context.pages[-1]\n        # Input rental end date on car detail page\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/div/div/div/app-date-range-picker/div/div[3]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('2025-11-15')\n        \n\n        frame = context.pages[-1]\n        # Click on Filtros or equivalent to apply date selection and update price breakdown\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/div/div/div/app-map-filters/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Review price breakdown including dynamic pricing and fees, then proceed to payment selection.\n        frame = context.pages[-1]\n        # Click on 'Buscar autos' to refresh or confirm car list with filters applied\n        elem = frame.locator('xpath=html/body/app-root/div/footer/div/div/div[2]/ul/li/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Booking Completed Successfully').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test failed: The booking process did not complete successfully as expected. The locatario could not browse cars, select dates, and complete a booking using wallet payment with sufficient funds.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "The booking flow is blocked due to a UI issue where no car listings or price breakdown are shown after applying filters and clicking 'Buscar autos'. Reporting this issue and stopping further testing as the core functionality cannot be validated.\nBrowser Console Logs:\n[WARNING] <link rel=preload> uses an unsupported `as` value (at http://localhost:4200/:45:0)\n[WARNING] The 'allowSignalWrites' flag is deprecated and no longer impacts effect() (writes are always allowed) (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-AY6GKBS4.js?v=af777c5b:3143:12)\n[WARNING] ⚠️ LCP is above target (2.5s): 28.99s (at http://localhost:4200/main.js:6357:20)\n[WARNING] Error getting current position: User denied Geolocation (at http://localhost:4200/chunk-YEIUFSFY.js:256:18)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/22222222-2222-2222-2222-222222222222/8447c379-6b51-4b5e-8647-0f5de243f729/e6d81e06-8013-4a28-9363-d75f512c28a1-no-bg.png?t=1760916490501\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 600w x 400h (aspect-ratio: 1.50). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-59011ffc-b8e1-432a-b4f6-4fd5bdc4e3ee-3/4-front-1761490262740.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-d10aad20-280a-4819-ac79-ff22b79449e6-3/4-front-1761490075780.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] ⚠️ Low FPS detected: 12fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-95dadd02-5b5e-4cd0-89aa-0adad31c78a7-3/4-front-1761490291667.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] [GroupMarkerNotSet(crbug.com/242999)!:A0C44200742B0000]Automatic fallback to software WebGL has been deprecated. Please use the --enable-unsafe-swiftshader flag to opt in to lower security guarantees for trusted content. (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x2b740c991580]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x2b740c991580]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x2b740c991580]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x2b740c991580]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (this message will no longer repeat) (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-caa404cc-6423-4f5e-b5df-f0d02f7d1aff-3/4-front-1761490282306.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[ERROR] Failed to load resource: the server responded with a status of 404 () (at https://example.com/cars/demo.jpg:0:0)\n[WARNING] ⚠️ No se pudo obtener ubicación del usuario: User denied Geolocation (at http://localhost:4200/chunk-HLEQ3OH3.js:895:16)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/ae4a91fa-e951-49a3-94fb-0c3ee4786166/8a854591-3fec-4425-946e-c7bb764a7333/93adfdee-0014-4796-bf77-c53b25231576.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-82c3ecf6-1d8c-46fc-9fad-6dd63c3aeac7-3/4-front-1761490271806.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[ERROR] Failed to load resource: the server responded with a status of 404 () (at https://example.com/cars/demo.jpg:0:0)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478c4d8-20a1-70fe-6045-2e4c0ed91926/1762409627566774//tmp/test_task/result.webm",
    "created": "2025-11-06T06:08:50.922Z",
    "modified": "2025-11-06T06:13:47.783Z"
  },
  {
    "projectId": "449c2d1e-d329-493e-b6ba-2c30209ae999",
    "testId": "19dcb522-c71e-48e7-956a-14f64861538a",
    "userId": "9478c4d8-20a1-70fe-6045-2e4c0ed91926",
    "title": "TC002-Booking Rejection Due to Insufficient Wallet Funds",
    "description": "Verify that booking cannot be completed if the locatario selects wallet payment but has insufficient funds.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:4200\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Click on 'Buscar autos' to navigate to car list.\n        frame = context.pages[-1]\n        # Click on 'Buscar autos' link to go to car list page\n        elem = frame.locator('xpath=html/body/app-root/div/header/div/nav/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Select rental start date input to choose a date.\n        frame = context.pages[-1]\n        # Click on rental start date input to open date picker\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/div/div/div/app-date-range-picker/div/div[3]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input rental start date.\n        frame = context.pages[-1]\n        # Input rental start date\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/div/div/div/app-date-range-picker/div/div[3]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('2025-11-10')\n        \n\n        # -> Input rental end date as 2025-11-15.\n        frame = context.pages[-1]\n        # Input rental end date\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/div/div/div/app-date-range-picker/div/div[3]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('2025-11-15')\n        \n\n        # -> Select a car from the available listings to proceed to booking.\n        frame = context.pages[-1]\n        # Click on a car listing marker on the map to select a car\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/app-cars-map/div/div/div[2]/div[5]/div/img').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click on 'Confirmar reserva' or equivalent button to proceed to payment method selection.\n        frame = context.pages[-1]\n        # Click on 'Ver calendario' or equivalent to proceed to booking confirmation or payment selection\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/div/div/div/app-date-range-picker/div/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Booking Completed Successfully').first).to_be_visible(timeout=30000)\n        except AssertionError:\n            raise AssertionError(\"Test failed: Booking should not complete when wallet balance is insufficient. Expected error message about insufficient wallet balance and prompt to add funds or choose another payment method.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Test stopped due to UI bug: Clicking 'Ver calendario' opens an empty modal preventing booking confirmation and payment method selection. Cannot verify wallet payment with insufficient funds. Issue reported for fix.\nBrowser Console Logs:\n[WARNING] <link rel=preload> uses an unsupported `as` value (at http://localhost:4200/:45:0)\n[WARNING] The 'allowSignalWrites' flag is deprecated and no longer impacts effect() (writes are always allowed) (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-AY6GKBS4.js?v=af777c5b:3143:12)\n[WARNING] Error getting current position: User denied Geolocation (at http://localhost:4200/chunk-YEIUFSFY.js:256:18)\n[WARNING] ⚠️ LCP is above target (2.5s): 30.71s (at http://localhost:4200/main.js:6357:20)\n[WARNING] ⚠️ Low FPS detected: 12fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/22222222-2222-2222-2222-222222222222/8447c379-6b51-4b5e-8647-0f5de243f729/e6d81e06-8013-4a28-9363-d75f512c28a1-no-bg.png?t=1760916490501\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 600w x 400h (aspect-ratio: 1.50). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] ⚠️ Low FPS detected: 15fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] [GroupMarkerNotSet(crbug.com/242999)!:A0C44400F4370000]Automatic fallback to software WebGL has been deprecated. Please use the --enable-unsafe-swiftshader flag to opt in to lower security guarantees for trusted content. (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x37f4075c8000]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x37f4075c8000]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x37f4075c8000]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x37f4075c8000]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (this message will no longer repeat) (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-59011ffc-b8e1-432a-b4f6-4fd5bdc4e3ee-3/4-front-1761490262740.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-d10aad20-280a-4819-ac79-ff22b79449e6-3/4-front-1761490075780.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-95dadd02-5b5e-4cd0-89aa-0adad31c78a7-3/4-front-1761490291667.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-caa404cc-6423-4f5e-b5df-f0d02f7d1aff-3/4-front-1761490282306.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-82c3ecf6-1d8c-46fc-9fad-6dd63c3aeac7-3/4-front-1761490271806.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/ae4a91fa-e951-49a3-94fb-0c3ee4786166/8a854591-3fec-4425-946e-c7bb764a7333/93adfdee-0014-4796-bf77-c53b25231576.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] ⚠️ No se pudo obtener ubicación del usuario: User denied Geolocation (at http://localhost:4200/chunk-HLEQ3OH3.js:895:16)\n[ERROR] Failed to load resource: the server responded with a status of 404 () (at https://example.com/cars/demo.jpg:0:0)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478c4d8-20a1-70fe-6045-2e4c0ed91926/1762409756900013//tmp/test_task/result.webm",
    "created": "2025-11-06T06:08:50.930Z",
    "modified": "2025-11-06T06:15:57.138Z"
  },
  {
    "projectId": "449c2d1e-d329-493e-b6ba-2c30209ae999",
    "testId": "8563b289-7fce-4cb6-bd7f-13a99785bf65",
    "userId": "9478c4d8-20a1-70fe-6045-2e4c0ed91926",
    "title": "TC003-Booking with MercadoPago Payment Success",
    "description": "Verify booking flow when locatario chooses to pay via MercadoPago and payment completes successfully.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:4200\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Scroll down or interact to reveal car listings and rental date selectors.\n        await page.mouse.wheel(0, await page.evaluate('() => window.innerHeight'))\n        \n\n        # -> Input rental start and end dates, then select a car to rent.\n        frame = context.pages[-1]\n        # Input rental start date\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/div/div/div/app-date-range-picker/div/div[3]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('2025-11-10')\n        \n\n        # -> Input rental end date and select the Volkswagen Gol Trend 2021 car to rent.\n        frame = context.pages[-1]\n        # Input rental end date\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/div/div/div/app-date-range-picker/div/div[3]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('2025-11-15')\n        \n\n        frame = context.pages[-1]\n        # Select Volkswagen Gol Trend 2021 car to rent\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/div/div[2]/div[2]/div/app-car-card/article').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input rental start and end dates again, then select a car to rent and proceed to payment selection.\n        frame = context.pages[-1]\n        # Input rental start date\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/div/div/div/app-date-range-picker/div/div[3]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('2025-11-10')\n        \n\n        frame = context.pages[-1]\n        # Input rental end date\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/div/div/div/app-date-range-picker/div/div[3]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('2025-11-15')\n        \n\n        await page.mouse.wheel(0, await page.evaluate('() => window.innerHeight'))\n        \n\n        # -> Input rental start and end dates, then click 'Buscar autos' to search for available cars.\n        frame = context.pages[-1]\n        # Input rental start date\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/div/div/div/app-date-range-picker/div/div[3]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('2025-11-10')\n        \n\n        frame = context.pages[-1]\n        # Input rental end date\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/div/div/div/app-date-range-picker/div/div[3]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('2025-11-15')\n        \n\n        frame = context.pages[-1]\n        # Click 'Buscar autos' to search for available cars\n        elem = frame.locator('xpath=html/body/app-root/div/footer/div/div/div[2]/ul/li[2]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click the correct 'Buscar autos' button to search for available cars after inputting rental dates.\n        frame = context.pages[-1]\n        # Click 'Buscar autos' to search for available cars\n        elem = frame.locator('xpath=html/body/app-root/div/footer/div/div/div[2]/ul/li/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Scroll down to reveal car listings and select a car to rent.\n        await page.mouse.wheel(0, await page.evaluate('() => window.innerHeight'))\n        \n\n        # -> Scroll down to find car listings and select a car to rent.\n        await page.mouse.wheel(0, await page.evaluate('() => window.innerHeight'))\n        \n\n        # -> Try to scroll down further or interact with filters to reveal car listings. If no car listings appear, report the issue and stop testing.\n        await page.mouse.wheel(0, await page.evaluate('() => window.innerHeight'))\n        \n\n        # -> Try to interact with filters or sorting options to reveal car listings. If no car listings appear, report the issue and stop testing.\n        frame = context.pages[-1]\n        # Click 'Filtros' button to try to reveal car listings\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/div/div/div/app-map-filters/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Try to adjust filters or close the filter panel to reveal car listings and select a car to proceed to payment.\n        frame = context.pages[-1]\n        # Click 'Limpiar filtros' to reset filters and try to reveal car listings\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/div/div/div/app-map-filters/div/div/div[3]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Payment Failed: MercadoPago transaction declined').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test case failed: The booking flow for MercadoPago payment did not complete successfully as expected. Booking confirmation was not displayed after payment.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "The booking flow test for MercadoPago payment method could not be fully completed. After successfully inputting rental dates and searching for cars, the search results page showed a map and filters but no car listings were visible. Attempts to reveal car listings by scrolling and interacting with the filter panel failed, as the filter panel remained open and obscured the listings. This prevented selecting a car and proceeding to payment selection, thus blocking verification of the MercadoPago payment flow. The test is stopped due to these UI issues preventing completion.\nBrowser Console Logs:\n[WARNING] <link rel=preload> uses an unsupported `as` value (at http://localhost:4200/:45:0)\n[WARNING] The 'allowSignalWrites' flag is deprecated and no longer impacts effect() (writes are always allowed) (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-AY6GKBS4.js?v=af777c5b:3143:12)\n[WARNING] Error getting current position: User denied Geolocation (at http://localhost:4200/chunk-YEIUFSFY.js:256:18)\n[WARNING] ⚠️ LCP is above target (2.5s): 35.32s (at http://localhost:4200/main.js:6357:20)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/22222222-2222-2222-2222-222222222222/8447c379-6b51-4b5e-8647-0f5de243f729/e6d81e06-8013-4a28-9363-d75f512c28a1-no-bg.png?t=1760916490501\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 600w x 400h (aspect-ratio: 1.50). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-59011ffc-b8e1-432a-b4f6-4fd5bdc4e3ee-3/4-front-1761490262740.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-d10aad20-280a-4819-ac79-ff22b79449e6-3/4-front-1761490075780.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/ae4a91fa-e951-49a3-94fb-0c3ee4786166/8a854591-3fec-4425-946e-c7bb764a7333/93adfdee-0014-4796-bf77-c53b25231576.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-95dadd02-5b5e-4cd0-89aa-0adad31c78a7-3/4-front-1761490291667.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-caa404cc-6423-4f5e-b5df-f0d02f7d1aff-3/4-front-1761490282306.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-82c3ecf6-1d8c-46fc-9fad-6dd63c3aeac7-3/4-front-1761490271806.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] ⚠️ Low FPS detected: 10fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] ⚠️ Low FPS detected: 15fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] [GroupMarkerNotSet(crbug.com/242999)!:A0584600FC080000]Automatic fallback to software WebGL has been deprecated. Please use the --enable-unsafe-swiftshader flag to opt in to lower security guarantees for trusted content. (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x8fc07125a00]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/1ed1dcf4-7a41-4213-8369-b2a86ca534ba/4b3c5aed-8e3b-463e-8f3a-909a92e072e0/1cecf709-7383-4ef0-a62a-6a13100d3eac.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-22be81b9-2067-444a-a35d-ccf3997f2c4b-3/4-front-1761490091152.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[ERROR] Failed to load resource: the server responded with a status of 404 () (at https://example.com/cars/demo.jpg:0:0)\n[WARNING] [.WebGL-0x8fc07125a00]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x8fc07125a00]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478c4d8-20a1-70fe-6045-2e4c0ed91926/1762409795086595//tmp/test_task/result.webm",
    "created": "2025-11-06T06:08:50.936Z",
    "modified": "2025-11-06T06:16:35.289Z"
  },
  {
    "projectId": "449c2d1e-d329-493e-b6ba-2c30209ae999",
    "testId": "2a497e02-6e90-44cb-9eec-fb4fe31c9a69",
    "userId": "9478c4d8-20a1-70fe-6045-2e4c0ed91926",
    "title": "TC004-Handle MercadoPago Payment Failure",
    "description": "Validate that booking process handles MercadoPago payment failure gracefully and informs the user.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:4200\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Scroll down or interact to reveal car selection and rental date inputs to start the booking process.\n        await page.mouse.wheel(0, await page.evaluate('() => window.innerHeight'))\n        \n\n        # -> Select a car and input rental dates to proceed with booking.\n        frame = context.pages[-1]\n        # Select the Fiat Cronos 2022 - Familiar car to start booking process.\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/div/div[2]/div[2]/div/app-car-card/article').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input rental start and end dates to proceed with booking.\n        frame = context.pages[-1]\n        # Input rental start date\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-car-detail-page/section/aside/div[2]/div[5]/app-date-range-picker/div/div[3]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('2025-11-10')\n        \n\n        frame = context.pages[-1]\n        # Input rental end date\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-car-detail-page/section/aside/div[2]/div[5]/app-date-range-picker/div/div[3]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('2025-11-15')\n        \n\n        # -> Click the button or link to initiate the booking process and proceed to payment method selection.\n        frame = context.pages[-1]\n        # Click 'Inicia sesión para reservar' to proceed to login or booking payment step.\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-car-detail-page/section/aside/div[2]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click the 'Ingresar' link or button at index 6 to navigate to the login page or reveal the login form, then input credentials.\n        frame = context.pages[-1]\n        # Click 'Ingresar' link to navigate to login page or reveal login form.\n        elem = frame.locator('xpath=html/body/app-root/div/header/div/div/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=MercadoPago payment successful').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test failed: MercadoPago payment failure was not handled gracefully. Booking should not complete, and user should see an error message with options to retry or select alternative payment methods.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Testing stopped due to inability to access the login form. The booking process cannot proceed to payment selection or simulate MercadoPago payment failure. Please fix the login flow to enable further testing.\nBrowser Console Logs:\n[WARNING] <link rel=preload> uses an unsupported `as` value (at http://localhost:4200/:45:0)\n[WARNING] The 'allowSignalWrites' flag is deprecated and no longer impacts effect() (writes are always allowed) (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-AY6GKBS4.js?v=af777c5b:3143:12)\n[WARNING] Error getting current position: User denied Geolocation (at http://localhost:4200/chunk-YEIUFSFY.js:256:18)\n[WARNING] ⚠️ LCP is above target (2.5s): 31.48s (at http://localhost:4200/main.js:6357:20)\n[WARNING] ⚠️ Low FPS detected: 15fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] ⚠️ Low FPS detected: 15fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/22222222-2222-2222-2222-222222222222/8447c379-6b51-4b5e-8647-0f5de243f729/e6d81e06-8013-4a28-9363-d75f512c28a1-no-bg.png?t=1760916490501\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 600w x 400h (aspect-ratio: 1.50). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] ⚠️ Low FPS detected: 10fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] [GroupMarkerNotSet(crbug.com/242999)!:A0443B00D4150000]Automatic fallback to software WebGL has been deprecated. Please use the --enable-unsafe-swiftshader flag to opt in to lower security guarantees for trusted content. (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x15d406add580]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x15d406add580]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x15d406add580]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/ae4a91fa-e951-49a3-94fb-0c3ee4786166/8a854591-3fec-4425-946e-c7bb764a7333/93adfdee-0014-4796-bf77-c53b25231576.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] [.WebGL-0x15d406add580]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (this message will no longer repeat) (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-caa404cc-6423-4f5e-b5df-f0d02f7d1aff-3/4-front-1761490282306.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-82c3ecf6-1d8c-46fc-9fad-6dd63c3aeac7-3/4-front-1761490271806.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-d10aad20-280a-4819-ac79-ff22b79449e6-3/4-front-1761490075780.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-59011ffc-b8e1-432a-b4f6-4fd5bdc4e3ee-3/4-front-1761490262740.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-95dadd02-5b5e-4cd0-89aa-0adad31c78a7-3/4-front-1761490291667.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[ERROR] Failed to load resource: the server responded with a status of 404 () (at https://example.com/cars/demo.jpg:0:0)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478c4d8-20a1-70fe-6045-2e4c0ed91926/1762409593844485//tmp/test_task/result.webm",
    "created": "2025-11-06T06:08:50.943Z",
    "modified": "2025-11-06T06:13:14.006Z"
  },
  {
    "projectId": "449c2d1e-d329-493e-b6ba-2c30209ae999",
    "testId": "1a34b2d9-f004-4210-8fe5-b6d09dc7e4cf",
    "userId": "9478c4d8-20a1-70fe-6045-2e4c0ed91926",
    "title": "TC005-Prevent Locatario from Booking Own Car",
    "description": "Verify that a user acting as locatario cannot book a car they own (locador).",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:4200\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Find and click the login button or link to start login process.\n        frame = context.pages[-1]\n        # Click login button or link to start login process\n        elem = frame.locator('xpath=html/body/app-root/div/header/div/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Try to input username and password into the correct input fields (indexes 9 and 10) and then click the login button (index 11).\n        frame = context.pages[-1]\n        # Input username in email field\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('ecucondor@gmail.com')\n        \n\n        frame = context.pages[-1]\n        # Input password in password field\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Ab.12345')\n        \n\n        frame = context.pages[-1]\n        # Click 'Ingresar' button to submit login form\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Navigate to 'Buscar autos' page or section to find user's own cars and attempt booking.\n        frame = context.pages[-1]\n        # Click 'Buscar autos' to navigate to car search page\n        elem = frame.locator('xpath=html/body/app-root/div/header/div/nav/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Scroll down to load car listings and identify user's own cars to attempt booking.\n        await page.mouse.wheel(0, 400)\n        \n\n        # -> Scroll down further or extract content to locate car listings, identify user's own cars, and attempt booking.\n        await page.mouse.wheel(0, 400)\n        \n\n        # -> Input rental start and end dates to trigger loading of car listings, then identify user's own cars to attempt booking.\n        frame = context.pages[-1]\n        # Input rental start date\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/div/div/div/app-date-range-picker/div/div[3]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('2025-11-10')\n        \n\n        # -> Input rental end date and click 'Filtros' button to apply filters and load cars.\n        frame = context.pages[-1]\n        # Input rental end date\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/div/div/div/app-date-range-picker/div/div[3]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('2025-11-15')\n        \n\n        frame = context.pages[-1]\n        # Click 'Filtros' button to apply filters and load cars\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/div/div/div/app-map-filters/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click 'Limpiar filtros' to reset filters, then apply filters to load car listings and identify user's own cars for booking attempt.\n        frame = context.pages[-1]\n        # Click 'Limpiar filtros' to reset filters and refresh car listings\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/div/div/div/app-map-filters/div/div/div[3]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Scroll down to load car listings and identify user's own cars to attempt booking.\n        await page.mouse.wheel(0, await page.evaluate('() => window.innerHeight'))\n        \n\n        # -> Try clicking on the map or other UI elements that might trigger loading or display of car listings, or try extracting content again to confirm no cars are present.\n        frame = context.pages[-1]\n        # Click on the map to trigger loading or display of car listings\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/app-cars-map/div/div/div[2]/canvas').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Booking Successful! Your car has been booked.').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test failed: The system did not allow booking of a car owned by the user (locador), as expected. Booking should be prevented and an appropriate error message should be shown.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Test could not be completed because no car listings were visible or available to attempt booking. The system did not load any cars for the logged-in locador user. Please verify test data and environment setup.\nBrowser Console Logs:\n[WARNING] <link rel=preload> uses an unsupported `as` value (at http://localhost:4200/:45:0)\n[WARNING] The 'allowSignalWrites' flag is deprecated and no longer impacts effect() (writes are always allowed) (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-AY6GKBS4.js?v=af777c5b:3143:12)\n[WARNING] Error getting current position: User denied Geolocation (at http://localhost:4200/chunk-YEIUFSFY.js:256:18)\n[WARNING] ⚠️ LCP is above target (2.5s): 29.59s (at http://localhost:4200/main.js:6357:20)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-d10aad20-280a-4819-ac79-ff22b79449e6-3/4-front-1761490075780.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/22222222-2222-2222-2222-222222222222/8447c379-6b51-4b5e-8647-0f5de243f729/e6d81e06-8013-4a28-9363-d75f512c28a1-no-bg.png?t=1760916490501\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 600w x 400h (aspect-ratio: 1.50). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-59011ffc-b8e1-432a-b4f6-4fd5bdc4e3ee-3/4-front-1761490262740.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-caa404cc-6423-4f5e-b5df-f0d02f7d1aff-3/4-front-1761490282306.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-95dadd02-5b5e-4cd0-89aa-0adad31c78a7-3/4-front-1761490291667.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-82c3ecf6-1d8c-46fc-9fad-6dd63c3aeac7-3/4-front-1761490271806.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/ae4a91fa-e951-49a3-94fb-0c3ee4786166/8a854591-3fec-4425-946e-c7bb764a7333/93adfdee-0014-4796-bf77-c53b25231576.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] ⚠️ Low FPS detected: 15fps (at http://localhost:4200/main.js:6337:18)\n[ERROR] Failed to load resource: the server responded with a status of 404 () (at https://example.com/cars/demo.jpg:0:0)\n[WARNING] ⚠️ Low FPS detected: 15fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] ⚠️ Low FPS detected: 20fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/1ed1dcf4-7a41-4213-8369-b2a86ca534ba/4b3c5aed-8e3b-463e-8f3a-909a92e072e0/1cecf709-7383-4ef0-a62a-6a13100d3eac.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] [GroupMarkerNotSet(crbug.com/242999)!:A0EC390094370000]Automatic fallback to software WebGL has been deprecated. Please use the --enable-unsafe-swiftshader flag to opt in to lower security guarantees for trusted content. (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x37940a5f4f00]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-22be81b9-2067-444a-a35d-ccf3997f2c4b-3/4-front-1761490091152.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] [.WebGL-0x37940a5f4f00]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478c4d8-20a1-70fe-6045-2e4c0ed91926/1762409723324782//tmp/test_task/result.webm",
    "created": "2025-11-06T06:08:50.950Z",
    "modified": "2025-11-06T06:15:23.547Z"
  },
  {
    "projectId": "449c2d1e-d329-493e-b6ba-2c30209ae999",
    "testId": "93e8f28c-b360-4f23-a845-9b189df530fc",
    "userId": "9478c4d8-20a1-70fe-6045-2e4c0ed91926",
    "title": "TC006-Booking Conflict Detection for Overlapping Rentals",
    "description": "Verify system detects booking conflicts when rental dates overlap with existing confirmed bookings.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:4200\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Try to find navigation or login elements to access car listings or bookings.\n        await page.mouse.wheel(0, await page.evaluate('() => window.innerHeight'))\n        \n\n        # -> Click on 'Ingresar' button to login with provided credentials.\n        frame = context.pages[-1]\n        # Click on 'Ingresar' button to open login form\n        elem = frame.locator('xpath=html/body/app-root/div/header/div/div/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input email and password, then click 'Ingresar' to login.\n        frame = context.pages[-1]\n        # Input email for login\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('ecucondor@gmail.com')\n        \n\n        frame = context.pages[-1]\n        # Input password for login\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Ab.12345')\n        \n\n        frame = context.pages[-1]\n        # Click 'Ingresar' button to submit login form\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click on 'Mis reservas' link to view existing confirmed bookings.\n        frame = context.pages[-1]\n        # Click on 'Mis reservas' to view existing bookings\n        elem = frame.locator('xpath=html/body/app-root/div/header/div/nav/a[3]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Booking Confirmed Successfully').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test failed: Booking conflict detection did not work as expected. The system should block booking submissions with overlapping rental dates and notify the user about the conflict.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "The 'Mis reservas' page does not display any existing confirmed bookings after clicking the link. This prevents verifying booking conflicts as required by the test. Further testing cannot proceed until this issue is resolved.\nBrowser Console Logs:\n[WARNING] <link rel=preload> uses an unsupported `as` value (at http://localhost:4200/:45:0)\n[WARNING] The 'allowSignalWrites' flag is deprecated and no longer impacts effect() (writes are always allowed) (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-AY6GKBS4.js?v=af777c5b:3143:12)\n[WARNING] Error getting current position: User denied Geolocation (at http://localhost:4200/chunk-YEIUFSFY.js:256:18)\n[WARNING] ⚠️ Low FPS detected: 30fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] ⚠️ LCP is above target (2.5s): 28.56s (at http://localhost:4200/main.js:6357:20)\n[WARNING] ⚠️ Low FPS detected: 12fps (at http://localhost:4200/main.js:6337:18)\n[ERROR] Failed to load resource: the server responded with a status of 404 () (at https://example.com/cars/demo.jpg:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-d10aad20-280a-4819-ac79-ff22b79449e6-3/4-front-1761490075780.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/22222222-2222-2222-2222-222222222222/8447c379-6b51-4b5e-8647-0f5de243f729/e6d81e06-8013-4a28-9363-d75f512c28a1-no-bg.png?t=1760916490501\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 600w x 400h (aspect-ratio: 1.50). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] ⚠️ Low FPS detected: 15fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] [GroupMarkerNotSet(crbug.com/242999)!:A0583B00C43E0000]Automatic fallback to software WebGL has been deprecated. Please use the --enable-unsafe-swiftshader flag to opt in to lower security guarantees for trusted content. (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x3ec4081e6280]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-82c3ecf6-1d8c-46fc-9fad-6dd63c3aeac7-3/4-front-1761490271806.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] [.WebGL-0x3ec4081e6280]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/ae4a91fa-e951-49a3-94fb-0c3ee4786166/8a854591-3fec-4425-946e-c7bb764a7333/93adfdee-0014-4796-bf77-c53b25231576.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] [.WebGL-0x3ec4081e6280]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x3ec4081e6280]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (this message will no longer repeat) (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-caa404cc-6423-4f5e-b5df-f0d02f7d1aff-3/4-front-1761490282306.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-95dadd02-5b5e-4cd0-89aa-0adad31c78a7-3/4-front-1761490291667.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-59011ffc-b8e1-432a-b4f6-4fd5bdc4e3ee-3/4-front-1761490262740.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478c4d8-20a1-70fe-6045-2e4c0ed91926/1762409559789112//tmp/test_task/result.webm",
    "created": "2025-11-06T06:08:50.956Z",
    "modified": "2025-11-06T06:12:39.946Z"
  },
  {
    "projectId": "449c2d1e-d329-493e-b6ba-2c30209ae999",
    "testId": "d2953dc8-9b9d-4e7e-97a5-29bfdefd1bf2",
    "userId": "9478c4d8-20a1-70fe-6045-2e4c0ed91926",
    "title": "TC007-Locador Car Publication with MercadoPago OAuth Verification",
    "description": "Verify that locadores can publish cars only after successful MercadoPago OAuth onboarding is completed.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:4200\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Find and click login or menu to access login for locador.\n        await page.mouse.wheel(0, await page.evaluate('() => window.innerHeight'))\n        \n\n        # -> Click the 'Ingresar' button to proceed to login as locador.\n        frame = context.pages[-1]\n        # Click the 'Ingresar' button to go to login page\n        elem = frame.locator('xpath=html/body/app-root/div/header/div/div/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input email and password for locador without MercadoPago onboarding and click login.\n        frame = context.pages[-1]\n        # Input email for locador login\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('ecucondor@gmail.com')\n        \n\n        frame = context.pages[-1]\n        # Input password for locador login\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Ab.12345')\n        \n\n        frame = context.pages[-1]\n        # Click 'Ingresar' button to login as locador\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click the 'Publicar' button (index 3) to start the car publication process.\n        frame = context.pages[-1]\n        # Click 'Publicar' button to start car publication\n        elem = frame.locator('xpath=html/body/app-root/div/header/div/nav/a[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=MercadoPago OAuth onboarding required').first).to_be_visible(timeout=3000)\n        except AssertionError:\n            raise AssertionError(\"Test failed: The system did not block car publication and prompt for MercadoPago OAuth onboarding as expected after login without onboarding.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Test stopped due to critical issue: 'Publicar' link does not work, blocking the ability to verify MercadoPago OAuth onboarding enforcement for car publication by locadores.\nBrowser Console Logs:\n[WARNING] <link rel=preload> uses an unsupported `as` value (at http://localhost:4200/:45:0)\n[WARNING] The 'allowSignalWrites' flag is deprecated and no longer impacts effect() (writes are always allowed) (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-AY6GKBS4.js?v=af777c5b:3143:12)\n[WARNING] Error getting current position: User denied Geolocation (at http://localhost:4200/chunk-YEIUFSFY.js:256:18)\n[WARNING] ⚠️ LCP is above target (2.5s): 35.06s (at http://localhost:4200/main.js:6357:20)\n[WARNING] ⚠️ Low FPS detected: 9fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/22222222-2222-2222-2222-222222222222/8447c379-6b51-4b5e-8647-0f5de243f729/e6d81e06-8013-4a28-9363-d75f512c28a1-no-bg.png?t=1760916490501\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 600w x 400h (aspect-ratio: 1.50). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] ⚠️ Low FPS detected: 20fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] [GroupMarkerNotSet(crbug.com/242999)!:A06C3B00343A0000]Automatic fallback to software WebGL has been deprecated. Please use the --enable-unsafe-swiftshader flag to opt in to lower security guarantees for trusted content. (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x3a3409112700]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-d10aad20-280a-4819-ac79-ff22b79449e6-3/4-front-1761490075780.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-59011ffc-b8e1-432a-b4f6-4fd5bdc4e3ee-3/4-front-1761490262740.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-95dadd02-5b5e-4cd0-89aa-0adad31c78a7-3/4-front-1761490291667.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] [.WebGL-0x3a3409112700]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x3a3409112700]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x3a3409112700]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (this message will no longer repeat) (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-caa404cc-6423-4f5e-b5df-f0d02f7d1aff-3/4-front-1761490282306.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-82c3ecf6-1d8c-46fc-9fad-6dd63c3aeac7-3/4-front-1761490271806.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/ae4a91fa-e951-49a3-94fb-0c3ee4786166/8a854591-3fec-4425-946e-c7bb764a7333/93adfdee-0014-4796-bf77-c53b25231576.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] ⚠️ Low FPS detected: 1fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] ⚠️ No se pudo obtener ubicación del usuario: User denied Geolocation (at http://localhost:4200/chunk-HLEQ3OH3.js:895:16)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478c4d8-20a1-70fe-6045-2e4c0ed91926/1762409556146074//tmp/test_task/result.webm",
    "created": "2025-11-06T06:08:50.962Z",
    "modified": "2025-11-06T06:12:36.406Z"
  },
  {
    "projectId": "449c2d1e-d329-493e-b6ba-2c30209ae999",
    "testId": "6643c309-228a-4f32-ab7d-cbc840f13a4c",
    "userId": "9478c4d8-20a1-70fe-6045-2e4c0ed91926",
    "title": "TC008-Wallet Deposit via MercadoPago with Webhook Confirmation",
    "description": "Verify wallet deposit process from initiation through MercadoPago, webhook confirmation, and balance update.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:4200\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Locate and navigate to login or wallet deposit page to initiate wallet deposit using MercadoPago.\n        await page.mouse.wheel(0, await page.evaluate('() => window.innerHeight'))\n        \n\n        # -> Click on 'Ingresar' to login with provided credentials.\n        frame = context.pages[-1]\n        # Click on 'Ingresar' button to go to login page\n        elem = frame.locator('xpath=html/body/app-root/div/header/div/div/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input email and password, then click 'Ingresar' to login.\n        frame = context.pages[-1]\n        # Input email for login\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('ecucondor@gmail.com')\n        \n\n        frame = context.pages[-1]\n        # Input password for login\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Ab.12345')\n        \n\n        frame = context.pages[-1]\n        # Click 'Ingresar' button to submit login form\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Retry login by re-entering credentials and clicking 'Ingresar' again or check for error messages.\n        frame = context.pages[-1]\n        # Re-input email for login\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('ecucondor@gmail.com')\n        \n\n        frame = context.pages[-1]\n        # Re-input password for login\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Ab.12345')\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Deposit Successful! Your wallet has been credited.').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test failed: Wallet deposit process via MercadoPago did not complete successfully, webhook confirmation or balance update missing as per test plan.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Login failed due to Supabase connection error. Cannot proceed with wallet deposit process testing. Please fix the backend connection issue and retry.\nBrowser Console Logs:\n[WARNING] <link rel=preload> uses an unsupported `as` value (at http://localhost:4200/:45:0)\n[WARNING] The 'allowSignalWrites' flag is deprecated and no longer impacts effect() (writes are always allowed) (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-AY6GKBS4.js?v=af777c5b:3143:12)\n[WARNING] Error getting current position: User denied Geolocation (at http://localhost:4200/chunk-YEIUFSFY.js:256:18)\n[WARNING] ⚠️ LCP is above target (2.5s): 33.36s (at http://localhost:4200/main.js:6357:20)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/22222222-2222-2222-2222-222222222222/8447c379-6b51-4b5e-8647-0f5de243f729/e6d81e06-8013-4a28-9363-d75f512c28a1-no-bg.png?t=1760916490501\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 600w x 400h (aspect-ratio: 1.50). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] ⚠️ Low FPS detected: 12fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-59011ffc-b8e1-432a-b4f6-4fd5bdc4e3ee-3/4-front-1761490262740.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-d10aad20-280a-4819-ac79-ff22b79449e6-3/4-front-1761490075780.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] ⚠️ Low FPS detected: 15fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-95dadd02-5b5e-4cd0-89aa-0adad31c78a7-3/4-front-1761490291667.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] [GroupMarkerNotSet(crbug.com/242999)!:A0AC450024040000]Automatic fallback to software WebGL has been deprecated. Please use the --enable-unsafe-swiftshader flag to opt in to lower security guarantees for trusted content. (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x42406d51480]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-caa404cc-6423-4f5e-b5df-f0d02f7d1aff-3/4-front-1761490282306.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-82c3ecf6-1d8c-46fc-9fad-6dd63c3aeac7-3/4-front-1761490271806.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] [.WebGL-0x42406d51480]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x42406d51480]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/ae4a91fa-e951-49a3-94fb-0c3ee4786166/8a854591-3fec-4425-946e-c7bb764a7333/93adfdee-0014-4796-bf77-c53b25231576.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[ERROR] Failed to load resource: the server responded with a status of 404 () (at https://example.com/cars/demo.jpg:0:0)\n[WARNING] [.WebGL-0x42406d51480]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (this message will no longer repeat) (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-22be81b9-2067-444a-a35d-ccf3997f2c4b-3/4-front-1761490091152.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478c4d8-20a1-70fe-6045-2e4c0ed91926/176240956558579//tmp/test_task/result.webm",
    "created": "2025-11-06T06:08:50.969Z",
    "modified": "2025-11-06T06:12:45.723Z"
  },
  {
    "projectId": "449c2d1e-d329-493e-b6ba-2c30209ae999",
    "testId": "076d335b-f68b-4f30-b475-a4df6036677a",
    "userId": "9478c4d8-20a1-70fe-6045-2e4c0ed91926",
    "title": "TC009-Prevent Duplicate Wallet Deposits from Repeated Webhooks",
    "description": "Verify that duplicate webhook notifications do not cause multiple wallet balance increments for the same deposit.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:4200\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Locate and navigate to wallet deposit page or login to user account to process a wallet deposit with valid MercadoPago payment.\n        frame = context.pages[-1]\n        # No interactive elements found to click, will try to go to login or wallet deposit page next\n        elem = frame.locator('xpath=html/body/app-root/app-splash-loader/div/div[2]/div/img').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click the 'Ingresar' button to log in with provided credentials.\n        frame = context.pages[-1]\n        # Click 'Ingresar' button to open login form\n        elem = frame.locator('xpath=html/body/app-root/div/header/div/div/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input email and password, then click 'Ingresar' to log in.\n        frame = context.pages[-1]\n        # Input email address\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('ecucondor@gmail.com')\n        \n\n        frame = context.pages[-1]\n        # Input password\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Ab.12345')\n        \n\n        frame = context.pages[-1]\n        # Click 'Ingresar' button to submit login form\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click on the 'Wallet' link at index 5 to go to the wallet section.\n        frame = context.pages[-1]\n        # Click on 'Wallet' link to navigate to wallet section\n        elem = frame.locator('xpath=html/body/app-root/div/header/div/nav/a[4]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Duplicate deposit processed successfully').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test failed: Duplicate webhook notifications caused multiple wallet balance increments for the same deposit, violating the test plan requirement.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Test stopped due to inability to access the wallet section. The 'Wallet' link is unresponsive or broken, preventing further testing of wallet deposit and duplicate webhook notification handling.\nBrowser Console Logs:\n[WARNING] <link rel=preload> uses an unsupported `as` value (at http://localhost:4200/:45:0)\n[WARNING] The 'allowSignalWrites' flag is deprecated and no longer impacts effect() (writes are always allowed) (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-AY6GKBS4.js?v=af777c5b:3143:12)\n[WARNING] Error getting current position: User denied Geolocation (at http://localhost:4200/chunk-YEIUFSFY.js:256:18)\n[WARNING] ⚠️ LCP is above target (2.5s): 30.82s (at http://localhost:4200/main.js:6357:20)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/22222222-2222-2222-2222-222222222222/8447c379-6b51-4b5e-8647-0f5de243f729/e6d81e06-8013-4a28-9363-d75f512c28a1-no-bg.png?t=1760916490501\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 600w x 400h (aspect-ratio: 1.50). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] [GroupMarkerNotSet(crbug.com/242999)!:A0C44600CC380000]Automatic fallback to software WebGL has been deprecated. Please use the --enable-unsafe-swiftshader flag to opt in to lower security guarantees for trusted content. (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x38cc0bfa2800]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-d10aad20-280a-4819-ac79-ff22b79449e6-3/4-front-1761490075780.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] ⚠️ Low FPS detected: 12fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] [.WebGL-0x38cc0bfa2800]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x38cc0bfa2800]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x38cc0bfa2800]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (this message will no longer repeat) (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-59011ffc-b8e1-432a-b4f6-4fd5bdc4e3ee-3/4-front-1761490262740.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-95dadd02-5b5e-4cd0-89aa-0adad31c78a7-3/4-front-1761490291667.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-caa404cc-6423-4f5e-b5df-f0d02f7d1aff-3/4-front-1761490282306.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/ae4a91fa-e951-49a3-94fb-0c3ee4786166/8a854591-3fec-4425-946e-c7bb764a7333/93adfdee-0014-4796-bf77-c53b25231576.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-82c3ecf6-1d8c-46fc-9fad-6dd63c3aeac7-3/4-front-1761490271806.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] ⚠️ No se pudo obtener ubicación del usuario: User denied Geolocation (at http://localhost:4200/chunk-HLEQ3OH3.js:895:16)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-99d5af74-a2c7-43d5-9c02-93d7446000a2-3/4-front-1761490251766.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/1ed1dcf4-7a41-4213-8369-b2a86ca534ba/4b3c5aed-8e3b-463e-8f3a-909a92e072e0/1cecf709-7383-4ef0-a62a-6a13100d3eac.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478c4d8-20a1-70fe-6045-2e4c0ed91926/17624095584681//tmp/test_task/result.webm",
    "created": "2025-11-06T06:08:50.975Z",
    "modified": "2025-11-06T06:12:38.639Z"
  },
  {
    "projectId": "449c2d1e-d329-493e-b6ba-2c30209ae999",
    "testId": "17d39bc9-2e69-4290-8f70-25f8c08d6dfb",
    "userId": "9478c4d8-20a1-70fe-6045-2e4c0ed91926",
    "title": "TC010-Withdrawal Request with Insufficient Wallet Balance",
    "description": "Verify that locadores cannot withdraw more than the available wallet balance and system blocks such requests.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:4200\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Scroll down or try to find login elements to start login as locador.\n        await page.mouse.wheel(0, 300)\n        \n\n        # -> Click on 'Ingresar' to open login form.\n        frame = context.pages[-1]\n        # Click on 'Ingresar' button to open login form\n        elem = frame.locator('xpath=html/body/app-root/div/header/div/div/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input email and password for locador and click 'Ingresar' to login.\n        frame = context.pages[-1]\n        # Input email for locador login\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('ecucondor@gmail.com')\n        \n\n        frame = context.pages[-1]\n        # Input password for locador login\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Ab.12345')\n        \n\n        frame = context.pages[-1]\n        # Click 'Ingresar' button to submit login form\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Retry login or check for error messages on the login page.\n        frame = context.pages[-1]\n        # Re-input email for locador login\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('ecucondor@gmail.com')\n        \n\n        frame = context.pages[-1]\n        # Re-input password for locador login\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Ab.12345')\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Withdrawal Successful').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test failed: Withdrawal request exceeding wallet balance was not blocked as expected. The system should prevent locadores from withdrawing more than their available wallet balance.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Login failed due to Supabase connection error. Cannot verify withdrawal limits for locadores. Testing stopped.\nBrowser Console Logs:\n[WARNING] <link rel=preload> uses an unsupported `as` value (at http://localhost:4200/:45:0)\n[WARNING] The 'allowSignalWrites' flag is deprecated and no longer impacts effect() (writes are always allowed) (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-AY6GKBS4.js?v=af777c5b:3143:12)\n[WARNING] Error getting current position: User denied Geolocation (at http://localhost:4200/chunk-YEIUFSFY.js:256:18)\n[WARNING] ⚠️ LCP is above target (2.5s): 31.07s (at http://localhost:4200/main.js:6357:20)\n[WARNING] ⚠️ Low FPS detected: 12fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/22222222-2222-2222-2222-222222222222/8447c379-6b51-4b5e-8647-0f5de243f729/e6d81e06-8013-4a28-9363-d75f512c28a1-no-bg.png?t=1760916490501\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 600w x 400h (aspect-ratio: 1.50). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] ⚠️ Low FPS detected: 12fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-d10aad20-280a-4819-ac79-ff22b79449e6-3/4-front-1761490075780.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-59011ffc-b8e1-432a-b4f6-4fd5bdc4e3ee-3/4-front-1761490262740.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] ⚠️ Low FPS detected: 2fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] [GroupMarkerNotSet(crbug.com/242999)!:A0043B0054130000]Automatic fallback to software WebGL has been deprecated. Please use the --enable-unsafe-swiftshader flag to opt in to lower security guarantees for trusted content. (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x135409af4e00]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-95dadd02-5b5e-4cd0-89aa-0adad31c78a7-3/4-front-1761490291667.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-caa404cc-6423-4f5e-b5df-f0d02f7d1aff-3/4-front-1761490282306.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] [.WebGL-0x135409af4e00]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x135409af4e00]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-82c3ecf6-1d8c-46fc-9fad-6dd63c3aeac7-3/4-front-1761490271806.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] [.WebGL-0x135409af4e00]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (this message will no longer repeat) (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/ae4a91fa-e951-49a3-94fb-0c3ee4786166/8a854591-3fec-4425-946e-c7bb764a7333/93adfdee-0014-4796-bf77-c53b25231576.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[ERROR] Failed to load resource: the server responded with a status of 404 () (at https://example.com/cars/demo.jpg:0:0)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478c4d8-20a1-70fe-6045-2e4c0ed91926/1762409558658877//tmp/test_task/result.webm",
    "created": "2025-11-06T06:08:50.983Z",
    "modified": "2025-11-06T06:12:38.787Z"
  },
  {
    "projectId": "449c2d1e-d329-493e-b6ba-2c30209ae999",
    "testId": "cfd56b56-a9b9-4aa4-aec6-a0ffa2c16f1b",
    "userId": "9478c4d8-20a1-70fe-6045-2e4c0ed91926",
    "title": "TC011-Locador Messaging with Locatario Linked to Booking",
    "description": "Verify messaging system allows locadores and locatarios to communicate regarding specific cars and bookings.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:4200\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Find and click login or sign-in button to proceed with locador login.\n        await page.mouse.wheel(0, await page.evaluate('() => window.innerHeight'))\n        \n\n        # -> Click the 'Ingresar' button to open the login form.\n        frame = context.pages[-1]\n        # Click the 'Ingresar' button to open login form\n        elem = frame.locator('xpath=html/body/app-root/div/header/div/div/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input email and password for locador and click 'Ingresar' to login.\n        frame = context.pages[-1]\n        # Input locador email\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('ecucondor@gmail.com')\n        \n\n        frame = context.pages[-1]\n        # Input locador password\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Ab.12345')\n        \n\n        frame = context.pages[-1]\n        # Click 'Ingresar' button to submit login form\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Retry login or check for error messages on the login page.\n        frame = context.pages[-1]\n        # Retry clicking 'Ingresando...' button to attempt login again\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Booking Confirmation Received').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test failed: Messaging system test plan execution failed. The message regarding booking status was not received by the locatario linked to the specific booking/car.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Login as locador failed due to Supabase connection error. Cannot proceed with messaging system verification. Please fix the backend connection and retry.\nBrowser Console Logs:\n[WARNING] <link rel=preload> uses an unsupported `as` value (at http://localhost:4200/:45:0)\n[WARNING] The 'allowSignalWrites' flag is deprecated and no longer impacts effect() (writes are always allowed) (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-AY6GKBS4.js?v=af777c5b:3143:12)\n[WARNING] Error getting current position: User denied Geolocation (at http://localhost:4200/chunk-YEIUFSFY.js:256:18)\n[WARNING] ⚠️ LCP is above target (2.5s): 31.18s (at http://localhost:4200/main.js:6357:20)\n[WARNING] ⚠️ Low FPS detected: 15fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/22222222-2222-2222-2222-222222222222/8447c379-6b51-4b5e-8647-0f5de243f729/e6d81e06-8013-4a28-9363-d75f512c28a1-no-bg.png?t=1760916490501\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 600w x 400h (aspect-ratio: 1.50). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] ⚠️ Low FPS detected: 12fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] ⚠️ Low FPS detected: 12fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] [GroupMarkerNotSet(crbug.com/242999)!:A0984500EC380000]Automatic fallback to software WebGL has been deprecated. Please use the --enable-unsafe-swiftshader flag to opt in to lower security guarantees for trusted content. (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x38ec0c4d2e80]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-59011ffc-b8e1-432a-b4f6-4fd5bdc4e3ee-3/4-front-1761490262740.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] [.WebGL-0x38ec0c4d2e80]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-d10aad20-280a-4819-ac79-ff22b79449e6-3/4-front-1761490075780.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] [.WebGL-0x38ec0c4d2e80]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x38ec0c4d2e80]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (this message will no longer repeat) (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-95dadd02-5b5e-4cd0-89aa-0adad31c78a7-3/4-front-1761490291667.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-caa404cc-6423-4f5e-b5df-f0d02f7d1aff-3/4-front-1761490282306.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/ae4a91fa-e951-49a3-94fb-0c3ee4786166/8a854591-3fec-4425-946e-c7bb764a7333/93adfdee-0014-4796-bf77-c53b25231576.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-82c3ecf6-1d8c-46fc-9fad-6dd63c3aeac7-3/4-front-1761490271806.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[ERROR] Failed to load resource: the server responded with a status of 404 () (at https://example.com/cars/demo.jpg:0:0)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478c4d8-20a1-70fe-6045-2e4c0ed91926/1762409539976301//tmp/test_task/result.webm",
    "created": "2025-11-06T06:08:50.990Z",
    "modified": "2025-11-06T06:12:20.172Z"
  },
  {
    "projectId": "449c2d1e-d329-493e-b6ba-2c30209ae999",
    "testId": "404a6633-d356-49c9-a6a4-e79957f15782",
    "userId": "9478c4d8-20a1-70fe-6045-2e4c0ed91926",
    "title": "TC012-Unauthorized Data Access Prevention via RLS",
    "description": "Verify row-level security policies prevent users from accessing or modifying data that does not belong to them.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:4200\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Scroll down or try to find login or navigation elements to proceed with user authentication.\n        await page.mouse.wheel(0, 300)\n        \n\n        # -> Click on 'Ingresar' button to go to login page.\n        frame = context.pages[-1]\n        # Click on 'Ingresar' button to navigate to login page\n        elem = frame.locator('xpath=html/body/app-root/div/header/div/div/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input email and password, then click 'Ingresar' to login.\n        frame = context.pages[-1]\n        # Input email for login\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('ecucondor@gmail.com')\n        \n\n        frame = context.pages[-1]\n        # Input password for login\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Ab.12345')\n        \n\n        frame = context.pages[-1]\n        # Click 'Ingresar' button to submit login form\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click on 'Mis reservas' tab to view bookings and attempt to access bookings that do not belong to the logged-in user.\n        frame = context.pages[-1]\n        # Click on 'Mis reservas' tab to view user bookings\n        elem = frame.locator('xpath=html/body/app-root/div/header/div/nav/a[3]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Unauthorized Access to Other Users Data').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test failed: Row-level security policies did not prevent access or modification of other users' data as required by the test plan.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "The 'Mis reservas' tab failed to load bookings, blocking the ability to test row-level security policies for bookings. Further testing cannot proceed until this issue is resolved. Stopping the task as requested.\nBrowser Console Logs:\n[WARNING] <link rel=preload> uses an unsupported `as` value (at http://localhost:4200/:45:0)\n[WARNING] The 'allowSignalWrites' flag is deprecated and no longer impacts effect() (writes are always allowed) (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-AY6GKBS4.js?v=af777c5b:3143:12)\n[WARNING] Error getting current position: User denied Geolocation (at http://localhost:4200/chunk-YEIUFSFY.js:256:18)\n[WARNING] ⚠️ LCP is above target (2.5s): 33.56s (at http://localhost:4200/main.js:6357:20)\n[WARNING] ⚠️ Low FPS detected: 30fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/22222222-2222-2222-2222-222222222222/8447c379-6b51-4b5e-8647-0f5de243f729/e6d81e06-8013-4a28-9363-d75f512c28a1-no-bg.png?t=1760916490501\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 600w x 400h (aspect-ratio: 1.50). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] [GroupMarkerNotSet(crbug.com/242999)!:A0D84600E4260000]Automatic fallback to software WebGL has been deprecated. Please use the --enable-unsafe-swiftshader flag to opt in to lower security guarantees for trusted content. (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x26e4091c0f00]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x26e4091c0f00]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x26e4091c0f00]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x26e4091c0f00]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (this message will no longer repeat) (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-59011ffc-b8e1-432a-b4f6-4fd5bdc4e3ee-3/4-front-1761490262740.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-d10aad20-280a-4819-ac79-ff22b79449e6-3/4-front-1761490075780.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-95dadd02-5b5e-4cd0-89aa-0adad31c78a7-3/4-front-1761490291667.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-caa404cc-6423-4f5e-b5df-f0d02f7d1aff-3/4-front-1761490282306.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] ⚠️ No se pudo obtener ubicación del usuario: User denied Geolocation (at http://localhost:4200/chunk-HLEQ3OH3.js:895:16)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/ae4a91fa-e951-49a3-94fb-0c3ee4786166/8a854591-3fec-4425-946e-c7bb764a7333/93adfdee-0014-4796-bf77-c53b25231576.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-82c3ecf6-1d8c-46fc-9fad-6dd63c3aeac7-3/4-front-1761490271806.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[ERROR] Failed to load resource: the server responded with a status of 404 () (at https://example.com/cars/demo.jpg:0:0)\n[WARNING] ⚠️ Low FPS detected: 9fps (at http://localhost:4200/main.js:6337:18)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478c4d8-20a1-70fe-6045-2e4c0ed91926/1762409560701197//tmp/test_task/result.webm",
    "created": "2025-11-06T06:08:50.996Z",
    "modified": "2025-11-06T06:12:40.826Z"
  },
  {
    "projectId": "449c2d1e-d329-493e-b6ba-2c30209ae999",
    "testId": "c066f447-2aa8-46be-a1c0-1793a34ce537",
    "userId": "9478c4d8-20a1-70fe-6045-2e4c0ed91926",
    "title": "TC013-Performance Test: Page Load Times Under 2 Seconds",
    "description": "Verify that main pages (car list, booking checkout, wallet) load fully within 2 seconds under normal load.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:4200\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Find and navigate to the car listing page.\n        await page.mouse.wheel(0, await page.evaluate('() => window.innerHeight'))\n        \n\n        # -> Select a car from the listing to navigate to the booking checkout page.\n        frame = context.pages[-1]\n        # Click on the 'Fiat Cronos 2022 - Familiar' car card to go to booking checkout page.\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/div/div/div[2]/select').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Page loaded successfully in under 2 seconds')).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError('Test case failed: The main pages (car list, booking checkout, wallet) did not load fully within 2 seconds as required by the test plan.')\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Reported the issue of navigation failure from car listing to booking checkout page. Task stopped as further testing depends on this navigation.\nBrowser Console Logs:\n[WARNING] <link rel=preload> uses an unsupported `as` value (at http://localhost:4200/:45:0)\n[WARNING] The 'allowSignalWrites' flag is deprecated and no longer impacts effect() (writes are always allowed) (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-AY6GKBS4.js?v=af777c5b:3143:12)\n[WARNING] Error getting current position: User denied Geolocation (at http://localhost:4200/chunk-YEIUFSFY.js:256:18)\n[WARNING] ⚠️ LCP is above target (2.5s): 30.56s (at http://localhost:4200/main.js:6357:20)\n[WARNING] [GroupMarkerNotSet(crbug.com/242999)!:A0D83C0044090000]Automatic fallback to software WebGL has been deprecated. Please use the --enable-unsafe-swiftshader flag to opt in to lower security guarantees for trusted content. (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/22222222-2222-2222-2222-222222222222/8447c379-6b51-4b5e-8647-0f5de243f729/e6d81e06-8013-4a28-9363-d75f512c28a1-no-bg.png?t=1760916490501\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 600w x 400h (aspect-ratio: 1.50). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] [.WebGL-0x94400d66d80]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x94400d66d80]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[ERROR] Failed to load resource: the server responded with a status of 404 () (at https://example.com/cars/demo.jpg:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-82c3ecf6-1d8c-46fc-9fad-6dd63c3aeac7-3/4-front-1761490271806.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] [.WebGL-0x94400d66d80]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/ae4a91fa-e951-49a3-94fb-0c3ee4786166/8a854591-3fec-4425-946e-c7bb764a7333/93adfdee-0014-4796-bf77-c53b25231576.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-95dadd02-5b5e-4cd0-89aa-0adad31c78a7-3/4-front-1761490291667.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-caa404cc-6423-4f5e-b5df-f0d02f7d1aff-3/4-front-1761490282306.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-d10aad20-280a-4819-ac79-ff22b79449e6-3/4-front-1761490075780.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] [.WebGL-0x94400d66d80]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (this message will no longer repeat) (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-59011ffc-b8e1-432a-b4f6-4fd5bdc4e3ee-3/4-front-1761490262740.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] ⚠️ No se pudo obtener ubicación del usuario: User denied Geolocation (at http://localhost:4200/chunk-HLEQ3OH3.js:895:16)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/1ed1dcf4-7a41-4213-8369-b2a86ca534ba/e8644fdd-e8a3-4565-8c50-ebb779cf6ba3/6e2b85e9-33e6-4bc9-b670-bef3bf9df0fe.jpg\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 4992w x 2124h (aspect-ratio: 2.35). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-47738b52-5173-4079-a236-996bc57940f9-3/4-front-1761490242123.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478c4d8-20a1-70fe-6045-2e4c0ed91926/1762409538999184//tmp/test_task/result.webm",
    "created": "2025-11-06T06:08:51.005Z",
    "modified": "2025-11-06T06:12:19.193Z"
  },
  {
    "projectId": "449c2d1e-d329-493e-b6ba-2c30209ae999",
    "testId": "d5fa001f-4882-4013-aee3-5b0ac93a0c39",
    "userId": "9478c4d8-20a1-70fe-6045-2e4c0ed91926",
    "title": "TC014-Price Calculation API Response Time Verification",
    "description": "Verify price calculation APIs respond within 300 milliseconds including dynamic pricing and taxes.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:4200\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Click on the calendar button to open date picker and select dates for rental period.\n        frame = context.pages[-1]\n        # Click on 'Ver calendario' button to open date picker\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/app-cars-map/div/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Try clicking the other calendar-related buttons (index 40, 41, 42, 43) to see if any trigger the date picker or set dates automatically.\n        frame = context.pages[-1]\n        # Click 'Fin de semana' button to set weekend dates\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/div/div/div/app-date-range-picker/div/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click on a car listing to trigger the price calculation API and observe the response time and price breakdown.\n        frame = context.pages[-1]\n        # Click on the first car listing to trigger price calculation API\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/app-cars-map/div/div/div[2]/div[5]/div/img').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Wait additional time or try selecting another car to trigger price calculation API again and verify response time and price breakdown.\n        frame = context.pages[-1]\n        # Click on the second car listing to trigger price calculation API\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/div/div[2]/div[2]/div/app-car-card').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Price calculation successful').first).to_be_visible(timeout=30000)\n        except AssertionError:\n            raise AssertionError(\"Test case failed: Price calculation APIs did not respond within 300 milliseconds with correct price breakdown as required by the test plan.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Testing stopped due to inability to verify price calculation API response time and price breakdown correctness. The UI remains stuck in loading state after setting rental dates and selecting cars. Issue reported to development team.\nBrowser Console Logs:\n[WARNING] <link rel=preload> uses an unsupported `as` value (at http://localhost:4200/:45:0)\n[WARNING] The 'allowSignalWrites' flag is deprecated and no longer impacts effect() (writes are always allowed) (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-AY6GKBS4.js?v=af777c5b:3143:12)\n[WARNING] Error getting current position: User denied Geolocation (at http://localhost:4200/chunk-YEIUFSFY.js:256:18)\n[WARNING] ⚠️ LCP is above target (2.5s): 30.43s (at http://localhost:4200/main.js:6357:20)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/22222222-2222-2222-2222-222222222222/8447c379-6b51-4b5e-8647-0f5de243f729/e6d81e06-8013-4a28-9363-d75f512c28a1-no-bg.png?t=1760916490501\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 600w x 400h (aspect-ratio: 1.50). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] ⚠️ Low FPS detected: 15fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-d10aad20-280a-4819-ac79-ff22b79449e6-3/4-front-1761490075780.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-59011ffc-b8e1-432a-b4f6-4fd5bdc4e3ee-3/4-front-1761490262740.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] ⚠️ Low FPS detected: 12fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] [GroupMarkerNotSet(crbug.com/242999)!:A0183C0074020000]Automatic fallback to software WebGL has been deprecated. Please use the --enable-unsafe-swiftshader flag to opt in to lower security guarantees for trusted content. (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-95dadd02-5b5e-4cd0-89aa-0adad31c78a7-3/4-front-1761490291667.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] [.WebGL-0x27407a78780]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-caa404cc-6423-4f5e-b5df-f0d02f7d1aff-3/4-front-1761490282306.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] [.WebGL-0x27407a78780]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-82c3ecf6-1d8c-46fc-9fad-6dd63c3aeac7-3/4-front-1761490271806.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] [.WebGL-0x27407a78780]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x27407a78780]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (this message will no longer repeat) (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/ae4a91fa-e951-49a3-94fb-0c3ee4786166/8a854591-3fec-4425-946e-c7bb764a7333/93adfdee-0014-4796-bf77-c53b25231576.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/1ed1dcf4-7a41-4213-8369-b2a86ca534ba/4b3c5aed-8e3b-463e-8f3a-909a92e072e0/1cecf709-7383-4ef0-a62a-6a13100d3eac.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] ⚠️ No se pudo obtener ubicación del usuario: User denied Geolocation (at http://localhost:4200/chunk-HLEQ3OH3.js:895:16)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478c4d8-20a1-70fe-6045-2e4c0ed91926/1762409836022876//tmp/test_task/result.webm",
    "created": "2025-11-06T06:08:51.013Z",
    "modified": "2025-11-06T06:17:16.171Z"
  },
  {
    "projectId": "449c2d1e-d329-493e-b6ba-2c30209ae999",
    "testId": "66227381-4fcb-4b89-ab3e-732e0a20192e",
    "userId": "9478c4d8-20a1-70fe-6045-2e4c0ed91926",
    "title": "TC015-Booking Completion Time Within 3 Minutes",
    "description": "Validate average booking process time from car selection to confirmation is under 3 minutes.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:4200\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Scroll down to reveal any hidden interactive elements or car selection options.\n        await page.mouse.wheel(0, await page.evaluate('() => window.innerHeight'))\n        \n\n        # -> Start the booking process by selecting the first available car to measure the booking time.\n        frame = context.pages[-1]\n        # Select the first available car (Volkswagen Gol Trend 2021) to start booking process.\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/app-cars-map/div/div/div[2]/div[7]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Proceed to fill in the rental dates using the date input fields to continue the booking process.\n        frame = context.pages[-1]\n        # Input rental start date\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/div/div/div/app-date-range-picker/div/div[3]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('2025-11-10')\n        \n\n        # -> Input rental end date and proceed to next booking step.\n        frame = context.pages[-1]\n        # Input rental end date\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/div/div/div/app-date-range-picker/div/div[3]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('2025-11-15')\n        \n\n        frame = context.pages[-1]\n        # Click to confirm or open calendar widget for date selection\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/div/div/div/app-date-range-picker/div/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Booking process exceeded time limit').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test failed: The booking process execution has failed or exceeded the 3 minutes time limit as per the test plan.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Booking process validation stopped due to a blocking issue: the date selection modal cannot be closed, preventing progress to booking confirmation. This blocks measuring the booking process time under 3 minutes. Please fix the modal closure issue to continue testing.\nBrowser Console Logs:\n[WARNING] <link rel=preload> uses an unsupported `as` value (at http://localhost:4200/:45:0)\n[WARNING] The 'allowSignalWrites' flag is deprecated and no longer impacts effect() (writes are always allowed) (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-AY6GKBS4.js?v=af777c5b:3143:12)\n[WARNING] Error getting current position: User denied Geolocation (at http://localhost:4200/chunk-YEIUFSFY.js:256:18)\n[WARNING] ⚠️ LCP is above target (2.5s): 35.40s (at http://localhost:4200/main.js:6357:20)\n[WARNING] ⚠️ Low FPS detected: 4fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] [GroupMarkerNotSet(crbug.com/242999)!:A0043D0084200000]Automatic fallback to software WebGL has been deprecated. Please use the --enable-unsafe-swiftshader flag to opt in to lower security guarantees for trusted content. (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-d10aad20-280a-4819-ac79-ff22b79449e6-3/4-front-1761490075780.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] [.WebGL-0x20840c19cd00]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/22222222-2222-2222-2222-222222222222/8447c379-6b51-4b5e-8647-0f5de243f729/e6d81e06-8013-4a28-9363-d75f512c28a1-no-bg.png?t=1760916490501\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 600w x 400h (aspect-ratio: 1.50). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-59011ffc-b8e1-432a-b4f6-4fd5bdc4e3ee-3/4-front-1761490262740.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-caa404cc-6423-4f5e-b5df-f0d02f7d1aff-3/4-front-1761490282306.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/ae4a91fa-e951-49a3-94fb-0c3ee4786166/8a854591-3fec-4425-946e-c7bb764a7333/93adfdee-0014-4796-bf77-c53b25231576.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-95dadd02-5b5e-4cd0-89aa-0adad31c78a7-3/4-front-1761490291667.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-82c3ecf6-1d8c-46fc-9fad-6dd63c3aeac7-3/4-front-1761490271806.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] [.WebGL-0x20840c19cd00]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x20840c19cd00]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x20840c19cd00]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (this message will no longer repeat) (at http://localhost:4200/:0:0)\n[WARNING] ⚠️ No se pudo obtener ubicación del usuario: User denied Geolocation (at http://localhost:4200/chunk-HLEQ3OH3.js:895:16)\n[WARNING] ⚠️ Low FPS detected: 9fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-087227cd-24f6-49ed-901d-4c337abe4533-3/4-front-1761490100451.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478c4d8-20a1-70fe-6045-2e4c0ed91926/1762410184992444//tmp/test_task/result.webm",
    "created": "2025-11-06T06:08:51.019Z",
    "modified": "2025-11-06T06:23:05.215Z"
  },
  {
    "projectId": "449c2d1e-d329-493e-b6ba-2c30209ae999",
    "testId": "a00cba3d-8b40-439b-a91e-659f70f0ff5d",
    "userId": "9478c4d8-20a1-70fe-6045-2e4c0ed91926",
    "title": "TC016-Handle Delayed Payment Confirmation Webhook",
    "description": "Validate system behavior when MercadoPago webhook notifications for payment arrive delayed but eventually update state correctly.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:4200\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Click on a car to start booking process.\n        frame = context.pages[-1]\n        # Click on the Volkswagen Gol Trend 2021 car card to start booking process\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/div/div/div/app-map-filters/div/div/div[2]/div/div[2]/input[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click on the selected car to view details and proceed with booking.\n        frame = context.pages[-1]\n        # Click on the Volkswagen Gol Trend 2021 car card to view details and proceed with booking\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/div/div[2]/div[2]/div/app-car-card/article').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Select rental start and end dates to enable booking.\n        frame = context.pages[-1]\n        # Input rental start date\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-car-detail-page/section/aside/div[2]/div[5]/app-date-range-picker/div/div[3]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('2025-11-10')\n        \n\n        frame = context.pages[-1]\n        # Input rental end date\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-car-detail-page/section/aside/div[2]/div[5]/app-date-range-picker/div/div[3]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('2025-11-15')\n        \n\n        # -> Click on 'Ingresar' to log in and proceed with booking initiation.\n        frame = context.pages[-1]\n        # Click on 'Ingresar' to log in and proceed with booking\n        elem = frame.locator('xpath=html/body/app-root/div/header/div/div/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Payment Confirmed Successfully').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test failed: MercadoPago webhook notification delay caused booking to remain in pending state and did not update to confirmed as expected.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Stopped testing due to critical issue: 'Ingresar' link is unresponsive and prevents booking initiation. Cannot proceed with MercadoPago webhook delay test.\nBrowser Console Logs:\n[WARNING] <link rel=preload> uses an unsupported `as` value (at http://localhost:4200/:45:0)\n[WARNING] ⚠️ Low FPS detected: 30fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] The 'allowSignalWrites' flag is deprecated and no longer impacts effect() (writes are always allowed) (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-AY6GKBS4.js?v=af777c5b:3143:12)\n[WARNING] Error getting current position: User denied Geolocation (at http://localhost:4200/chunk-YEIUFSFY.js:256:18)\n[WARNING] ⚠️ LCP is above target (2.5s): 29.35s (at http://localhost:4200/main.js:6357:20)\n[WARNING] ⚠️ Low FPS detected: 15fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/22222222-2222-2222-2222-222222222222/8447c379-6b51-4b5e-8647-0f5de243f729/e6d81e06-8013-4a28-9363-d75f512c28a1-no-bg.png?t=1760916490501\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 600w x 400h (aspect-ratio: 1.50). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] [GroupMarkerNotSet(crbug.com/242999)!:A0983C004C3C0000]Automatic fallback to software WebGL has been deprecated. Please use the --enable-unsafe-swiftshader flag to opt in to lower security guarantees for trusted content. (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x3c4c0cd05a00]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] ⚠️ Low FPS detected: 9fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] [.WebGL-0x3c4c0cd05a00]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x3c4c0cd05a00]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x3c4c0cd05a00]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (this message will no longer repeat) (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-59011ffc-b8e1-432a-b4f6-4fd5bdc4e3ee-3/4-front-1761490262740.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-d10aad20-280a-4819-ac79-ff22b79449e6-3/4-front-1761490075780.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-95dadd02-5b5e-4cd0-89aa-0adad31c78a7-3/4-front-1761490291667.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-caa404cc-6423-4f5e-b5df-f0d02f7d1aff-3/4-front-1761490282306.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] ⚠️ No se pudo obtener ubicación del usuario: User denied Geolocation (at http://localhost:4200/chunk-HLEQ3OH3.js:895:16)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-82c3ecf6-1d8c-46fc-9fad-6dd63c3aeac7-3/4-front-1761490271806.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/ae4a91fa-e951-49a3-94fb-0c3ee4786166/8a854591-3fec-4425-946e-c7bb764a7333/93adfdee-0014-4796-bf77-c53b25231576.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478c4d8-20a1-70fe-6045-2e4c0ed91926/1762409585299524//tmp/test_task/result.webm",
    "created": "2025-11-06T06:08:51.026Z",
    "modified": "2025-11-06T06:13:05.497Z"
  },
  {
    "projectId": "449c2d1e-d329-493e-b6ba-2c30209ae999",
    "testId": "a5ebca8c-0aa2-4486-a9e5-486b8923218c",
    "userId": "9478c4d8-20a1-70fe-6045-2e4c0ed91926",
    "title": "TC017-User Profile Update with Avatar and Verification",
    "description": "Verify users can update their profile details, upload avatar image, and complete verification process.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:4200\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Find a way to navigate to login or user profile page, possibly by scrolling or waiting for elements to load.\n        await page.mouse.wheel(0, await page.evaluate('() => window.innerHeight'))\n        \n\n        # -> Click the 'Ingresar' button to navigate to the login page.\n        frame = context.pages[-1]\n        # Click the 'Ingresar' button to go to login page\n        elem = frame.locator('xpath=html/body/app-root/div/header/div/div/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input email and password, then click 'Ingresar' to login.\n        frame = context.pages[-1]\n        # Input email for login\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('ecucondor@gmail.com')\n        \n\n        frame = context.pages[-1]\n        # Input password for login\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Ab.12345')\n        \n\n        frame = context.pages[-1]\n        # Click 'Ingresar' button to submit login form\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click the 'Mi perfil' link to navigate to the user profile page.\n        frame = context.pages[-1]\n        # Click 'Mi perfil' link to go to user profile page\n        elem = frame.locator('xpath=html/body/app-root/div/header/div/div/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Profile update successful!').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test case failed: The profile update process did not complete successfully as per the test plan. Users could not update their profile details, upload avatar image, or complete verification process.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Testing stopped due to inability to access user profile page. The 'Mi perfil' link is broken and prevents further testing of profile update, avatar upload, and verification process.\nBrowser Console Logs:\n[WARNING] <link rel=preload> uses an unsupported `as` value (at http://localhost:4200/:45:0)\n[WARNING] The 'allowSignalWrites' flag is deprecated and no longer impacts effect() (writes are always allowed) (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-AY6GKBS4.js?v=af777c5b:3143:12)\n[WARNING] Error getting current position: User denied Geolocation (at http://localhost:4200/chunk-YEIUFSFY.js:256:18)\n[WARNING] ⚠️ LCP is above target (2.5s): 31.39s (at http://localhost:4200/main.js:6357:20)\n[WARNING] ⚠️ Low FPS detected: 12fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/22222222-2222-2222-2222-222222222222/8447c379-6b51-4b5e-8647-0f5de243f729/e6d81e06-8013-4a28-9363-d75f512c28a1-no-bg.png?t=1760916490501\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 600w x 400h (aspect-ratio: 1.50). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[ERROR] Failed to load resource: the server responded with a status of 404 () (at https://example.com/cars/demo.jpg:0:0)\n[WARNING] ⚠️ Low FPS detected: 12fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] [GroupMarkerNotSet(crbug.com/242999)!:A0ECDB00BC040000]Automatic fallback to software WebGL has been deprecated. Please use the --enable-unsafe-swiftshader flag to opt in to lower security guarantees for trusted content. (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x4bc080b3600]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x4bc080b3600]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x4bc080b3600]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x4bc080b3600]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (this message will no longer repeat) (at http://localhost:4200/:0:0)\n[WARNING] ⚠️ Low FPS detected: 1fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] ⚠️ No se pudo obtener ubicación del usuario: User denied Geolocation (at http://localhost:4200/chunk-HLEQ3OH3.js:895:16)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-caa404cc-6423-4f5e-b5df-f0d02f7d1aff-3/4-front-1761490282306.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-d10aad20-280a-4819-ac79-ff22b79449e6-3/4-front-1761490075780.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-59011ffc-b8e1-432a-b4f6-4fd5bdc4e3ee-3/4-front-1761490262740.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/ae4a91fa-e951-49a3-94fb-0c3ee4786166/8a854591-3fec-4425-946e-c7bb764a7333/93adfdee-0014-4796-bf77-c53b25231576.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-95dadd02-5b5e-4cd0-89aa-0adad31c78a7-3/4-front-1761490291667.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478c4d8-20a1-70fe-6045-2e4c0ed91926/1762409686302116//tmp/test_task/result.webm",
    "created": "2025-11-06T06:08:51.033Z",
    "modified": "2025-11-06T06:14:46.495Z"
  },
  {
    "projectId": "449c2d1e-d329-493e-b6ba-2c30209ae999",
    "testId": "be49ceab-c0f7-47a2-8733-5d4fd0a03498",
    "userId": "9478c4d8-20a1-70fe-6045-2e4c0ed91926",
    "title": "TC018-Booking Review Submission Post Rental Completion",
    "description": "Verify locadores and locatarios can submit reviews and ratings after rental completion.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:4200\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Navigate to login page to start booking process.\n        frame = context.pages[-1]\n        # Try to click on any visible login or menu button to proceed\n        elem = frame.locator('xpath=html/body/app-root/app-splash-loader/div/div[2]/div/img').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click the 'Ingresar' button to go to login page.\n        frame = context.pages[-1]\n        # Click the 'Ingresar' button to navigate to login page\n        elem = frame.locator('xpath=html/body/app-root/div/header/div/div/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input email and password, then click 'Ingresar' to login as locatario.\n        frame = context.pages[-1]\n        # Input email for login\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('ecucondor@gmail.com')\n        \n\n        frame = context.pages[-1]\n        # Input password for login\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Ab.12345')\n        \n\n        frame = context.pages[-1]\n        # Click 'Ingresar' button to submit login form\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Navigate to booking page or user dashboard to complete a booking and mark rental as finished.\n        frame = context.pages[-1]\n        # Click 'Buscar autos' to navigate to car search or booking page\n        elem = frame.locator('xpath=html/body/app-root/div/header/div/nav/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Select rental dates and search for available cars to book.\n        frame = context.pages[-1]\n        # Input rental start date\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/div/div/div/app-date-range-picker/div/div[3]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('2025-11-10')\n        \n\n        frame = context.pages[-1]\n        # Input rental end date\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/div/div/div/app-date-range-picker/div/div[3]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('2025-11-15')\n        \n\n        frame = context.pages[-1]\n        # Click 'Buscar autos' to search available cars for selected dates\n        elem = frame.locator('xpath=html/body/app-root/div/header/div/nav/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Select a car from the search results to proceed with booking.\n        await page.mouse.wheel(0, 400)\n        \n\n        # -> Scroll down or explore page to find a clickable car element to select for booking.\n        await page.mouse.wheel(0, 400)\n        \n\n        # -> Try to scroll down or explore other UI elements that may list cars in a clickable format to select for booking.\n        await page.mouse.wheel(0, await page.evaluate('() => window.innerHeight'))\n        \n\n        # -> Try to interact with the map or other UI elements to find a clickable car listing for booking.\n        frame = context.pages[-1]\n        # Click on the map canvas to try to reveal or interact with car listings\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-cars-list-page/section/div/div/app-cars-map/div/div/div[2]/canvas').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Look for any clickable car listings or UI elements to select a car for booking.\n        await page.mouse.wheel(0, 400)\n        \n\n        # -> Try to find clickable car listings or UI elements to select a car for booking.\n        await page.mouse.wheel(0, 400)\n        \n\n        # -> Navigate to user dashboard or bookings page to simulate or find a completed booking to test review submission.\n        frame = context.pages[-1]\n        # Click 'Wallet' or user dashboard link to check bookings or rental history\n        elem = frame.locator('xpath=html/body/app-root/div/footer/div/div/div[2]/ul/li[3]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input login credentials and login again to proceed with booking completion and review submission.\n        frame = context.pages[-1]\n        # Input email for login\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('ecucondor@gmail.com')\n        \n\n        frame = context.pages[-1]\n        # Input password for login\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Ab.12345')\n        \n\n        frame = context.pages[-1]\n        # Click 'Ingresar' button to submit login form\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click 'Ingresar' button to login again and access dashboard or bookings.\n        frame = context.pages[-1]\n        # Click 'Ingresar' button to login again\n        elem = frame.locator('xpath=html/body/app-root/div/main/app-login-page/div/div/div[2]/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Review Submission Successful').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test failed: The test plan execution failed because locadores and locatarios could not submit reviews and ratings after rental completion as expected.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "The task to verify that locadores and locatarios can submit reviews and ratings after rental completion could not be fully completed. The main blocker was a backend connection error with Supabase preventing login and access to the dashboard or bookings page. Without successful login and booking completion, review submission could not be tested. Please resolve the backend connection issue and retry the test.\nBrowser Console Logs:\n[WARNING] <link rel=preload> uses an unsupported `as` value (at http://localhost:4200/:45:0)\n[WARNING] The 'allowSignalWrites' flag is deprecated and no longer impacts effect() (writes are always allowed) (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-AY6GKBS4.js?v=af777c5b:3143:12)\n[WARNING] Error getting current position: User denied Geolocation (at http://localhost:4200/chunk-YEIUFSFY.js:256:18)\n[WARNING] ⚠️ LCP is above target (2.5s): 30.58s (at http://localhost:4200/main.js:6357:20)\n[WARNING] ⚠️ Low FPS detected: 2fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/22222222-2222-2222-2222-222222222222/8447c379-6b51-4b5e-8647-0f5de243f729/e6d81e06-8013-4a28-9363-d75f512c28a1-no-bg.png?t=1760916490501\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 600w x 400h (aspect-ratio: 1.50). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[ERROR] Failed to load resource: the server responded with a status of 404 () (at https://example.com/cars/demo.jpg:0:0)\n[WARNING] ⚠️ Low FPS detected: 15fps (at http://localhost:4200/main.js:6337:18)\n[WARNING] [GroupMarkerNotSet(crbug.com/242999)!:A0AC3B005C290000]Automatic fallback to software WebGL has been deprecated. Please use the --enable-unsafe-swiftshader flag to opt in to lower security guarantees for trusted content. (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x295c0e237600]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] [.WebGL-0x295c0e237600]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-d10aad20-280a-4819-ac79-ff22b79449e6-3/4-front-1761490075780.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-59011ffc-b8e1-432a-b4f6-4fd5bdc4e3ee-3/4-front-1761490262740.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] [.WebGL-0x295c0e237600]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-caa404cc-6423-4f5e-b5df-f0d02f7d1aff-3/4-front-1761490282306.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] [.WebGL-0x295c0e237600]GL Driver Message (OpenGL, Performance, GL_CLOSE_PATH_NV, High): GPU stall due to ReadPixels (this message will no longer repeat) (at http://localhost:4200/:0:0)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-82c3ecf6-1d8c-46fc-9fad-6dd63c3aeac7-3/4-front-1761490271806.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-images/ae4a91fa-e951-49a3-94fb-0c3ee4786166/8a854591-3fec-4425-946e-c7bb764a7333/93adfdee-0014-4796-bf77-c53b25231576.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-95dadd02-5b5e-4cd0-89aa-0adad31c78a7-3/4-front-1761490291667.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)\n[WARNING] NG02952: The NgOptimizedImage directive (activated on an <img> element with the `ngSrc=\"https://obxvffplochgeiclibng.supabase.co/storage/v1/object/public/car-photos/car-47738b52-5173-4079-a236-996bc57940f9-3/4-front-1761490242123.png\"`) has detected that the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: 1024w x 1024h (aspect-ratio: 1). \nSupplied width and height attributes: 400w x 300h (aspect-ratio: 1.33). \nTo fix this, update the width and height attributes. (at http://localhost:4200/@fs/home/edu/autorenta/apps/web/.angular/cache/20.3.8/web/vite/deps/chunk-RZZERZYN.js?v=af777c5b:4949:14)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9478c4d8-20a1-70fe-6045-2e4c0ed91926/1762409778172399//tmp/test_task/result.webm",
    "created": "2025-11-06T06:08:51.040Z",
    "modified": "2025-11-06T06:16:18.570Z"
  }
]
