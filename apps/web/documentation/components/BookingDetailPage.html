<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>autorenta-web documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>
          <script>
              // --- Iframe navigation tracking for Template Playground ---
              function sendCurrentUrlToParent() {
                  if (window.parent && window.parent !== window) {
                      window.parent.postMessage({
                          type: 'compodoc-iframe-navigate',
                          url: window.location.pathname + window.location.hash
                      }, '*');
                  }
              }
              window.addEventListener('hashchange', sendCurrentUrlToParent, false);
              window.addEventListener('popstate', sendCurrentUrlToParent, false);
              window.addEventListener('DOMContentLoaded', sendCurrentUrlToParent, false);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-md-none p-0">
               <div class="d-flex">
                    <a href="../" class="navbar-brand">autorenta-web documentation</a>
                    <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
               </div>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="d-none d-md-block menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">








<ol class="breadcrumb">
  <li class="breadcrumb-item">Components</li>
  <li class="breadcrumb-item"
  >
  BookingDetailPage</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" class="nav-link"
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
        <li class="nav-item">
            <a href="#templateData" class="nav-link"
                role="tab" id="templateData-tab" data-bs-toggle="tab" data-link="template">Template</a>
        </li>
        <li class="nav-item">
            <a href="#tree" class="nav-link"
                role="tab" id="tree-tab" data-bs-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/features/bookings/booking-detail/booking-detail.page.ts</code>
</p>


    <p class="comment">
        <h3>Description</h3>
    </p>
    <p class="comment">
        <p>BookingDetailPage</p>
<p>This component acts as a container for the booking detail view. It is responsible for:</p>
<ul>
<li>Fetching the booking data from the server.</li>
<li>Passing the booking data to child components that handle specific aspects of the view.</li>
<li>Handling general page-level concerns like loading and error states.</li>
</ul>
<p>The component has been refactored to delegate responsibilities to smaller, more focused child components:</p>
<ul>
<li>app-booking-status: Displays the current status of the booking.</li>
<li>app-review-management: Manages the creation and display of reviews.</li>
</ul>

    </p>


    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                <code>OnInit</code>
                <code>OnDestroy</code>
    </p>


<section data-compodoc="block-metadata">
    <h3>Metadata</h3>
    <table class="table table-sm table-hover metadata">
        <tbody>












            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>app-booking-detail</code></td>
            </tr>

            <tr>
                <td class="col-md-3">standalone</td>
                <td class="col-md-9"><code>true</code></td>
            </tr>

            <tr>
                <td class="col-md-3">imports</td>
                <td class="col-md-9">
                            <code>CommonModule</code>
                                <code><a href="../interfaces/Route.html" target="_self" >RouterLink</a></code>
                                <code><a href="../components/OwnerConfirmationComponent.html" target="_self" >OwnerConfirmationComponent</a></code>
                                <code><a href="../components/RenterConfirmationComponent.html" target="_self" >RenterConfirmationComponent</a></code>
                                <code><a href="../components/BookingChatComponent.html" target="_self" >BookingChatComponent</a></code>
                            <code>TranslateModule</code>
                                <code><a href="../components/BookingStatusComponent.html" target="_self" >BookingStatusComponent</a></code>
                                <code><a href="../components/ReviewManagementComponent.html" target="_self" >ReviewManagementComponent</a></code>
                                <code><a href="../components/DepositStatusBadgeComponent.html" target="_self" >DepositStatusBadgeComponent</a></code>
                                <code><a href="../components/DisputeFormComponent.html" target="_self" >DisputeFormComponent</a></code>
                                <code><a href="../components/DisputesListComponent.html" target="_self" >DisputesListComponent</a></code>
                                <code><a href="../components/RefundRequestComponent.html" target="_self" >RefundRequestComponent</a></code>
                                <code><a href="../components/BookingContractComponent.html" target="_self" >BookingContractComponent</a></code>
                                <code><a href="../components/RefundStatusComponent.html" target="_self" >RefundStatusComponent</a></code>
                                <code><a href="../components/ShareButtonComponent.html" target="_self" >ShareButtonComponent</a></code>
                                <code><a href="../components/DistanceRiskTierBadgeComponent.html" target="_self" >DistanceRiskTierBadgeComponent</a></code>
                                <code><a href="../components/BookingConfirmationTimelineComponent.html" target="_self" >BookingConfirmationTimelineComponent</a></code>
                                <code><a href="../components/BookingOpsTimelineComponent.html" target="_self" >BookingOpsTimelineComponent</a></code>
                                <code><a href="../components/BookingTrackingComponent.html" target="_self" >BookingTrackingComponent</a></code>
                                <code><a href="../components/BookingPricingBreakdownComponent.html" target="_self" >BookingPricingBreakdownComponent</a></code>
                                <code><a href="../components/BookingInsuranceSummaryComponent.html" target="_self" >BookingInsuranceSummaryComponent</a></code>
                </td>
            </tr>




            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./booking-detail.page.html</code></td>
            </tr>



            <tr>
                <td class="col-md-3">styleUrl</td>
                <td class="col-md-9"><code>./booking-detail.page.css</code></td>
            </tr>





        </tbody>
    </table>
</section>

    <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#authService" >authService</a>
                            </li>
                            <li>
                                <a href="#booking" >booking</a>
                            </li>
                            <li>
                                <a href="#bookingClaims" >bookingClaims</a>
                            </li>
                            <li>
                                    <span class="modifier">Readonly</span>
                                <a href="#bookingFlowSteps" >bookingFlowSteps</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#bookingOpsService" >bookingOpsService</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#bookingsService" >bookingsService</a>
                            </li>
                            <li>
                                <a href="#cancellation" >cancellation</a>
                            </li>
                            <li>
                                    <span class="modifier">Readonly</span>
                                <a href="#canCreateDispute" >canCreateDispute</a>
                            </li>
                            <li>
                                    <span class="modifier">Readonly</span>
                                <a href="#canPerformCheckIn" >canPerformCheckIn</a>
                            </li>
                            <li>
                                    <span class="modifier">Readonly</span>
                                <a href="#canPerformCheckOut" >canPerformCheckOut</a>
                            </li>
                            <li>
                                    <span class="modifier">Readonly</span>
                                <a href="#canReportClaim" >canReportClaim</a>
                            </li>
                            <li>
                                    <span class="modifier">Readonly</span>
                                <a href="#canReportDamage" >canReportDamage</a>
                            </li>
                            <li>
                                    <span class="modifier">Readonly</span>
                                <a href="#canRequestRefund" >canRequestRefund</a>
                            </li>
                            <li>
                                    <span class="modifier">Readonly</span>
                                <a href="#canUploadInspection" >canUploadInspection</a>
                            </li>
                            <li>
                                <a href="#carOwnerId" >carOwnerId</a>
                            </li>
                            <li>
                                <a href="#carOwnerName" >carOwnerName</a>
                            </li>
                            <li>
                                <a href="#confirmation" >confirmation</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#confirmationService" >confirmationService</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#countdownInterval" >countdownInterval</a>
                            </li>
                            <li>
                                    <span class="modifier">Readonly</span>
                                <a href="#currentBookingStageIndex" >currentBookingStageIndex</a>
                            </li>
                            <li>
                                <a href="#error" >error</a>
                            </li>
                            <li>
                                <a href="#exchangeRate" >exchangeRate</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#exchangeRateService" >exchangeRateService</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#fgoService" >fgoService</a>
                            </li>
                            <li>
                                    <span class="modifier">Readonly</span>
                                <a href="#hasCheckIn" >hasCheckIn</a>
                            </li>
                            <li>
                                    <span class="modifier">Readonly</span>
                                <a href="#hasCheckOut" >hasCheckOut</a>
                            </li>
                            <li>
                                    <span class="modifier">Readonly</span>
                                <a href="#hasClaim" >hasClaim</a>
                            </li>
                            <li>
                                <a href="#inspections" >inspections</a>
                            </li>
                            <li>
                                <a href="#insurance" >insurance</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#insuranceService" >insuranceService</a>
                            </li>
                            <li>
                                    <span class="modifier">Readonly</span>
                                <a href="#insuranceView" >insuranceView</a>
                            </li>
                            <li>
                                <a href="#isExpired" >isExpired</a>
                            </li>
                            <li>
                                <a href="#isOwner" >isOwner</a>
                            </li>
                            <li>
                                <a href="#isRenter" >isRenter</a>
                            </li>
                            <li>
                                    <span class="modifier">Readonly</span>
                                <a href="#latestClaim" >latestClaim</a>
                            </li>
                            <li>
                                <a href="#loading" >loading</a>
                            </li>
                            <li>
                                <a href="#loadingClaims" >loadingClaims</a>
                            </li>
                            <li>
                                <a href="#loadingRate" >loadingRate</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#logger" >logger</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#metaService" >metaService</a>
                            </li>
                            <li>
                                <a href="#payment" >payment</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#paymentsService" >paymentsService</a>
                            </li>
                            <li>
                                    <span class="modifier">Readonly</span>
                                <a href="#paymentView" >paymentView</a>
                            </li>
                            <li>
                                <a href="#pricing" >pricing</a>
                            </li>
                            <li>
                                    <span class="modifier">Readonly</span>
                                <a href="#pricingView" >pricingView</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#reviewsService" >reviewsService</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#route" >route</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#router" >router</a>
                            </li>
                            <li>
                                <a href="#showConfirmationSection" >showConfirmationSection</a>
                            </li>
                            <li>
                                <a href="#showConfirmedActions" >showConfirmedActions</a>
                            </li>
                            <li>
                                <a href="#showDisputeForm" >showDisputeForm</a>
                            </li>
                            <li>
                                <a href="#showRefundForm" >showRefundForm</a>
                            </li>
                            <li>
                                <a href="#timeRemaining" >timeRemaining</a>
                            </li>
                            <li>
                                <a href="#totalInARS" >totalInARS</a>
                            </li>
                            <li>
                                <a href="#tracking" >tracking</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#formatCurrency" >formatCurrency</a>
                            </li>
                            <li>
                                <a href="#formatDate" >formatDate</a>
                            </li>
                            <li>
                                <a href="#formatDateTime" >formatDateTime</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#formatUsd" >formatUsd</a>
                            </li>
                            <li>
                                <a href="#getBookingDetailsText" >getBookingDetailsText</a>
                            </li>
                            <li>
                                <a href="#getClaimStatusColor" >getClaimStatusColor</a>
                            </li>
                            <li>
                                <a href="#getClaimStatusLabel" >getClaimStatusLabel</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#getTotalCents" >getTotalCents</a>
                            </li>
                            <li>
                                <a href="#handleConfirmationError" >handleConfirmationError</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#handleConfirmationSuccess" >handleConfirmationSuccess</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Async</span>
                                <a href="#handleMarkAsReturned" >handleMarkAsReturned</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#handleTimelineAction" >handleTimelineAction</a>
                            </li>
                            <li>
                                <a href="#isStepCompleted" >isStepCompleted</a>
                            </li>
                            <li>
                                <a href="#isStepCurrent" >isStepCurrent</a>
                            </li>
                            <li>
                                <a href="#isStepUpcoming" >isStepUpcoming</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Async</span>
                                <a href="#loadCancellation" >loadCancellation</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Async</span>
                                <a href="#loadCarOwner" >loadCarOwner</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Async</span>
                                <a href="#loadClaims" >loadClaims</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Async</span>
                                <a href="#loadConfirmation" >loadConfirmation</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Async</span>
                                <a href="#loadExchangeRate" >loadExchangeRate</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Async</span>
                                <a href="#loadInspections" >loadInspections</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Async</span>
                                <a href="#loadInsurance" >loadInsurance</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Async</span>
                                <a href="#loadPayment" >loadPayment</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Async</span>
                                <a href="#loadPricing" >loadPricing</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Async</span>
                                <a href="#loadTracking" >loadTracking</a>
                            </li>
                            <li>
                                <a href="#ngOnDestroy" >ngOnDestroy</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#ngOnInit" >ngOnInit</a>
                            </li>
                            <li>
                                <a href="#onDisputeCreated" >onDisputeCreated</a>
                            </li>
                            <li>
                                <a href="#onRefundRequested" >onRefundRequested</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#scrollToSection" >scrollToSection</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#startCountdown" >startCountdown</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#stopCountdown" >stopCountdown</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#updateCountdown" >updateCountdown</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>






    <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="formatCurrency"></a>
                    <span class="name">
                        <span ><b>formatCurrency</b></span>
                        <a href="#formatCurrency"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>formatCurrency(cents: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, currency: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="607"
                                    class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:607</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>cents</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>currency</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="formatDate"></a>
                    <span class="name">
                        <span ><b>formatDate</b></span>
                        <a href="#formatDate"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>formatDate(dateStr: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="647"
                                    class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:647</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>dateStr</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="formatDateTime"></a>
                    <span class="name">
                        <span ><b>formatDateTime</b></span>
                        <a href="#formatDateTime"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>formatDateTime(dateStr: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="655"
                                    class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:655</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>dateStr</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="formatUsd"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>formatUsd</b></span>
                        <a href="#formatUsd"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>formatUsd(amount: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="637"
                                    class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:637</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>amount</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getBookingDetailsText"></a>
                    <span class="name">
                        <span ><b>getBookingDetailsText</b></span>
                        <a href="#getBookingDetailsText"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getBookingDetailsText()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="617"
                                    class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:617</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getClaimStatusColor"></a>
                    <span class="name">
                        <span ><b>getClaimStatusColor</b></span>
                        <a href="#getClaimStatusColor"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getClaimStatusColor(status: <a href="../interfaces/InsuranceClaim.html" target="_self">InsuranceClaim</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="553"
                                    class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:553</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>status</td>
                                            <td>
                                                            <code><a href="../interfaces/InsuranceClaim.html" target="_self" >InsuranceClaim</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getClaimStatusLabel"></a>
                    <span class="name">
                        <span ><b>getClaimStatusLabel</b></span>
                        <a href="#getClaimStatusLabel"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getClaimStatusLabel(status: <a href="../interfaces/InsuranceClaim.html" target="_self">InsuranceClaim</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="549"
                                    class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:549</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>status</td>
                                            <td>
                                                            <code><a href="../interfaces/InsuranceClaim.html" target="_self" >InsuranceClaim</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getTotalCents"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>getTotalCents</b></span>
                        <a href="#getTotalCents"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getTotalCents(booking: <a href="../interfaces/Booking.html" target="_self">Booking</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="630"
                                    class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:630</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>booking</td>
                                            <td>
                                                            <code><a href="../interfaces/Booking.html" target="_self" >Booking</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="handleConfirmationError"></a>
                    <span class="name">
                        <span ><b>handleConfirmationError</b></span>
                        <a href="#handleConfirmationError"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>handleConfirmationError(errorMessage: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="682"
                                    class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:682</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>errorMessage</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="handleConfirmationSuccess"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>handleConfirmationSuccess</b></span>
                        <a href="#handleConfirmationSuccess"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>handleConfirmationSuccess(result: <a href="../interfaces/ConfirmAndReleaseResponse.html" target="_self">ConfirmAndReleaseResponse</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="666"
                                    class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:666</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>result</td>
                                            <td>
                                                            <code><a href="../interfaces/ConfirmAndReleaseResponse.html" target="_self" >ConfirmAndReleaseResponse</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="handleMarkAsReturned"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Async</span>
                        <span ><b>handleMarkAsReturned</b></span>
                        <a href="#handleMarkAsReturned"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>handleMarkAsReturned(bookingId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="712"
                                    class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:712</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>bookingId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="handleTimelineAction"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>handleTimelineAction</b></span>
                        <a href="#handleTimelineAction"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>handleTimelineAction(event: literal type)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="686"
                                    class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:686</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>event</td>
                                            <td>
                                                        <code>literal type</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isStepCompleted"></a>
                    <span class="name">
                        <span ><b>isStepCompleted</b></span>
                        <a href="#isStepCompleted"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>isStepCompleted(index: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="352"
                                    class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:352</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>index</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isStepCurrent"></a>
                    <span class="name">
                        <span ><b>isStepCurrent</b></span>
                        <a href="#isStepCurrent"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>isStepCurrent(index: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="356"
                                    class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:356</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>index</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isStepUpcoming"></a>
                    <span class="name">
                        <span ><b>isStepUpcoming</b></span>
                        <a href="#isStepUpcoming"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>isStepUpcoming(index: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="360"
                                    class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:360</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>index</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadCancellation"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Async</span>
                        <span ><b>loadCancellation</b></span>
                        <a href="#loadCancellation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>loadCancellation(bookingId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="540"
                                    class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:540</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>bookingId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadCarOwner"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Async</span>
                        <span ><b>loadCarOwner</b></span>
                        <a href="#loadCarOwner"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>loadCarOwner()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="432"
                                    class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:432</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadClaims"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Async</span>
                        <span ><b>loadClaims</b></span>
                        <a href="#loadClaims"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>loadClaims()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="466"
                                    class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:466</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadConfirmation"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Async</span>
                        <span ><b>loadConfirmation</b></span>
                        <a href="#loadConfirmation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>loadConfirmation(bookingId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="531"
                                    class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:531</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>bookingId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadExchangeRate"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Async</span>
                        <span ><b>loadExchangeRate</b></span>
                        <a href="#loadExchangeRate"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>loadExchangeRate()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="412"
                                    class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:412</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadInspections"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Async</span>
                        <span ><b>loadInspections</b></span>
                        <a href="#loadInspections"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>loadInspections()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="454"
                                    class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:454</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadInsurance"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Async</span>
                        <span ><b>loadInsurance</b></span>
                        <a href="#loadInsurance"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>loadInsurance(bookingId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="492"
                                    class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:492</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>bookingId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadPayment"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Async</span>
                        <span ><b>loadPayment</b></span>
                        <a href="#loadPayment"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>loadPayment(bookingId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="501"
                                    class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:501</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>bookingId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadPricing"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Async</span>
                        <span ><b>loadPricing</b></span>
                        <a href="#loadPricing"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>loadPricing(bookingId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="483"
                                    class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:483</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>bookingId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadTracking"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Async</span>
                        <span ><b>loadTracking</b></span>
                        <a href="#loadTracking"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>loadTracking(bookingId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="510"
                                    class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:510</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>bookingId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnDestroy"></a>
                    <span class="name">
                        <span ><b>ngOnDestroy</b></span>
                        <a href="#ngOnDestroy"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnDestroy()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="567"
                                    class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:567</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnInit"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>ngOnInit</b></span>
                        <a href="#ngOnInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>ngOnInit()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="364"
                                    class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:364</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onDisputeCreated"></a>
                    <span class="name">
                        <span ><b>onDisputeCreated</b></span>
                        <a href="#onDisputeCreated"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onDisputeCreated()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="309"
                                    class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:309</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onRefundRequested"></a>
                    <span class="name">
                        <span ><b>onRefundRequested</b></span>
                        <a href="#onRefundRequested"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onRefundRequested()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="314"
                                    class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:314</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="scrollToSection"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>scrollToSection</b></span>
                        <a href="#scrollToSection"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>scrollToSection(elementId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="705"
                                    class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:705</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>elementId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="startCountdown"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>startCountdown</b></span>
                        <a href="#startCountdown"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>startCountdown()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="571"
                                    class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:571</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="stopCountdown"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>stopCountdown</b></span>
                        <a href="#stopCountdown"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>stopCountdown()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="586"
                                    class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:586</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateCountdown"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>updateCountdown</b></span>
                        <a href="#updateCountdown"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>updateCountdown()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="593"
                                    class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:593</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section data-compodoc="block-properties">
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="authService"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>authService</b></span>
                        <a href="#authService"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>inject(AuthService)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="96" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:96</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="booking"></a>
                    <span class="name">
                        <span ><b>booking</b></span>
                        <a href="#booking"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>signal&lt;Booking | null&gt;(null)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="105" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:105</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="bookingClaims"></a>
                    <span class="name">
                        <span ><b>bookingClaims</b></span>
                        <a href="#bookingClaims"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>signal&lt;InsuranceClaim[]&gt;([])</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="158" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:158</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="bookingFlowSteps"></a>
                    <span class="name">
                            <span class="modifier">Readonly</span>
                        <span ><b>bookingFlowSteps</b></span>
                        <a href="#bookingFlowSteps"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[
    {
      key: &#x27;pending&#x27;,
      label: &#x27;Solicitud enviada&#x27;,
      description: &#x27;Estamos esperando la aprobacin del anfitrin.&#x27;,
    },
    {
      key: &#x27;pending_payment&#x27;,
      label: &#x27;Pago pendiente&#x27;,
      description: &#x27;Confirma el pago para bloquear las fechas.&#x27;,
    },
    {
      key: &#x27;confirmed&#x27;,
      label: &#x27;Reserva confirmada&#x27;,
      description: &#x27;Preparate para coordinar el check-in y la entrega.&#x27;,
    },
    {
      key: &#x27;in_progress&#x27;,
      label: &#x27;Check-in y uso&#x27;,
      description: &#x27;Realiz las inspecciones y disfrut del viaje.&#x27;,
    },
    {
      key: &#x27;completed&#x27;,
      label: &#x27;Check-out y cierre&#x27;,
      description: &#x27;Inspeccin final y liberacin de fondos.&#x27;,
    },
  ] as const</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="110" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:110</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="bookingOpsService"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>bookingOpsService</b></span>
                        <a href="#bookingOpsService"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>inject(BookingOpsService)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="102" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:102</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="bookingsService"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>bookingsService</b></span>
                        <a href="#bookingsService"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>inject(BookingsService)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="93" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:93</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="cancellation"></a>
                    <span class="name">
                        <span ><b>cancellation</b></span>
                        <a href="#cancellation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>signal&lt;BookingCancellationRow | null&gt;(null)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="173" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:173</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="canCreateDispute"></a>
                    <span class="name">
                            <span class="modifier">Readonly</span>
                        <span ><b>canCreateDispute</b></span>
                        <a href="#canCreateDispute"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>computed(() &#x3D;&gt; {
    const booking &#x3D; this.booking();
    if (!booking) return false;
    // Can create dispute for active or completed bookings
    return booking.status &#x3D;&#x3D;&#x3D; &#x27;in_progress&#x27; || booking.status &#x3D;&#x3D;&#x3D; &#x27;completed&#x27;;
  })</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="295" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:295</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="canPerformCheckIn"></a>
                    <span class="name">
                            <span class="modifier">Readonly</span>
                        <span ><b>canPerformCheckIn</b></span>
                        <a href="#canPerformCheckIn"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>computed(() &#x3D;&gt; {
    const booking &#x3D; this.booking();
    if (!booking || !this.isRenter()) return false;
    const validStatus &#x3D; booking.status &#x3D;&#x3D;&#x3D; &#x27;confirmed&#x27; || booking.status &#x3D;&#x3D;&#x3D; &#x27;in_progress&#x27;;
    return validStatus &amp;&amp; !this.hasCheckIn();
  })</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="328" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:328</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="canPerformCheckOut"></a>
                    <span class="name">
                            <span class="modifier">Readonly</span>
                        <span ><b>canPerformCheckOut</b></span>
                        <a href="#canPerformCheckOut"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>computed(() &#x3D;&gt; {
    const booking &#x3D; this.booking();
    if (!booking || !this.isRenter()) return false;
    const validStatus &#x3D; booking.status &#x3D;&#x3D;&#x3D; &#x27;in_progress&#x27;;
    return validStatus &amp;&amp; this.hasCheckIn() &amp;&amp; !this.hasCheckOut();
  })</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="335" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:335</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="canReportClaim"></a>
                    <span class="name">
                            <span class="modifier">Readonly</span>
                        <span ><b>canReportClaim</b></span>
                        <a href="#canReportClaim"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>computed(() &#x3D;&gt; {
    const booking &#x3D; this.booking();
    if (!booking || !this.isRenter()) return false;
    // Can report claim during in_progress or completed status
    const validStatus &#x3D; booking.status &#x3D;&#x3D;&#x3D; &#x27;in_progress&#x27; || booking.status &#x3D;&#x3D;&#x3D; &#x27;completed&#x27;;
    // Only allow if no claim already exists for this booking
    return validStatus &amp;&amp; !this.hasClaim();
  })</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="277" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:277</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="canReportDamage"></a>
                    <span class="name">
                            <span class="modifier">Readonly</span>
                        <span ><b>canReportDamage</b></span>
                        <a href="#canReportDamage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>computed(() &#x3D;&gt; {
    const booking &#x3D; this.booking();
    if (!booking || !this.isOwner()) return false;
    // Owner can report damage after vehicle return (completed status or returned_at is set)
    const canReport &#x3D;
      (booking.status &#x3D;&#x3D;&#x3D; &#x27;completed&#x27; || booking.returned_at !&#x3D;&#x3D; null) &amp;&amp;
      !booking.owner_reported_damages;
    return canReport;
  })</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="342" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:342</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="canRequestRefund"></a>
                    <span class="name">
                            <span class="modifier">Readonly</span>
                        <span ><b>canRequestRefund</b></span>
                        <a href="#canRequestRefund"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>computed(() &#x3D;&gt; {
    const booking &#x3D; this.booking();
    if (!booking) return false;
    // Can request refund for completed or cancelled bookings
    return booking.status &#x3D;&#x3D;&#x3D; &#x27;completed&#x27; || booking.status &#x3D;&#x3D;&#x3D; &#x27;cancelled&#x27;;
  })</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="302" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:302</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="canUploadInspection"></a>
                    <span class="name">
                            <span class="modifier">Readonly</span>
                        <span ><b>canUploadInspection</b></span>
                        <a href="#canUploadInspection"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>computed(() &#x3D;&gt; {
    const booking &#x3D; this.booking();
    return booking?.status &#x3D;&#x3D;&#x3D; &#x27;in_progress&#x27; || booking?.status &#x3D;&#x3D;&#x3D; &#x27;completed&#x27;;
  })</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="260" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:260</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="carOwnerId"></a>
                    <span class="name">
                        <span ><b>carOwnerId</b></span>
                        <a href="#carOwnerId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>signal&lt;string | null&gt;(null)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="256" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:256</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="carOwnerName"></a>
                    <span class="name">
                        <span ><b>carOwnerName</b></span>
                        <a href="#carOwnerName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>signal&lt;string&gt;(&#x27;el anfitrin&#x27;)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="257" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:257</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="confirmation"></a>
                    <span class="name">
                        <span ><b>confirmation</b></span>
                        <a href="#confirmation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>signal&lt;BookingConfirmationRow | null&gt;(null)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="172" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:172</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="confirmationService"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>confirmationService</b></span>
                        <a href="#confirmationService"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>inject(BookingConfirmationService)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="97" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:97</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="countdownInterval"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>countdownInterval</b></span>
                        <a href="#countdownInterval"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>number | null</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>null</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="218" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:218</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="currentBookingStageIndex"></a>
                    <span class="name">
                            <span class="modifier">Readonly</span>
                        <span ><b>currentBookingStageIndex</b></span>
                        <a href="#currentBookingStageIndex"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>computed(() &#x3D;&gt; {
    const booking &#x3D; this.booking();
    if (!booking) return 0;
    const idx &#x3D; this.bookingFlowSteps.findIndex((step) &#x3D;&gt; step.key &#x3D;&#x3D;&#x3D; booking.status);
    if (idx &gt;&#x3D; 0) return idx;
    if (booking.status &#x3D;&#x3D;&#x3D; &#x27;cancelled&#x27;) {
      return 0;
    }
    return this.bookingFlowSteps.length - 1;
  })</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="138" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:138</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="error"></a>
                    <span class="name">
                        <span ><b>error</b></span>
                        <a href="#error"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>signal&lt;string | null&gt;(null)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="107" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:107</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="exchangeRate"></a>
                    <span class="name">
                        <span ><b>exchangeRate</b></span>
                        <a href="#exchangeRate"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>signal&lt;number | null&gt;(null)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="150" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:150</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="exchangeRateService"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>exchangeRateService</b></span>
                        <a href="#exchangeRateService"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>inject(ExchangeRateService)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="99" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:99</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fgoService"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>fgoService</b></span>
                        <a href="#fgoService"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>inject(FgoV1_1Service)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="100" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:100</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="hasCheckIn"></a>
                    <span class="name">
                            <span class="modifier">Readonly</span>
                        <span ><b>hasCheckIn</b></span>
                        <a href="#hasCheckIn"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>computed(() &#x3D;&gt; {
    return this.inspections().some((i: BookingInspection) &#x3D;&gt; i.stage &#x3D;&#x3D;&#x3D; &#x27;check_in&#x27; &amp;&amp; i.signedAt);
  })</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="265" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:265</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="hasCheckOut"></a>
                    <span class="name">
                            <span class="modifier">Readonly</span>
                        <span ><b>hasCheckOut</b></span>
                        <a href="#hasCheckOut"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>computed(() &#x3D;&gt; {
    return this.inspections().some((i: BookingInspection) &#x3D;&gt; i.stage &#x3D;&#x3D;&#x3D; &#x27;check_out&#x27; &amp;&amp; i.signedAt);
  })</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="269" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:269</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="hasClaim"></a>
                    <span class="name">
                            <span class="modifier">Readonly</span>
                        <span ><b>hasClaim</b></span>
                        <a href="#hasClaim"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>computed(() &#x3D;&gt; {
    return this.bookingClaims().length &gt; 0;
  })</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="273" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:273</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inspections"></a>
                    <span class="name">
                        <span ><b>inspections</b></span>
                        <a href="#inspections"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>signal&lt;BookingInspection[]&gt;([])</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="155" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:155</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="insurance"></a>
                    <span class="name">
                        <span ><b>insurance</b></span>
                        <a href="#insurance"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>signal&lt;BookingInsuranceRow | null&gt;(null)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="163" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:163</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="insuranceService"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>insuranceService</b></span>
                        <a href="#insuranceService"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>inject(InsuranceService)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="101" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:101</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="insuranceView"></a>
                    <span class="name">
                            <span class="modifier">Readonly</span>
                        <span ><b>insuranceView</b></span>
                        <a href="#insuranceView"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>computed(() &#x3D;&gt; {
    const insurance &#x3D; this.insurance();
    if (!insurance) return null;

    return {
      coverageName: insurance.coverage_upgrade || &#x27;Estndar&#x27;,
      premium: insurance.insurance_premium_total ? insurance.insurance_premium_total / 100 : 0,
      guaranteeType: insurance.guarantee_type || &#x27;hold&#x27;,
      guaranteeAmount: insurance.guarantee_amount_cents
        ? insurance.guarantee_amount_cents / 100
        : undefined,
      currency: &#x27;ARS&#x27; as const,
      notes: null,
    };
  })</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="191" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:191</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isExpired"></a>
                    <span class="name">
                        <span ><b>isExpired</b></span>
                        <a href="#isExpired"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>computed(() &#x3D;&gt; {
    const booking &#x3D; this.booking();
    return booking ? this.bookingsService.isExpired(booking) : false;
  })</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="221" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:221</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isOwner"></a>
                    <span class="name">
                        <span ><b>isOwner</b></span>
                        <a href="#isOwner"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>computed(() &#x3D;&gt; {
    const booking &#x3D; this.booking();
    const currentUser &#x3D; this.authService.session$()?.user;
    if (!booking || !currentUser) return false;

    // Need to check car owner_id - will load from car data
    return this.carOwnerId() &#x3D;&#x3D;&#x3D; currentUser.id;
  })</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="240" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:240</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isRenter"></a>
                    <span class="name">
                        <span ><b>isRenter</b></span>
                        <a href="#isRenter"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>computed(() &#x3D;&gt; {
    const booking &#x3D; this.booking();
    const currentUser &#x3D; this.authService.session$()?.user;
    return booking?.renter_id &#x3D;&#x3D;&#x3D; currentUser?.id;
  })</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="249" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:249</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="latestClaim"></a>
                    <span class="name">
                            <span class="modifier">Readonly</span>
                        <span ><b>latestClaim</b></span>
                        <a href="#latestClaim"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>computed(() &#x3D;&gt; {
    const claims &#x3D; this.bookingClaims();
    return claims.length &gt; 0 ? claims[0] : null;
  })</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="286" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:286</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loading"></a>
                    <span class="name">
                        <span ><b>loading</b></span>
                        <a href="#loading"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>signal(true)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="106" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:106</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadingClaims"></a>
                    <span class="name">
                        <span ><b>loadingClaims</b></span>
                        <a href="#loadingClaims"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>signal(false)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="159" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:159</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadingRate"></a>
                    <span class="name">
                        <span ><b>loadingRate</b></span>
                        <a href="#loadingRate"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>signal(false)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="152" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:152</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="logger"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>logger</b></span>
                        <a href="#logger"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>inject(LoggerService).createChildLogger(&#x27;BookingDetailPage&#x27;)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="103" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:103</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="metaService"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>metaService</b></span>
                        <a href="#metaService"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>inject(MetaService)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="98" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:98</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="payment"></a>
                    <span class="name">
                        <span ><b>payment</b></span>
                        <a href="#payment"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>signal&lt;BookingPaymentRow | null&gt;(null)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="164" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:164</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="paymentsService"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>paymentsService</b></span>
                        <a href="#paymentsService"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>inject(PaymentsService)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="94" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:94</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="paymentView"></a>
                    <span class="name">
                            <span class="modifier">Readonly</span>
                        <span ><b>paymentView</b></span>
                        <a href="#paymentView"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>computed(() &#x3D;&gt; {
    const payment &#x3D; this.payment();
    if (!payment) return null;

    const status &#x3D; payment.wallet_status || payment.deposit_status || &#x27;pendiente&#x27;;
    const method &#x3D; payment.payment_method || payment.payment_mode || &#x27;sin mtodo&#x27;;
    const date &#x3D; payment.paid_at || payment.wallet_charged_at || null;

    return { status, method, date };
  })</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="207" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:207</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="pricing"></a>
                    <span class="name">
                        <span ><b>pricing</b></span>
                        <a href="#pricing"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>signal&lt;BookingPricingRow | null&gt;(null)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="162" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:162</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="pricingView"></a>
                    <span class="name">
                            <span class="modifier">Readonly</span>
                        <span ><b>pricingView</b></span>
                        <a href="#pricingView"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>computed(() &#x3D;&gt; {
    const pricing &#x3D; this.pricing();
    const booking &#x3D; this.booking();
    if (!pricing) return null;

    return {
      nightlyRate: (pricing.nightly_rate_cents ?? 0) / 100,
      nights: pricing.days_count ?? booking?.days_count ?? 1,
      fees: (pricing.fees_cents ?? 0) / 100,
      discounts: (pricing.discounts_cents ?? 0) / 100,
      insurance: (pricing.insurance_cents ?? 0) / 100,
      total: (pricing.total_cents ?? pricing.subtotal_cents ?? 0) / 100,
      currency: &#x27;ARS&#x27; as const,
    };
  })</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="175" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:175</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="reviewsService"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>reviewsService</b></span>
                        <a href="#reviewsService"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>inject(ReviewsService)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="95" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:95</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="route"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>route</b></span>
                        <a href="#route"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>inject(ActivatedRoute)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="91" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:91</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="router"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>router</b></span>
                        <a href="#router"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>inject(Router)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="92" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:92</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="showConfirmationSection"></a>
                    <span class="name">
                        <span ><b>showConfirmationSection</b></span>
                        <a href="#showConfirmationSection"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>computed(() &#x3D;&gt; {
    const booking &#x3D; this.booking();
    return (
      booking?.completion_status &#x3D;&#x3D;&#x3D; &#x27;returned&#x27; ||
      booking?.completion_status &#x3D;&#x3D;&#x3D; &#x27;pending_owner&#x27; ||
      booking?.completion_status &#x3D;&#x3D;&#x3D; &#x27;pending_renter&#x27; ||
      booking?.completion_status &#x3D;&#x3D;&#x3D; &#x27;pending_both&#x27; ||
      booking?.completion_status &#x3D;&#x3D;&#x3D; &#x27;funds_released&#x27;
    );
  })</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="229" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:229</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="showConfirmedActions"></a>
                    <span class="name">
                        <span ><b>showConfirmedActions</b></span>
                        <a href="#showConfirmedActions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>computed(() &#x3D;&gt; this.booking()?.status &#x3D;&#x3D;&#x3D; &#x27;confirmed&#x27;)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="226" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:226</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="showDisputeForm"></a>
                    <span class="name">
                        <span ><b>showDisputeForm</b></span>
                        <a href="#showDisputeForm"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>signal(false)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="292" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:292</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="showRefundForm"></a>
                    <span class="name">
                        <span ><b>showRefundForm</b></span>
                        <a href="#showRefundForm"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>signal(false)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="293" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:293</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="timeRemaining"></a>
                    <span class="name">
                        <span ><b>timeRemaining</b></span>
                        <a href="#timeRemaining"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>signal&lt;string | null&gt;(null)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="108" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:108</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="totalInARS"></a>
                    <span class="name">
                        <span ><b>totalInARS</b></span>
                        <a href="#totalInARS"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>signal&lt;number | null&gt;(null)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="151" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:151</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="tracking"></a>
                    <span class="name">
                        <span ><b>tracking</b></span>
                        <a href="#tracking"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>signal&lt;{
    sessionId: string;
    active: boolean;
    started_at: string;
    ended_at?: string | null;
    points: number;
  } | null&gt;(null)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="165" class="link-to-prism">src/app/features/bookings/booking-detail/booking-detail.page.ts:165</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { CommonModule } from &#x27;@angular/common&#x27;;
import { Component, OnDestroy, OnInit, computed, inject, signal } from &#x27;@angular/core&#x27;;
import { ActivatedRoute, Router, RouterLink } from &#x27;@angular/router&#x27;;
import { TranslateModule } from &#x27;@ngx-translate/core&#x27;;
import { firstValueFrom } from &#x27;rxjs&#x27;;
import { Booking } from &#x27;../../../core/models&#x27;;
import { BookingInspection } from &#x27;../../../core/models/fgo-v1-1.model&#x27;;
import { CLAIM_STATUS_LABELS, InsuranceClaim } from &#x27;../../../core/models/insurance.model&#x27;;
import { AuthService } from &#x27;../../../core/services/auth.service&#x27;;
import {
  BookingConfirmationService,
  ConfirmAndReleaseResponse,
} from &#x27;../../../core/services/booking-confirmation.service&#x27;;
import { BookingsService } from &#x27;../../../core/services/bookings.service&#x27;;
import { ExchangeRateService } from &#x27;../../../core/services/exchange-rate.service&#x27;;
import { FgoV1_1Service } from &#x27;../../../core/services/fgo-v1-1.service&#x27;;
import { InsuranceService } from &#x27;../../../core/services/insurance.service&#x27;;
import { MetaService } from &#x27;../../../core/services/meta.service&#x27;;
import { PaymentsService } from &#x27;../../../core/services/payments.service&#x27;;
import { ReviewsService } from &#x27;../../../core/services/reviews.service&#x27;;
import { LoggerService } from &#x27;../../../core/services/logger.service&#x27;;
import { BookingChatComponent } from &#x27;../../../shared/components/booking-chat/booking-chat.component&#x27;;
import { BookingConfirmationTimelineComponent } from &#x27;../../../shared/components/booking-confirmation-timeline/booking-confirmation-timeline.component&#x27;;
import { BookingContractComponent } from &#x27;../../../shared/components/booking-contract/booking-contract.component&#x27;;
import { DepositStatusBadgeComponent } from &#x27;../../../shared/components/deposit-status-badge/deposit-status-badge.component&#x27;;
import { DisputeFormComponent } from &#x27;../../../shared/components/dispute-form/dispute-form.component&#x27;;
import { DisputesListComponent } from &#x27;../../../shared/components/disputes-list/disputes-list.component&#x27;;
import { DistanceRiskTierBadgeComponent } from &#x27;../../../shared/components/distance-risk-tier-badge/distance-risk-tier-badge.component&#x27;;
import { OwnerConfirmationComponent } from &#x27;../../../shared/components/owner-confirmation/owner-confirmation.component&#x27;;
import { RefundRequestComponent } from &#x27;../../../shared/components/refund-request/refund-request.component&#x27;;
import { RefundStatusComponent } from &#x27;../../../shared/components/refund-status/refund-status.component&#x27;;
import { RenterConfirmationComponent } from &#x27;../../../shared/components/renter-confirmation/renter-confirmation.component&#x27;;
import { ShareButtonComponent } from &#x27;../../../shared/components/share-button/share-button.component&#x27;;
import { BookingOpsTimelineComponent } from &#x27;../../../shared/components/booking-ops-timeline/booking-ops-timeline.component&#x27;;
import { BookingTrackingComponent } from &#x27;../../../shared/components/booking-tracking/booking-tracking.component&#x27;;
import { BookingPricingBreakdownComponent } from &#x27;../../../shared/components/booking-pricing-breakdown/booking-pricing-breakdown.component&#x27;;
import { BookingInsuranceSummaryComponent } from &#x27;../../../shared/components/booking-insurance-summary/booking-insurance-summary.component&#x27;;
import {
  BookingCancellationRow,
  BookingConfirmationRow,
  BookingInsuranceRow,
  BookingOpsService,
  BookingPaymentRow,
  BookingPricingRow,
} from &#x27;../../../core/services/booking-ops.service&#x27;;
import { BookingStatusComponent } from &#x27;./booking-status.component&#x27;;
import { ReviewManagementComponent } from &#x27;./review-management.component&#x27;;

/**
 * BookingDetailPage
 *
 * This component acts as a container for the booking detail view. It is responsible for:
 * - Fetching the booking data from the server.
 * - Passing the booking data to child components that handle specific aspects of the view.
 * - Handling general page-level concerns like loading and error states.
 *
 * The component has been refactored to delegate responsibilities to smaller, more focused child components:
 * - app-booking-status: Displays the current status of the booking.
 * - app-review-management: Manages the creation and display of reviews.
 */
@Component({
  selector: &#x27;app-booking-detail&#x27;,
  standalone: true,
  imports: [
    CommonModule,
    RouterLink,
    OwnerConfirmationComponent,
    RenterConfirmationComponent,
    BookingChatComponent,
    TranslateModule,
    BookingStatusComponent,
    ReviewManagementComponent,
    DepositStatusBadgeComponent,
    DisputeFormComponent,
    DisputesListComponent,
    RefundRequestComponent,
    BookingContractComponent,
    RefundStatusComponent,
    ShareButtonComponent,
    DistanceRiskTierBadgeComponent,
    BookingConfirmationTimelineComponent,
    BookingOpsTimelineComponent,
    BookingTrackingComponent,
    BookingPricingBreakdownComponent,
    BookingInsuranceSummaryComponent,
  ],
  templateUrl: &#x27;./booking-detail.page.html&#x27;,
  styleUrl: &#x27;./booking-detail.page.css&#x27;,
})
export class BookingDetailPage implements OnInit, OnDestroy {
  private readonly route &#x3D; inject(ActivatedRoute);
  private readonly router &#x3D; inject(Router);
  private readonly bookingsService &#x3D; inject(BookingsService);
  private readonly paymentsService &#x3D; inject(PaymentsService);
  private readonly reviewsService &#x3D; inject(ReviewsService);
  private readonly authService &#x3D; inject(AuthService);
  private readonly confirmationService &#x3D; inject(BookingConfirmationService);
  private readonly metaService &#x3D; inject(MetaService);
  private readonly exchangeRateService &#x3D; inject(ExchangeRateService);
  private readonly fgoService &#x3D; inject(FgoV1_1Service);
  private readonly insuranceService &#x3D; inject(InsuranceService);
  private readonly bookingOpsService &#x3D; inject(BookingOpsService);
  private readonly logger &#x3D; inject(LoggerService).createChildLogger(&#x27;BookingDetailPage&#x27;);

  booking &#x3D; signal&lt;Booking | null&gt;(null);
  loading &#x3D; signal(true);
  error &#x3D; signal&lt;string | null&gt;(null);
  timeRemaining &#x3D; signal&lt;string | null&gt;(null);

  readonly bookingFlowSteps &#x3D; [
    {
      key: &#x27;pending&#x27;,
      label: &#x27;Solicitud enviada&#x27;,
      description: &#x27;Estamos esperando la aprobacin del anfitrin.&#x27;,
    },
    {
      key: &#x27;pending_payment&#x27;,
      label: &#x27;Pago pendiente&#x27;,
      description: &#x27;Confirma el pago para bloquear las fechas.&#x27;,
    },
    {
      key: &#x27;confirmed&#x27;,
      label: &#x27;Reserva confirmada&#x27;,
      description: &#x27;Preparate para coordinar el check-in y la entrega.&#x27;,
    },
    {
      key: &#x27;in_progress&#x27;,
      label: &#x27;Check-in y uso&#x27;,
      description: &#x27;Realiz las inspecciones y disfrut del viaje.&#x27;,
    },
    {
      key: &#x27;completed&#x27;,
      label: &#x27;Check-out y cierre&#x27;,
      description: &#x27;Inspeccin final y liberacin de fondos.&#x27;,
    },
  ] as const;

  readonly currentBookingStageIndex &#x3D; computed(() &#x3D;&gt; {
    const booking &#x3D; this.booking();
    if (!booking) return 0;
    const idx &#x3D; this.bookingFlowSteps.findIndex((step) &#x3D;&gt; step.key &#x3D;&#x3D;&#x3D; booking.status);
    if (idx &gt;&#x3D; 0) return idx;
    if (booking.status &#x3D;&#x3D;&#x3D; &#x27;cancelled&#x27;) {
      return 0;
    }
    return this.bookingFlowSteps.length - 1;
  });

  // Exchange rate signals
  exchangeRate &#x3D; signal&lt;number | null&gt;(null);
  totalInARS &#x3D; signal&lt;number | null&gt;(null);
  loadingRate &#x3D; signal(false);

  // FGO signals
  inspections &#x3D; signal&lt;BookingInspection[]&gt;([]);

  // Claims signals
  bookingClaims &#x3D; signal&lt;InsuranceClaim[]&gt;([]);
  loadingClaims &#x3D; signal(false);

  // Pricing / insurance / payment / tracking
  pricing &#x3D; signal&lt;BookingPricingRow | null&gt;(null);
  insurance &#x3D; signal&lt;BookingInsuranceRow | null&gt;(null);
  payment &#x3D; signal&lt;BookingPaymentRow | null&gt;(null);
  tracking &#x3D; signal&lt;{
    sessionId: string;
    active: boolean;
    started_at: string;
    ended_at?: string | null;
    points: number;
  } | null&gt;(null);
  confirmation &#x3D; signal&lt;BookingConfirmationRow | null&gt;(null);
  cancellation &#x3D; signal&lt;BookingCancellationRow | null&gt;(null);

  readonly pricingView &#x3D; computed(() &#x3D;&gt; {
    const pricing &#x3D; this.pricing();
    const booking &#x3D; this.booking();
    if (!pricing) return null;

    return {
      nightlyRate: (pricing.nightly_rate_cents ?? 0) / 100,
      nights: pricing.days_count ?? booking?.days_count ?? 1,
      fees: (pricing.fees_cents ?? 0) / 100,
      discounts: (pricing.discounts_cents ?? 0) / 100,
      insurance: (pricing.insurance_cents ?? 0) / 100,
      total: (pricing.total_cents ?? pricing.subtotal_cents ?? 0) / 100,
      currency: &#x27;ARS&#x27; as const,
    };
  });

  readonly insuranceView &#x3D; computed(() &#x3D;&gt; {
    const insurance &#x3D; this.insurance();
    if (!insurance) return null;

    return {
      coverageName: insurance.coverage_upgrade || &#x27;Estndar&#x27;,
      premium: insurance.insurance_premium_total ? insurance.insurance_premium_total / 100 : 0,
      guaranteeType: insurance.guarantee_type || &#x27;hold&#x27;,
      guaranteeAmount: insurance.guarantee_amount_cents
        ? insurance.guarantee_amount_cents / 100
        : undefined,
      currency: &#x27;ARS&#x27; as const,
      notes: null,
    };
  });

  readonly paymentView &#x3D; computed(() &#x3D;&gt; {
    const payment &#x3D; this.payment();
    if (!payment) return null;

    const status &#x3D; payment.wallet_status || payment.deposit_status || &#x27;pendiente&#x27;;
    const method &#x3D; payment.payment_method || payment.payment_mode || &#x27;sin mtodo&#x27;;
    const date &#x3D; payment.paid_at || payment.wallet_charged_at || null;

    return { status, method, date };
  });

  private countdownInterval: number | null &#x3D; null;

  // Computed properties
  isExpired &#x3D; computed(() &#x3D;&gt; {
    const booking &#x3D; this.booking();
    return booking ? this.bookingsService.isExpired(booking) : false;
  });

  showConfirmedActions &#x3D; computed(() &#x3D;&gt; this.booking()?.status &#x3D;&#x3D;&#x3D; &#x27;confirmed&#x27;);

  // Confirmations - show if booking is in &quot;returned&quot; status
  showConfirmationSection &#x3D; computed(() &#x3D;&gt; {
    const booking &#x3D; this.booking();
    return (
      booking?.completion_status &#x3D;&#x3D;&#x3D; &#x27;returned&#x27; ||
      booking?.completion_status &#x3D;&#x3D;&#x3D; &#x27;pending_owner&#x27; ||
      booking?.completion_status &#x3D;&#x3D;&#x3D; &#x27;pending_renter&#x27; ||
      booking?.completion_status &#x3D;&#x3D;&#x3D; &#x27;pending_both&#x27; ||
      booking?.completion_status &#x3D;&#x3D;&#x3D; &#x27;funds_released&#x27;
    );
  });

  isOwner &#x3D; computed(() &#x3D;&gt; {
    const booking &#x3D; this.booking();
    const currentUser &#x3D; this.authService.session$()?.user;
    if (!booking || !currentUser) return false;

    // Need to check car owner_id - will load from car data
    return this.carOwnerId() &#x3D;&#x3D;&#x3D; currentUser.id;
  });

  isRenter &#x3D; computed(() &#x3D;&gt; {
    const booking &#x3D; this.booking();
    const currentUser &#x3D; this.authService.session$()?.user;
    return booking?.renter_id &#x3D;&#x3D;&#x3D; currentUser?.id;
  });

  // Car owner ID and name (loaded separately)
  carOwnerId &#x3D; signal&lt;string | null&gt;(null);
  carOwnerName &#x3D; signal&lt;string&gt;(&#x27;el anfitrin&#x27;);

  //  FGO v1.1: Computed properties para inspecciones
  readonly canUploadInspection &#x3D; computed(() &#x3D;&gt; {
    const booking &#x3D; this.booking();
    return booking?.status &#x3D;&#x3D;&#x3D; &#x27;in_progress&#x27; || booking?.status &#x3D;&#x3D;&#x3D; &#x27;completed&#x27;;
  });

  readonly hasCheckIn &#x3D; computed(() &#x3D;&gt; {
    return this.inspections().some((i: BookingInspection) &#x3D;&gt; i.stage &#x3D;&#x3D;&#x3D; &#x27;check_in&#x27; &amp;&amp; i.signedAt);
  });

  readonly hasCheckOut &#x3D; computed(() &#x3D;&gt; {
    return this.inspections().some((i: BookingInspection) &#x3D;&gt; i.stage &#x3D;&#x3D;&#x3D; &#x27;check_out&#x27; &amp;&amp; i.signedAt);
  });

  readonly hasClaim &#x3D; computed(() &#x3D;&gt; {
    return this.bookingClaims().length &gt; 0;
  });

  readonly canReportClaim &#x3D; computed(() &#x3D;&gt; {
    const booking &#x3D; this.booking();
    if (!booking || !this.isRenter()) return false;
    // Can report claim during in_progress or completed status
    const validStatus &#x3D; booking.status &#x3D;&#x3D;&#x3D; &#x27;in_progress&#x27; || booking.status &#x3D;&#x3D;&#x3D; &#x27;completed&#x27;;
    // Only allow if no claim already exists for this booking
    return validStatus &amp;&amp; !this.hasClaim();
  });

  readonly latestClaim &#x3D; computed(() &#x3D;&gt; {
    const claims &#x3D; this.bookingClaims();
    return claims.length &gt; 0 ? claims[0] : null;
  });

  // Disputes and refunds
  showDisputeForm &#x3D; signal(false);
  showRefundForm &#x3D; signal(false);

  readonly canCreateDispute &#x3D; computed(() &#x3D;&gt; {
    const booking &#x3D; this.booking();
    if (!booking) return false;
    // Can create dispute for active or completed bookings
    return booking.status &#x3D;&#x3D;&#x3D; &#x27;in_progress&#x27; || booking.status &#x3D;&#x3D;&#x3D; &#x27;completed&#x27;;
  });

  readonly canRequestRefund &#x3D; computed(() &#x3D;&gt; {
    const booking &#x3D; this.booking();
    if (!booking) return false;
    // Can request refund for completed or cancelled bookings
    return booking.status &#x3D;&#x3D;&#x3D; &#x27;completed&#x27; || booking.status &#x3D;&#x3D;&#x3D; &#x27;cancelled&#x27;;
  });

  onDisputeCreated(): void {
    // Reload disputes if needed
    this.showDisputeForm.set(false);
  }

  onRefundRequested(): void {
    // Reload booking to get updated refund status
    const bookingId &#x3D; this.booking()?.id;
    if (bookingId) {
      this.bookingsService.getBookingById(bookingId).then((updated) &#x3D;&gt; {
        if (updated) {
          this.booking.set(updated);
        }
      });
    }
    this.showRefundForm.set(false);
  }

  // Computed properties para acciones de check-in/check-out
  readonly canPerformCheckIn &#x3D; computed(() &#x3D;&gt; {
    const booking &#x3D; this.booking();
    if (!booking || !this.isRenter()) return false;
    const validStatus &#x3D; booking.status &#x3D;&#x3D;&#x3D; &#x27;confirmed&#x27; || booking.status &#x3D;&#x3D;&#x3D; &#x27;in_progress&#x27;;
    return validStatus &amp;&amp; !this.hasCheckIn();
  });

  readonly canPerformCheckOut &#x3D; computed(() &#x3D;&gt; {
    const booking &#x3D; this.booking();
    if (!booking || !this.isRenter()) return false;
    const validStatus &#x3D; booking.status &#x3D;&#x3D;&#x3D; &#x27;in_progress&#x27;;
    return validStatus &amp;&amp; this.hasCheckIn() &amp;&amp; !this.hasCheckOut();
  });

  readonly canReportDamage &#x3D; computed(() &#x3D;&gt; {
    const booking &#x3D; this.booking();
    if (!booking || !this.isOwner()) return false;
    // Owner can report damage after vehicle return (completed status or returned_at is set)
    const canReport &#x3D;
      (booking.status &#x3D;&#x3D;&#x3D; &#x27;completed&#x27; || booking.returned_at !&#x3D;&#x3D; null) &amp;&amp;
      !booking.owner_reported_damages;
    return canReport;
  });

  isStepCompleted(index: number): boolean {
    return index &lt; this.currentBookingStageIndex();
  }

  isStepCurrent(index: number): boolean {
    return index &#x3D;&#x3D;&#x3D; this.currentBookingStageIndex();
  }

  isStepUpcoming(index: number): boolean {
    return index &gt; this.currentBookingStageIndex();
  }

  async ngOnInit() {
    const bookingId &#x3D; this.route.snapshot.paramMap.get(&#x27;id&#x27;);
    if (!bookingId) {
      this.error.set(&#x27;ID de reserva invlido&#x27;);
      this.loading.set(false);
      return;
    }

    try {
      const booking &#x3D; await this.bookingsService.getBookingById(bookingId);
      if (!booking) {
        this.error.set(&#x27;Reserva no encontrada&#x27;);
        this.loading.set(false);
        return;
      }

      this.booking.set(booking);
      this.startCountdown();

      // Update SEO meta tags (private page - noindex)
      this.metaService.updateBookingDetailMeta(booking.id);

      // Load exchange rate for ARS conversion
      await this.loadExchangeRate();

      // Load car owner ID for confirmation logic
      await this.loadCarOwner();

      // Load FGO inspections
      await this.loadInspections();

      // Load claims for this booking
      await this.loadClaims();

      // Load pricing / insurance / tracking (best-effort)
      void this.loadPricing(booking.id);
      void this.loadInsurance(booking.id);
      void this.loadPayment(booking.id);
      void this.loadTracking(booking.id);
      void this.loadConfirmation(booking.id);
      void this.loadCancellation(booking.id);
    } catch {
      this.error.set(&#x27;Error al cargar la reserva&#x27;);
    } finally {
      this.loading.set(false);
    }
  }

  private async loadExchangeRate(): Promise&lt;void&gt; {
    const booking &#x3D; this.booking();
    if (!booking || !booking.breakdown?.total_cents) return;

    try {
      this.loadingRate.set(true);
      const rate &#x3D; await this.exchangeRateService.getPlatformRate();
      this.exchangeRate.set(rate);

      // Convert total USD to ARS
      const totalUSD &#x3D; booking.breakdown.total_cents / 100; // Convertir centavos a dlares
      const totalARS &#x3D; await this.exchangeRateService.convertUsdToArs(totalUSD);
      this.totalInARS.set(totalARS);
    } catch {
      // No fallar si no se puede obtener la tasa, solo no mostrar conversin
    } finally {
      this.loadingRate.set(false);
    }
  }

  private async loadCarOwner(): Promise&lt;void&gt; {
    const booking &#x3D; this.booking();
    if (!booking) return;

    try {
      const { data: car } &#x3D; await this.bookingsService[&#x27;supabase&#x27;]
        .from(&#x27;cars&#x27;)
        .select(&#x27;owner_id, owner:profiles!cars_owner_id_fkey(id, full_name)&#x27;)
        .eq(&#x27;id&#x27;, booking.car_id)
        .single();

      if (car) {
        this.carOwnerId.set(car.owner_id);
        const owner &#x3D; car.owner as { full_name?: string } | undefined;
        const ownerFullName &#x3D; owner?.full_name || &#x27;el anfitrin&#x27;;
        this.carOwnerName.set(ownerFullName);
      }
    } catch {
      // Silently ignore errors loading owner name
    }
  }

  private async loadInspections(): Promise&lt;void&gt; {
    const booking &#x3D; this.booking();
    if (!booking) return;

    try {
      const inspections &#x3D; await firstValueFrom(this.fgoService.getInspections(booking.id));
      this.inspections.set(inspections);
    } catch {
      // Non-blocking error, inspections are optional
    }
  }

  private async loadClaims(): Promise&lt;void&gt; {
    const booking &#x3D; this.booking();
    if (!booking) return;

    try {
      this.loadingClaims.set(true);
      // Get all claims and filter by booking_id
      const allClaims &#x3D; await firstValueFrom(this.insuranceService.getMyClaims());
      const bookingClaims &#x3D; allClaims.filter((c) &#x3D;&gt; c.booking_id &#x3D;&#x3D;&#x3D; booking.id);
      this.bookingClaims.set(bookingClaims);
    } catch {
      // Non-blocking error, claims are optional
    } finally {
      this.loadingClaims.set(false);
    }
  }

  private async loadPricing(bookingId: string): Promise&lt;void&gt; {
    try {
      const pricing &#x3D; await this.bookingOpsService.getPricing(bookingId);
      this.pricing.set(pricing);
    } catch (error) {
      this.logger.warn(&#x27;booking-pricing-load&#x27;, error);
    }
  }

  private async loadInsurance(bookingId: string): Promise&lt;void&gt; {
    try {
      const insurance &#x3D; await this.bookingOpsService.getInsurance(bookingId);
      this.insurance.set(insurance);
    } catch (error) {
      this.logger.warn(&#x27;booking-insurance-load&#x27;, error);
    }
  }

  private async loadPayment(bookingId: string): Promise&lt;void&gt; {
    try {
      const payment &#x3D; await this.bookingOpsService.getPayment(bookingId);
      this.payment.set(payment);
    } catch (error) {
      this.logger.warn(&#x27;booking-payment-load&#x27;, error);
    }
  }

  private async loadTracking(bookingId: string): Promise&lt;void&gt; {
    try {
      const session &#x3D; await this.bookingOpsService.getTrackingSession(bookingId);
      if (!session) {
        this.tracking.set(null);
        return;
      }

      const points &#x3D; await this.bookingOpsService.countTrackingPoints(session.id);
      this.tracking.set({
        sessionId: session.id,
        active: session.active,
        started_at: session.started_at,
        ended_at: session.ended_at,
        points,
      });
    } catch (error) {
      this.logger.warn(&#x27;booking-tracking-load&#x27;, error);
    }
  }

  private async loadConfirmation(bookingId: string): Promise&lt;void&gt; {
    try {
      const confirmation &#x3D; await this.bookingOpsService.getConfirmation(bookingId);
      this.confirmation.set(confirmation);
    } catch (error) {
      this.logger.warn(&#x27;booking-confirmation-load&#x27;, error);
    }
  }

  private async loadCancellation(bookingId: string): Promise&lt;void&gt; {
    try {
      const cancellation &#x3D; await this.bookingOpsService.getCancellation(bookingId);
      this.cancellation.set(cancellation);
    } catch (error) {
      this.logger.warn(&#x27;booking-cancellation-load&#x27;, error);
    }
  }

  getClaimStatusLabel(status: InsuranceClaim[&#x27;status&#x27;]): string {
    return CLAIM_STATUS_LABELS[status];
  }

  getClaimStatusColor(status: InsuranceClaim[&#x27;status&#x27;]): string {
    const colorMap &#x3D; {
      reported: &#x27;orange&#x27;,
      pending: &#x27;yellow&#x27;,
      investigating: &#x27;purple&#x27;,
      under_review: &#x27;blue&#x27;,
      approved: &#x27;green&#x27;,
      rejected: &#x27;red&#x27;,
      paid: &#x27;green&#x27;,
      closed: &#x27;gray&#x27;,
    };
    return colorMap[status] || &#x27;gray&#x27;;
  }

  ngOnDestroy() {
    this.stopCountdown();
  }

  private startCountdown() {
    const booking &#x3D; this.booking();
    if (!booking || booking.status !&#x3D;&#x3D; &#x27;pending&#x27; || !booking.expires_at) {
      return;
    }

    this.stopCountdown();
    this.updateCountdown();

    // Update every second
    this.countdownInterval &#x3D; window.setInterval(() &#x3D;&gt; {
      this.updateCountdown();
    }, 1000);
  }

  private stopCountdown() {
    if (this.countdownInterval !&#x3D;&#x3D; null) {
      clearInterval(this.countdownInterval);
      this.countdownInterval &#x3D; null;
    }
  }

  private updateCountdown() {
    const booking &#x3D; this.booking();
    if (!booking) return;

    const remaining &#x3D; this.bookingsService.getTimeUntilExpiration(booking);
    if (remaining &#x3D;&#x3D;&#x3D; null || remaining &#x3D;&#x3D;&#x3D; 0) {
      this.timeRemaining.set(null);
      this.stopCountdown();
      return;
    }

    this.timeRemaining.set(this.bookingsService.formatTimeRemaining(remaining));
  }

  formatCurrency(cents: number, currency: string): string {
    const amount &#x3D; cents / 100;
    return new Intl.NumberFormat(&#x27;es-AR&#x27;, {
      style: &#x27;currency&#x27;,
      currency: currency,
      minimumFractionDigits: 0,
      maximumFractionDigits: 0,
    }).format(amount);
  }

  getBookingDetailsText(): string {
    const booking &#x3D; this.booking();
    if (!booking) return &#x27;Mi reserva en Autorentar&#x27;;

    const carInfo &#x3D; &#x60;${booking.car_brand} ${booking.car_model}&#x60;;
    const dates &#x3D;
      booking.start_at &amp;&amp; booking.end_at
        ? &#x60;${this.formatDateTime(booking.start_at)} - ${this.formatDateTime(booking.end_at)}&#x60;
        : &#x27;&#x27;;

    return &#x60;Reserva: ${carInfo}${dates ? &#x60; (${dates})&#x60; : &#x27;&#x27;}&#x60;;
  }

  private getTotalCents(booking: Booking): number {
    if (booking.breakdown?.total_cents) {
      return booking.breakdown.total_cents;
    }
    return Math.round((booking.total_amount ?? 0) * 100);
  }

  private formatUsd(amount: number): string {
    const fractionDigits &#x3D; Number.isInteger(amount) ? 0 : 2;
    return new Intl.NumberFormat(&#x27;es-AR&#x27;, {
      style: &#x27;currency&#x27;,
      currency: &#x27;USD&#x27;,
      minimumFractionDigits: fractionDigits,
      maximumFractionDigits: fractionDigits,
    }).format(amount);
  }

  formatDate(dateStr: string): string {
    return new Date(dateStr).toLocaleDateString(&#x27;es-AR&#x27;, {
      day: &#x27;2-digit&#x27;,
      month: &#x27;2-digit&#x27;,
      year: &#x27;numeric&#x27;,
    });
  }

  formatDateTime(dateStr: string): string {
    return new Date(dateStr).toLocaleString(&#x27;es-AR&#x27;, {
      day: &#x27;2-digit&#x27;,
      month: &#x27;2-digit&#x27;,
      year: &#x27;numeric&#x27;,
      hour: &#x27;2-digit&#x27;,
      minute: &#x27;2-digit&#x27;,
    });
  }

  // Confirmation handlers
  async handleConfirmationSuccess(result: ConfirmAndReleaseResponse): Promise&lt;void&gt; {
    // Reload booking to get updated status
    const bookingId &#x3D; this.booking()?.id;
    if (bookingId) {
      const updated &#x3D; await this.bookingsService.getBookingById(bookingId);
      this.booking.set(updated);
    }

    // Show success message
    if (result.funds_released) {
      alert(&#x60; ${result.message}\n\nLos fondos fueron liberados automticamente!&#x60;);
    } else {
      alert(&#x60; ${result.message}&#x60;);
    }
  }

  handleConfirmationError(errorMessage: string): void {
    alert(&#x60; Error: ${errorMessage}&#x60;);
  }

  async handleTimelineAction(event: {
    action: &#x27;owner_confirm&#x27; | &#x27;renter_confirm&#x27; | &#x27;mark_returned&#x27;;
    bookingId: string;
  }): Promise&lt;void&gt; {
    switch (event.action) {
      case &#x27;owner_confirm&#x27;:
        this.scrollToSection(&#x27;owner-confirmation-section&#x27;);
        break;
      case &#x27;renter_confirm&#x27;:
        this.scrollToSection(&#x27;renter-confirmation-section&#x27;);
        break;
      case &#x27;mark_returned&#x27;:
        await this.handleMarkAsReturned(event.bookingId);
        break;
      default:
        console.warn(&#x27;Accin de timeline desconocida&#x27;, event);
    }
  }

  private scrollToSection(elementId: string): void {
    const element &#x3D; document.getElementById(elementId);
    if (element) {
      element.scrollIntoView({ behavior: &#x27;smooth&#x27;, block: &#x27;start&#x27; });
    }
  }

  private async handleMarkAsReturned(bookingId: string): Promise&lt;void&gt; {
    const userId &#x3D; this.authService.session$()?.user?.id;
    if (!userId) {
      alert(&#x27;Necesitas iniciar sesin para continuar.&#x27;);
      return;
    }

    const confirmReturn &#x3D; confirm(&#x27;Confirms que devolviste el vehculo al propietario?&#x27;);
    if (!confirmReturn) {
      return;
    }

    try {
      await this.confirmationService.markAsReturned({
        booking_id: bookingId,
        returned_by: userId,
      });

      const updatedBooking &#x3D; await this.bookingsService.getBookingById(bookingId);
      if (updatedBooking) {
        this.booking.set(updatedBooking);
      }

      alert(&#x27;Marcaste la reserva como devuelta. Gracias por completar este paso.&#x27;);
    } catch (error) {
      console.error(&#x27;Error al marcar la reserva como devuelta&#x27;, error);
      alert(&#x27;No pudimos marcar la devolucin. Intentalo nuevamente en unos minutos.&#x27;);
    }
  }
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="templateData">
        <pre class="line-numbers"><code class="language-html">&lt;div class&#x3D;&quot;max-w-7xl mx-auto py-8 px-4&quot;&gt;
  &lt;!-- Loading State --&gt;
  &lt;div *ngIf&#x3D;&quot;loading()&quot; class&#x3D;&quot;text-center py-12&quot;&gt;
    &lt;p class&#x3D;&quot;text-text-secondary dark:text-text-secondary&quot;&gt;Cargando reserva...&lt;/p&gt;
  &lt;/div&gt;

  &lt;!-- Error State --&gt;
  &lt;div *ngIf&#x3D;&quot;error() &amp;&amp; !loading()&quot; class&#x3D;&quot;bg-error-bg border border-error-border rounded-xl p-6&quot;&gt;
    &lt;p class&#x3D;&quot;text-error-strong&quot;&gt;{{ error() }}&lt;/p&gt;
    &lt;button
      routerLink&#x3D;&quot;/bookings&quot;
      class&#x3D;&quot;mt-4 px-4 py-2 bg-error-600 text-text-inverse rounded-xl hover:bg-error-700&quot;
    &gt;
      Volver a mis reservas
    &lt;/button&gt;
  &lt;/div&gt;

  &lt;!-- Booking Detail --&gt;
  &lt;div *ngIf&#x3D;&quot;booking() &amp;&amp; !loading()&quot; class&#x3D;&quot;space-y-4 sm:space-y-6&quot;&gt;
    &lt;!-- Back Button --&gt;
    &lt;button
      routerLink&#x3D;&quot;/bookings&quot;
      class&#x3D;&quot;inline-flex items-center gap-2 text-sm font-medium text-cta-default hover:text-warning-light transition-base mb-2&quot;
    &gt;
      &lt;svg class&#x3D;&quot;w-4 h-4&quot; fill&#x3D;&quot;none&quot; stroke&#x3D;&quot;currentColor&quot; viewBox&#x3D;&quot;0 0 24 24&quot;&gt;
        &lt;path
          stroke-linecap&#x3D;&quot;round&quot;
          stroke-linejoin&#x3D;&quot;round&quot;
          stroke-width&#x3D;&quot;2&quot;
          d&#x3D;&quot;M10 19l-7-7m0 0l7-7m-7 7h18&quot;
        /&gt;
      &lt;/svg&gt;
      Volver a mis reservas
    &lt;/button&gt;

    &lt;!-- Booking Flow Progress --&gt;
    &lt;div
      class&#x3D;&quot;rounded-2xl border border-border-default dark:border-border-muted bg-surface-raised dark:bg-surface-secondary p-4 sm:p-6 shadow-sm&quot;
    &gt;
      &lt;div class&#x3D;&quot;flex items-center justify-between&quot;&gt;
        &lt;div&gt;
          &lt;p
            class&#x3D;&quot;text-xs font-semibold uppercase tracking-wide text-text-muted dark:text-text-secondary/70&quot;
          &gt;
            Estado del flujo
          &lt;/p&gt;
          &lt;p class&#x3D;&quot;text-sm text-text-secondary dark:text-text-secondary/80&quot;&gt;
            Seguimiento paso a paso de tu reserva
          &lt;/p&gt;
        &lt;/div&gt;
        &lt;span class&#x3D;&quot;text-xs font-medium text-cta-default&quot;&gt;
          Paso {{ currentBookingStageIndex() + 1 }} / {{ bookingFlowSteps.length }}
        &lt;/span&gt;
      &lt;/div&gt;

      &lt;div class&#x3D;&quot;mt-5 flex flex-col gap-4 sm:flex-row sm:items-center sm:gap-0&quot;&gt;
        &lt;ng-container *ngFor&#x3D;&quot;let step of bookingFlowSteps; let i &#x3D; index&quot;&gt;
          &lt;div class&#x3D;&quot;flex flex-1 items-start gap-3 p-2&quot;&gt;
            &lt;div
              class&#x3D;&quot;flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-full border text-sm font-semibold transition-colors&quot;
              [ngClass]&#x3D;&quot;{
                &#x27;bg-cta-default text-cta-text border-cta-default shadow-md shadow-accent-petrol/30&#x27;:
                  isStepCompleted(i) || isStepCurrent(i),
                &#x27;bg-surface-raised text-text-muted border-ash-gray/40 dark:bg-surface-secondary/60 dark:text-text-secondary/50 dark:border-pearl-light/20&#x27;:
                  isStepUpcoming(i),
              }&quot;
            &gt;
              &lt;svg
                *ngIf&#x3D;&quot;isStepCompleted(i)&quot;
                class&#x3D;&quot;h-5 w-5&quot;
                fill&#x3D;&quot;none&quot;
                stroke&#x3D;&quot;currentColor&quot;
                viewBox&#x3D;&quot;0 0 24 24&quot;
              &gt;
                &lt;path
                  stroke-linecap&#x3D;&quot;round&quot;
                  stroke-linejoin&#x3D;&quot;round&quot;
                  stroke-width&#x3D;&quot;2&quot;
                  d&#x3D;&quot;M5 13l4 4L19 7&quot;
                /&gt;
              &lt;/svg&gt;
              &lt;span *ngIf&#x3D;&quot;!isStepCompleted(i)&quot;&gt;{{ i + 1 }}&lt;/span&gt;
            &lt;/div&gt;
            &lt;div&gt;
              &lt;p
                class&#x3D;&quot;text-sm font-semibold&quot;
                [ngClass]&#x3D;&quot;{
                  &#x27;text-text-primary dark:text-text-inverse&#x27;:
                    isStepCompleted(i) || isStepCurrent(i),
                  &#x27;text-text-muted dark:text-text-secondary/60&#x27;: isStepUpcoming(i),
                }&quot;
              &gt;
                {{ step.label }}
              &lt;/p&gt;
              &lt;p class&#x3D;&quot;text-xs text-text-muted dark:text-text-secondary/70&quot;&gt;
                {{ step.description }}
              &lt;/p&gt;
            &lt;/div&gt;
          &lt;/div&gt;

          &lt;div
            *ngIf&#x3D;&quot;i &lt; bookingFlowSteps.length - 1&quot;
            class&#x3D;&quot;hidden sm:block h-0.5 flex-1 bg-gradient-to-r from-ash-gray/10 via-ash-gray/40 to-ash-gray/10&quot;
          &gt;&lt;/div&gt;
        &lt;/ng-container&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;!-- Two Column Layout for Desktop --&gt;
    &lt;div class&#x3D;&quot;grid grid-cols-1 lg:grid-cols-2 gap-6&quot;&gt;
      &lt;!-- Left Column: Booking Info --&gt;
      &lt;div class&#x3D;&quot;space-y-4 sm:space-y-6&quot;&gt;
        &lt;!-- Compact Hero Section --&gt;
        &lt;div
          class&#x3D;&quot;relative overflow-hidden rounded-lg border border-border-default dark:border-border-muted bg-gradient-to-r from-gray-50 to-gray-100 dark:border-border-muted dark:from-gray-800 dark:to-gray-900&quot;
        &gt;
          &lt;div class&#x3D;&quot;flex items-center gap-4 p-4&quot;&gt;
            &lt;!-- Status Badge --&gt;
            &lt;div class&#x3D;&quot;flex flex-col gap-2&quot;&gt;
              &lt;app-booking-status [booking]&#x3D;&quot;booking()!&quot;&gt;&lt;/app-booking-status&gt;
              &lt;app-deposit-status-badge
                *ngIf&#x3D;&quot;booking()?.deposit_status&quot;
                [status]&#x3D;&quot;booking()!.deposit_status!&quot;
              &gt;&lt;/app-deposit-status-badge&gt;
            &lt;/div&gt;

            &lt;!-- Distance Risk Tier Badge --&gt;
            &lt;app-distance-risk-tier-badge
              *ngIf&#x3D;&quot;booking()?.distance_risk_tier &amp;&amp; booking()?.delivery_required&quot;
              [tier]&#x3D;&quot;booking()!.distance_risk_tier!&quot;
            &gt;&lt;/app-distance-risk-tier-badge&gt;

            &lt;!-- Car Info --&gt;
            &lt;div class&#x3D;&quot;flex-1 min-w-0&quot;&gt;
              &lt;div class&#x3D;&quot;flex items-start justify-between gap-2&quot;&gt;
                &lt;div class&#x3D;&quot;flex-1 min-w-0&quot;&gt;
                  &lt;h1 class&#x3D;&quot;text-lg font-bold text-text-primary dark:text-text-inverse truncate&quot;&gt;
                    {{ booking()?.car_title }}
                  &lt;/h1&gt;
                  &lt;p
                    class&#x3D;&quot;text-sm text-text-secondary dark:text-text-secondary dark:text-text-secondary&quot;
                  &gt;
                    {{ booking()?.car_brand }} {{ booking()?.car_model }} ({{
                      booking()?.car_year
                    }})
                  &lt;/p&gt;
                  &lt;p
                    class&#x3D;&quot;text-xs text-text-secondary dark:text-text-secondary dark:text-text-secondary&quot;
                    *ngIf&#x3D;&quot;booking()?.car_city&quot;
                  &gt;
                     {{ booking()?.car_city }}
                  &lt;/p&gt;
                &lt;/div&gt;
                &lt;app-share-button
                  type&#x3D;&quot;booking&quot;
                  [bookingId]&#x3D;&quot;booking()?.id || &#x27;&#x27;&quot;
                  [bookingDetails]&#x3D;&quot;getBookingDetailsText()&quot;
                  label&#x3D;&quot;&quot;
                  buttonClass&#x3D;&quot;inline-flex items-center gap-1 px-2 py-1.5 rounded-lg border border-border-muted bg-surface-raised text-text-primary hover:bg-surface-base transition-colors&quot;
                  ariaLabel&#x3D;&quot;Compartir reserva&quot;
                &gt;&lt;/app-share-button&gt;
              &lt;/div&gt;
            &lt;/div&gt;

            &lt;!-- ID Badge --&gt;
            &lt;div class&#x3D;&quot;hidden sm:block&quot;&gt;
              &lt;p class&#x3D;&quot;text-xs text-text-secondary dark:text-text-secondary font-mono&quot;&gt;
                ID: {{ booking()?.id | slice: 0 : 8 }}
              &lt;/p&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class&#x3D;&quot;booking-detail-layout&quot;&gt;
          &lt;section class&#x3D;&quot;booking-detail-main&quot;&gt;
            &lt;!-- Compact Dates Card --&gt;
            &lt;div
              class&#x3D;&quot;rounded-lg border border-border-default dark:border-border-muted bg-surface-raised dark:bg-surface-secondary p-3 shadow-sm dark:border-border-muted dark:bg-surface-base&quot;
              id&#x3D;&quot;tour-booking-dates&quot;
            &gt;
              &lt;h3 class&#x3D;&quot;mb-2 text-sm font-semibold text-text-primary dark:text-text-secondary&quot;&gt;
                 Fechas de la Reserva
              &lt;/h3&gt;
              &lt;div class&#x3D;&quot;flex items-center gap-4 text-sm&quot;&gt;
                &lt;div class&#x3D;&quot;flex-1&quot;&gt;
                  &lt;p class&#x3D;&quot;text-xs text-text-secondary dark:text-text-secondary&quot;&gt;Inicio&lt;/p&gt;
                  &lt;p class&#x3D;&quot;font-medium text-text-primary dark:text-text-inverse&quot;&gt;
                    {{ formatDateTime(booking()!.start_at) }}
                  &lt;/p&gt;
                &lt;/div&gt;
                &lt;div class&#x3D;&quot;flex-1&quot;&gt;
                  &lt;p class&#x3D;&quot;text-xs text-text-secondary dark:text-text-secondary&quot;&gt;Fin&lt;/p&gt;
                  &lt;p class&#x3D;&quot;font-medium text-text-primary dark:text-text-inverse&quot;&gt;
                    {{ formatDateTime(booking()!.end_at) }}
                  &lt;/p&gt;
                &lt;/div&gt;
                &lt;div class&#x3D;&quot;flex-shrink-0&quot; *ngIf&#x3D;&quot;booking()?.days_count&quot;&gt;
                  &lt;p class&#x3D;&quot;text-xs text-text-secondary dark:text-text-secondary&quot;&gt;Duracin&lt;/p&gt;
                  &lt;p class&#x3D;&quot;font-semibold text-text-primary dark:text-text-inverse&quot;&gt;
                    {{ booking()?.days_count }}d
                  &lt;/p&gt;
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;

            &lt;!--  NEW: Distance and Delivery Card --&gt;
            @if (booking()?.pickup_location_lat &amp;&amp; booking()?.dropoff_location_lat) {
              &lt;div
                class&#x3D;&quot;rounded-lg border border-border-default dark:border-border-muted bg-surface-raised dark:bg-surface-secondary p-3 shadow-sm&quot;
              &gt;
                &lt;h3 class&#x3D;&quot;mb-3 text-sm font-semibold text-text-primary dark:text-text-secondary&quot;&gt;
                   Ubicaciones de Retiro y Devolucin
                &lt;/h3&gt;

                &lt;!-- Distance Info --&gt;
                @if (booking()?.delivery_distance_km) {
                  &lt;div
                    class&#x3D;&quot;mb-4 p-3 bg-cta-default/10 dark:bg-cta-default/30 rounded-lg border border-cta-default/40 dark:border-cta-default&quot;
                  &gt;
                    &lt;div class&#x3D;&quot;flex items-center justify-between&quot;&gt;
                      &lt;span class&#x3D;&quot;text-sm text-text-primary dark:text-text-secondary&quot;
                        &gt;Distancia&lt;/span
                      &gt;
                      &lt;span class&#x3D;&quot;font-semibold text-text-primary dark:text-text-inverse&quot;&gt;
                        {{ booking()!.delivery_distance_km | number: &#x27;1.0-2&#x27; }} km
                      &lt;/span&gt;
                    &lt;/div&gt;
                    @if (booking()?.distance_risk_tier) {
                      &lt;div class&#x3D;&quot;text-xs text-text-secondary dark:text-text-muted mt-1&quot;&gt;
                        Categora:
                        @switch (booking()?.distance_risk_tier) {
                          @case (&#x27;local&#x27;) {
                            &lt;span class&#x3D;&quot;text-success-light dark:text-success-light font-medium&quot;
                              &gt;Local&lt;/span
                            &gt;
                          }
                          @case (&#x27;regional&#x27;) {
                            &lt;span class&#x3D;&quot;text-warning-text dark:text-warning-400 font-medium&quot;
                              &gt;Regional&lt;/span
                            &gt;
                          }
                          @case (&#x27;long_distance&#x27;) {
                            &lt;span class&#x3D;&quot;text-warning-light dark:text-warning-light font-medium&quot;
                              &gt;Larga distancia&lt;/span
                            &gt;
                          }
                        }
                      &lt;/div&gt;
                    }
                  &lt;/div&gt;
                }

                &lt;!-- Locations --&gt;
                &lt;div class&#x3D;&quot;space-y-3&quot;&gt;
                  &lt;!-- Pickup Location --&gt;
                  &lt;div&gt;
                    &lt;p class&#x3D;&quot;text-xs font-medium text-text-secondary dark:text-text-muted mb-1&quot;&gt;
                      Retiro
                    &lt;/p&gt;
                    &lt;p class&#x3D;&quot;text-sm text-text-primary dark:text-text-inverse&quot;&gt;
                      {{ booking()!.pickup_location_lat | number: &#x27;1.0-4&#x27; }},
                      {{ booking()!.pickup_location_lng | number: &#x27;1.0-4&#x27; }}
                    &lt;/p&gt;
                  &lt;/div&gt;

                  &lt;!-- Dropoff Location --&gt;
                  &lt;div&gt;
                    &lt;p class&#x3D;&quot;text-xs font-medium text-text-secondary dark:text-text-muted mb-1&quot;&gt;
                      Devolucin
                    &lt;/p&gt;
                    &lt;p class&#x3D;&quot;text-sm text-text-primary dark:text-text-inverse&quot;&gt;
                      {{ booking()!.dropoff_location_lat | number: &#x27;1.0-4&#x27; }},
                      {{ booking()!.dropoff_location_lng | number: &#x27;1.0-4&#x27; }}
                    &lt;/p&gt;
                  &lt;/div&gt;

                  &lt;!-- Delivery Fee --&gt;
                  @if (booking()?.delivery_required &amp;&amp; booking()?.delivery_fee_cents) {
                    &lt;div class&#x3D;&quot;pt-3 border-t border-border-default dark:border-border-muted&quot;&gt;
                      &lt;div class&#x3D;&quot;flex items-center justify-between&quot;&gt;
                        &lt;span class&#x3D;&quot;text-sm font-medium text-text-primary dark:text-text-secondary&quot;
                          &gt;Tarifa de delivery&lt;/span
                        &gt;
                        &lt;span class&#x3D;&quot;font-semibold text-text-primary dark:text-text-inverse&quot;&gt;
                          ARS ${{ (booking()?.delivery_fee_cents ?? 0) / 100 | number: &#x27;1.2-2&#x27; }}
                        &lt;/span&gt;
                      &lt;/div&gt;
                    &lt;/div&gt;
                  }
                &lt;/div&gt;
              &lt;/div&gt;
            }

            &lt;!-- Requirements Card - Solo para reservas confirmadas o en progreso --&gt;
            &lt;div
              *ngIf&#x3D;&quot;booking()?.status &#x3D;&#x3D;&#x3D; &#x27;confirmed&#x27; || booking()?.status &#x3D;&#x3D;&#x3D; &#x27;in_progress&#x27;&quot;
              class&#x3D;&quot;card-premium rounded-2xl p-4 sm:p-6 shadow-soft border-2 border-cta-default/20&quot;
            &gt;
              &lt;div class&#x3D;&quot;flex items-center gap-2 mb-4&quot;&gt;
                &lt;svg
                  class&#x3D;&quot;w-6 h-6 text-cta-default&quot;
                  fill&#x3D;&quot;none&quot;
                  stroke&#x3D;&quot;currentColor&quot;
                  viewBox&#x3D;&quot;0 0 24 24&quot;
                &gt;
                  &lt;path
                    stroke-linecap&#x3D;&quot;round&quot;
                    stroke-linejoin&#x3D;&quot;round&quot;
                    stroke-width&#x3D;&quot;2&quot;
                    d&#x3D;&quot;M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z&quot;
                  /&gt;
                &lt;/svg&gt;
                &lt;h3 class&#x3D;&quot;h5&quot;&gt;Requisitos para el Retiro&lt;/h3&gt;
              &lt;/div&gt;

              &lt;p class&#x3D;&quot;text-sm text-text-secondary dark:text-text-secondary mb-4&quot;&gt;
                Asegurate de cumplir con estos requisitos el da del retiro del vehculo:
              &lt;/p&gt;

              &lt;div class&#x3D;&quot;space-y-3&quot;&gt;
                &lt;!-- Edad mnima --&gt;
                &lt;div
                  class&#x3D;&quot;flex items-start gap-3 p-3 rounded-lg bg-surface-secondary/50 dark:bg-surface-secondary/30&quot;
                &gt;
                  &lt;svg
                    class&#x3D;&quot;w-5 h-5 text-cta-default flex-shrink-0 mt-0.5&quot;
                    fill&#x3D;&quot;none&quot;
                    stroke&#x3D;&quot;currentColor&quot;
                    viewBox&#x3D;&quot;0 0 24 24&quot;
                  &gt;
                    &lt;path
                      stroke-linecap&#x3D;&quot;round&quot;
                      stroke-linejoin&#x3D;&quot;round&quot;
                      stroke-width&#x3D;&quot;2&quot;
                      d&#x3D;&quot;M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z&quot;
                    /&gt;
                  &lt;/svg&gt;
                  &lt;div class&#x3D;&quot;flex-1&quot;&gt;
                    &lt;p class&#x3D;&quot;text-sm font-semibold text-text-primary dark:text-text-inverse-pure&quot;&gt;
                      Edad mnima: 21 aos
                    &lt;/p&gt;
                    &lt;p class&#x3D;&quot;text-xs text-text-secondary dark:text-text-secondary/70 mt-1&quot;&gt;
                      Debers presentar tu DNI o pasaporte para verificar tu edad.
                    &lt;/p&gt;
                  &lt;/div&gt;
                &lt;/div&gt;

                &lt;!-- Licencia de conducir --&gt;
                &lt;div
                  class&#x3D;&quot;flex items-start gap-3 p-3 rounded-lg bg-surface-secondary/50 dark:bg-surface-secondary/30&quot;
                &gt;
                  &lt;svg
                    class&#x3D;&quot;w-5 h-5 text-cta-default flex-shrink-0 mt-0.5&quot;
                    fill&#x3D;&quot;none&quot;
                    stroke&#x3D;&quot;currentColor&quot;
                    viewBox&#x3D;&quot;0 0 24 24&quot;
                  &gt;
                    &lt;path
                      stroke-linecap&#x3D;&quot;round&quot;
                      stroke-linejoin&#x3D;&quot;round&quot;
                      stroke-width&#x3D;&quot;2&quot;
                      d&#x3D;&quot;M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z&quot;
                    /&gt;
                  &lt;/svg&gt;
                  &lt;div class&#x3D;&quot;flex-1&quot;&gt;
                    &lt;p class&#x3D;&quot;text-sm font-semibold text-text-primary dark:text-text-inverse-pure&quot;&gt;
                      Licencia de conducir vlida
                    &lt;/p&gt;
                    &lt;p class&#x3D;&quot;text-xs text-text-secondary dark:text-text-secondary/70 mt-1&quot;&gt;
                      Con antigedad mnima de 1 ao y vigente durante toda la reserva.
                    &lt;/p&gt;
                  &lt;/div&gt;
                &lt;/div&gt;

                &lt;!-- Documento de identidad --&gt;
                &lt;div
                  class&#x3D;&quot;flex items-start gap-3 p-3 rounded-lg bg-surface-secondary/50 dark:bg-surface-secondary/30&quot;
                &gt;
                  &lt;svg
                    class&#x3D;&quot;w-5 h-5 text-cta-default flex-shrink-0 mt-0.5&quot;
                    fill&#x3D;&quot;none&quot;
                    stroke&#x3D;&quot;currentColor&quot;
                    viewBox&#x3D;&quot;0 0 24 24&quot;
                  &gt;
                    &lt;path
                      stroke-linecap&#x3D;&quot;round&quot;
                      stroke-linejoin&#x3D;&quot;round&quot;
                      stroke-width&#x3D;&quot;2&quot;
                      d&#x3D;&quot;M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2&quot;
                    /&gt;
                  &lt;/svg&gt;
                  &lt;div class&#x3D;&quot;flex-1&quot;&gt;
                    &lt;p class&#x3D;&quot;text-sm font-semibold text-text-primary dark:text-text-inverse-pure&quot;&gt;
                      DNI o Pasaporte
                    &lt;/p&gt;
                    &lt;p class&#x3D;&quot;text-xs text-text-secondary dark:text-text-secondary/70 mt-1&quot;&gt;
                      Original y en vigencia. No se aceptan copias.
                    &lt;/p&gt;
                  &lt;/div&gt;
                &lt;/div&gt;

                &lt;!-- Mtodo de pago / Wallet --&gt;
                &lt;div
                  class&#x3D;&quot;flex items-start gap-3 p-3 rounded-lg bg-surface-secondary/50 dark:bg-surface-secondary/30&quot;
                &gt;
                  &lt;svg
                    class&#x3D;&quot;w-5 h-5 text-cta-default flex-shrink-0 mt-0.5&quot;
                    fill&#x3D;&quot;none&quot;
                    stroke&#x3D;&quot;currentColor&quot;
                    viewBox&#x3D;&quot;0 0 24 24&quot;
                  &gt;
                    &lt;path
                      stroke-linecap&#x3D;&quot;round&quot;
                      stroke-linejoin&#x3D;&quot;round&quot;
                      stroke-width&#x3D;&quot;2&quot;
                      d&#x3D;&quot;M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z&quot;
                    /&gt;
                  &lt;/svg&gt;
                  &lt;div class&#x3D;&quot;flex-1&quot;&gt;
                    &lt;p class&#x3D;&quot;text-sm font-semibold text-text-primary dark:text-text-inverse-pure&quot;&gt;
                      Depsito de garanta pagado
                    &lt;/p&gt;
                    &lt;p class&#x3D;&quot;text-xs text-text-secondary dark:text-text-secondary/70 mt-1&quot;&gt;
                      &lt;span *ngIf&#x3D;&quot;booking()?.payment_method &#x3D;&#x3D;&#x3D; &#x27;wallet&#x27;&quot;
                        &gt; Pagado con Wallet ($250 USD bloqueados)&lt;/span
                      &gt;
                      &lt;span *ngIf&#x3D;&quot;booking()?.payment_method !&#x3D;&#x3D; &#x27;wallet&#x27;&quot;
                        &gt;Tarjeta de crdito o efectivo en el momento del retiro.&lt;/span
                      &gt;
                    &lt;/p&gt;
                  &lt;/div&gt;
                &lt;/div&gt;

                &lt;!-- Verificacin de identidad --&gt;
                &lt;div
                  class&#x3D;&quot;flex items-start gap-3 p-3 rounded-lg bg-surface-secondary/50 dark:bg-surface-secondary/30&quot;
                &gt;
                  &lt;svg
                    class&#x3D;&quot;w-5 h-5 text-cta-default flex-shrink-0 mt-0.5&quot;
                    fill&#x3D;&quot;none&quot;
                    stroke&#x3D;&quot;currentColor&quot;
                    viewBox&#x3D;&quot;0 0 24 24&quot;
                  &gt;
                    &lt;path
                      stroke-linecap&#x3D;&quot;round&quot;
                      stroke-linejoin&#x3D;&quot;round&quot;
                      stroke-width&#x3D;&quot;2&quot;
                      d&#x3D;&quot;M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z&quot;
                    /&gt;
                  &lt;/svg&gt;
                  &lt;div class&#x3D;&quot;flex-1&quot;&gt;
                    &lt;p class&#x3D;&quot;text-sm font-semibold text-text-primary dark:text-text-inverse-pure&quot;&gt;
                      Perfil verificado
                    &lt;/p&gt;
                    &lt;p class&#x3D;&quot;text-xs text-text-secondary dark:text-text-secondary/70 mt-1&quot;&gt;
                      Verific tu identidad en tu perfil antes del retiro para agilizar el proceso.
                    &lt;/p&gt;
                  &lt;/div&gt;
                &lt;/div&gt;
              &lt;/div&gt;

              &lt;!-- Nota importante --&gt;
              &lt;div class&#x3D;&quot;info-card-petrol p-4 mt-4&quot;&gt;
                &lt;div class&#x3D;&quot;flex items-start gap-2&quot;&gt;
                  &lt;svg
                    class&#x3D;&quot;w-5 h-5 text-cta-default flex-shrink-0 mt-0.5&quot;
                    fill&#x3D;&quot;none&quot;
                    stroke&#x3D;&quot;currentColor&quot;
                    viewBox&#x3D;&quot;0 0 24 24&quot;
                  &gt;
                    &lt;path
                      stroke-linecap&#x3D;&quot;round&quot;
                      stroke-linejoin&#x3D;&quot;round&quot;
                      stroke-width&#x3D;&quot;2&quot;
                      d&#x3D;&quot;M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z&quot;
                    /&gt;
                  &lt;/svg&gt;
                  &lt;div class&#x3D;&quot;text-sm text-text-secondary dark:text-text-secondary&quot;&gt;
                    &lt;p class&#x3D;&quot;font-semibold text-text-primary dark:text-text-inverse-pure mb-1&quot;&gt;
                      Importante
                    &lt;/p&gt;
                    &lt;p&gt;
                      El anfitrin puede rechazar la entrega si no cumpls con todos los requisitos.
                      Asegurate de tener todo listo antes de coordinar el retiro.
                    &lt;/p&gt;
                  &lt;/div&gt;
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;

            &lt;!-- Pricing / Insurance cards --&gt;
            &lt;div class&#x3D;&quot;grid grid-cols-1 md:grid-cols-2 gap-4&quot;&gt;
              &lt;app-booking-pricing-breakdown
                *ngIf&#x3D;&quot;pricingView()&quot;
                [data]&#x3D;&quot;pricingView()!&quot;
              &gt;&lt;/app-booking-pricing-breakdown&gt;

              &lt;app-booking-insurance-summary
                *ngIf&#x3D;&quot;insuranceView()&quot;
                [data]&#x3D;&quot;insuranceView()!&quot;
              &gt;&lt;/app-booking-insurance-summary&gt;
            &lt;/div&gt;

            &lt;!-- Check-in/Check-out Actions Card (for renters) --&gt;
            &lt;div
              *ngIf&#x3D;&quot;isRenter() &amp;&amp; (canPerformCheckIn() || canPerformCheckOut())&quot;
              class&#x3D;&quot;card-premium rounded-2xl p-4 sm:p-6 shadow-soft border-2 border-cta-default/20&quot;
            &gt;
              &lt;h3 class&#x3D;&quot;h5 mb-4&quot;&gt;Acciones del Alquiler&lt;/h3&gt;

              &lt;!-- Check-in Button --&gt;
              &lt;div
                *ngIf&#x3D;&quot;canPerformCheckIn()&quot;
                class&#x3D;&quot;mb-4 p-4 rounded-xl bg-cta-default/10 dark:bg-cta-default/20 border border-cta-default/40 dark:border-cta-default&quot;
              &gt;
                &lt;div class&#x3D;&quot;flex items-start gap-4&quot;&gt;
                  &lt;div class&#x3D;&quot;flex-shrink-0&quot;&gt;
                    &lt;div
                      class&#x3D;&quot;w-12 h-12 rounded-full bg-cta-default/20 dark:bg-cta-default/40 flex items-center justify-center&quot;
                    &gt;
                      &lt;svg
                        class&#x3D;&quot;w-6 h-6 text-cta-default dark:text-cta-default&quot;
                        fill&#x3D;&quot;none&quot;
                        stroke&#x3D;&quot;currentColor&quot;
                        viewBox&#x3D;&quot;0 0 24 24&quot;
                      &gt;
                        &lt;path
                          stroke-linecap&#x3D;&quot;round&quot;
                          stroke-linejoin&#x3D;&quot;round&quot;
                          stroke-width&#x3D;&quot;2&quot;
                          d&#x3D;&quot;M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z&quot;
                        /&gt;
                      &lt;/svg&gt;
                    &lt;/div&gt;
                  &lt;/div&gt;
                  &lt;div class&#x3D;&quot;flex-1&quot;&gt;
                    &lt;h4 class&#x3D;&quot;font-semibold text-text-primary dark:text-text-inverse mb-1&quot;&gt;
                      Check-in del Vehculo
                    &lt;/h4&gt;
                    &lt;p
                      class&#x3D;&quot;text-sm text-text-secondary dark:text-text-secondary dark:text-text-secondary mb-3&quot;
                    &gt;
                      Realiz la inspeccin inicial del vehculo antes de iniciar el alquiler.
                      Necesitars tomar fotos, registrar el odmetro y el nivel de combustible.
                    &lt;/p&gt;
                    &lt;a
                      [routerLink]&#x3D;&quot;[&#x27;/bookings&#x27;, booking()?.id, &#x27;check-in&#x27;]&quot;
                      class&#x3D;&quot;inline-flex items-center gap-2 px-4 py-2 bg-cta-default text-cta-text rounded-lg font-medium transition-colors shadow-sm&quot;
                    &gt;
                      &lt;svg class&#x3D;&quot;w-5 h-5&quot; fill&#x3D;&quot;none&quot; stroke&#x3D;&quot;currentColor&quot; viewBox&#x3D;&quot;0 0 24 24&quot;&gt;
                        &lt;path
                          stroke-linecap&#x3D;&quot;round&quot;
                          stroke-linejoin&#x3D;&quot;round&quot;
                          stroke-width&#x3D;&quot;2&quot;
                          d&#x3D;&quot;M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z&quot;
                        /&gt;
                      &lt;/svg&gt;
                      Iniciar Check-in
                    &lt;/a&gt;
                  &lt;/div&gt;
                &lt;/div&gt;
              &lt;/div&gt;

              &lt;!-- Check-out Button --&gt;
              &lt;div
                *ngIf&#x3D;&quot;canPerformCheckOut()&quot;
                class&#x3D;&quot;p-4 rounded-xl bg-success-light/10 dark:bg-success-light/20 border border-success-light/40 dark:border-success-light&quot;
              &gt;
                &lt;div class&#x3D;&quot;flex items-start gap-4&quot;&gt;
                  &lt;div class&#x3D;&quot;flex-shrink-0&quot;&gt;
                    &lt;div
                      class&#x3D;&quot;w-12 h-12 rounded-full bg-success-light/20 dark:bg-success-light/40 flex items-center justify-center&quot;
                    &gt;
                      &lt;svg
                        class&#x3D;&quot;w-6 h-6 text-success-light dark:text-success-light&quot;
                        fill&#x3D;&quot;none&quot;
                        stroke&#x3D;&quot;currentColor&quot;
                        viewBox&#x3D;&quot;0 0 24 24&quot;
                      &gt;
                        &lt;path
                          stroke-linecap&#x3D;&quot;round&quot;
                          stroke-linejoin&#x3D;&quot;round&quot;
                          stroke-width&#x3D;&quot;2&quot;
                          d&#x3D;&quot;M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4&quot;
                        /&gt;
                      &lt;/svg&gt;
                    &lt;/div&gt;
                  &lt;/div&gt;
                  &lt;div class&#x3D;&quot;flex-1&quot;&gt;
                    &lt;h4 class&#x3D;&quot;font-semibold text-text-primary dark:text-text-inverse mb-1&quot;&gt;
                      Check-out del Vehculo
                    &lt;/h4&gt;
                    &lt;p
                      class&#x3D;&quot;text-sm text-text-secondary dark:text-text-secondary dark:text-text-secondary mb-3&quot;
                    &gt;
                      Realiz la inspeccin final del vehculo al devolver el auto. Compar el
                      estado con el check-in y report cualquier dao.
                    &lt;/p&gt;
                    &lt;a
                      [routerLink]&#x3D;&quot;[&#x27;/bookings&#x27;, booking()?.id, &#x27;check-out&#x27;]&quot;
                      class&#x3D;&quot;inline-flex items-center gap-2 px-4 py-2 bg-success-light hover:bg-success-light text-text-primary rounded-lg font-medium transition-colors shadow-sm&quot;
                    &gt;
                      &lt;svg class&#x3D;&quot;w-5 h-5&quot; fill&#x3D;&quot;none&quot; stroke&#x3D;&quot;currentColor&quot; viewBox&#x3D;&quot;0 0 24 24&quot;&gt;
                        &lt;path
                          stroke-linecap&#x3D;&quot;round&quot;
                          stroke-linejoin&#x3D;&quot;round&quot;
                          stroke-width&#x3D;&quot;2&quot;
                          d&#x3D;&quot;M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4&quot;
                        /&gt;
                      &lt;/svg&gt;
                      Iniciar Check-out
                    &lt;/a&gt;
                  &lt;/div&gt;
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;

            &lt;!-- Check-in/Check-out Status (if completed) --&gt;
            &lt;div
              *ngIf&#x3D;&quot;isRenter() &amp;&amp; (hasCheckIn() || hasCheckOut())&quot;
              class&#x3D;&quot;card-premium rounded-2xl p-4 sm:p-6 shadow-soft&quot;
            &gt;
              &lt;h3 class&#x3D;&quot;h5 mb-4&quot;&gt;Estado de Inspecciones&lt;/h3&gt;
              &lt;div class&#x3D;&quot;space-y-3&quot;&gt;
                &lt;div
                  *ngIf&#x3D;&quot;hasCheckIn()&quot;
                  class&#x3D;&quot;flex items-center gap-3 p-3 rounded-lg bg-success-light/10 dark:bg-success-light/20&quot;
                &gt;
                  &lt;svg
                    class&#x3D;&quot;w-5 h-5 text-success-light dark:text-success-light&quot;
                    fill&#x3D;&quot;none&quot;
                    stroke&#x3D;&quot;currentColor&quot;
                    viewBox&#x3D;&quot;0 0 24 24&quot;
                  &gt;
                    &lt;path
                      stroke-linecap&#x3D;&quot;round&quot;
                      stroke-linejoin&#x3D;&quot;round&quot;
                      stroke-width&#x3D;&quot;2&quot;
                      d&#x3D;&quot;M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z&quot;
                    /&gt;
                  &lt;/svg&gt;
                  &lt;span class&#x3D;&quot;text-sm font-medium text-success-light dark:text-success-light&quot;
                    &gt;Check-in completado&lt;/span
                  &gt;
                &lt;/div&gt;
                &lt;div
                  *ngIf&#x3D;&quot;hasCheckOut()&quot;
                  class&#x3D;&quot;flex items-center gap-3 p-3 rounded-lg bg-success-light/10 dark:bg-success-light/20&quot;
                &gt;
                  &lt;svg
                    class&#x3D;&quot;w-5 h-5 text-success-light dark:text-success-light&quot;
                    fill&#x3D;&quot;none&quot;
                    stroke&#x3D;&quot;currentColor&quot;
                    viewBox&#x3D;&quot;0 0 24 24&quot;
                  &gt;
                    &lt;path
                      stroke-linecap&#x3D;&quot;round&quot;
                      stroke-linejoin&#x3D;&quot;round&quot;
                      stroke-width&#x3D;&quot;2&quot;
                      d&#x3D;&quot;M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z&quot;
                    /&gt;
                  &lt;/svg&gt;
                  &lt;span class&#x3D;&quot;text-sm font-medium text-success-light dark:text-success-light&quot;
                    &gt;Check-out completado&lt;/span
                  &gt;
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;

            &lt;!-- Claims/Siniestros Section --&gt;
            &lt;div
              *ngIf&#x3D;&quot;isRenter() &amp;&amp; (canReportClaim() || hasClaim())&quot;
              class&#x3D;&quot;card-premium rounded-2xl p-4 sm:p-6 shadow-soft border-2 border-error-border/50 dark:border-error-900/30&quot;
            &gt;
              &lt;h3 class&#x3D;&quot;h5 mb-4 flex items-center gap-2&quot;&gt;
                &lt;svg
                  class&#x3D;&quot;w-6 h-6 text-error-text&quot;
                  fill&#x3D;&quot;none&quot;
                  stroke&#x3D;&quot;currentColor&quot;
                  viewBox&#x3D;&quot;0 0 24 24&quot;
                &gt;
                  &lt;path
                    stroke-linecap&#x3D;&quot;round&quot;
                    stroke-linejoin&#x3D;&quot;round&quot;
                    stroke-width&#x3D;&quot;2&quot;
                    d&#x3D;&quot;M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z&quot;
                  /&gt;
                &lt;/svg&gt;
                Siniestros / Daos
              &lt;/h3&gt;

              &lt;!-- Report Claim Button --&gt;
              &lt;div
                *ngIf&#x3D;&quot;canReportClaim()&quot;
                class&#x3D;&quot;p-4 rounded-xl bg-error-bg dark:bg-error-900/20 border border-error-border dark:border-error-800&quot;
              &gt;
                &lt;div class&#x3D;&quot;flex items-start gap-4&quot;&gt;
                  &lt;div class&#x3D;&quot;flex-shrink-0&quot;&gt;
                    &lt;div
                      class&#x3D;&quot;w-12 h-12 rounded-full bg-error-bg-hover dark:bg-error-900/40 flex items-center justify-center&quot;
                    &gt;
                      &lt;svg
                        class&#x3D;&quot;w-6 h-6 text-error-text&quot;
                        fill&#x3D;&quot;none&quot;
                        stroke&#x3D;&quot;currentColor&quot;
                        viewBox&#x3D;&quot;0 0 24 24&quot;
                      &gt;
                        &lt;path
                          stroke-linecap&#x3D;&quot;round&quot;
                          stroke-linejoin&#x3D;&quot;round&quot;
                          stroke-width&#x3D;&quot;2&quot;
                          d&#x3D;&quot;M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z&quot;
                        /&gt;
                      &lt;/svg&gt;
                    &lt;/div&gt;
                  &lt;/div&gt;
                  &lt;div class&#x3D;&quot;flex-1&quot;&gt;
                    &lt;h4 class&#x3D;&quot;font-semibold text-text-primary dark:text-text-inverse mb-1&quot;&gt;
                      Reportar Siniestro o Dao
                    &lt;/h4&gt;
                    &lt;p class&#x3D;&quot;text-sm text-text-secondary dark:text-text-secondary mb-3&quot;&gt;
                      Tuviste un accidente o detectaste un dao en el vehculo? Reportalo
                      inmediatamente con fotos y detalles. La aseguradora se contactar contigo.
                    &lt;/p&gt;
                    &lt;a
                      [routerLink]&#x3D;&quot;[&#x27;/bookings&#x27;, booking()?.id, &#x27;report-claim&#x27;]&quot;
                      class&#x3D;&quot;inline-flex items-center gap-2 px-4 py-2 bg-error-600 hover:bg-error-700 text-text-inverse rounded-lg font-medium transition-colors shadow-sm&quot;
                    &gt;
                      &lt;svg class&#x3D;&quot;w-5 h-5&quot; fill&#x3D;&quot;none&quot; stroke&#x3D;&quot;currentColor&quot; viewBox&#x3D;&quot;0 0 24 24&quot;&gt;
                        &lt;path
                          stroke-linecap&#x3D;&quot;round&quot;
                          stroke-linejoin&#x3D;&quot;round&quot;
                          stroke-width&#x3D;&quot;2&quot;
                          d&#x3D;&quot;M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z&quot;
                        /&gt;
                      &lt;/svg&gt;
                      Reportar Siniestro
                    &lt;/a&gt;
                  &lt;/div&gt;
                &lt;/div&gt;
              &lt;/div&gt;

              &lt;!-- Claim Status Display --&gt;
              &lt;div *ngIf&#x3D;&quot;hasClaim() &amp;&amp; latestClaim()&quot; class&#x3D;&quot;space-y-3&quot;&gt;
                &lt;div
                  class&#x3D;&quot;p-4 rounded-xl border&quot;
                  [ngClass]&#x3D;&quot;{
                    &#x27;bg-warning-light/10 dark:bg-warning-light/20 border-warning-light/40 dark:border-warning-light&#x27;:
                      getClaimStatusColor(latestClaim()!.status) &#x3D;&#x3D;&#x3D; &#x27;orange&#x27;,
                    &#x27;bg-cta-default/10 dark:bg-cta-default/20 border-cta-default/40 dark:border-cta-default&#x27;:
                      getClaimStatusColor(latestClaim()!.status) &#x3D;&#x3D;&#x3D; &#x27;blue&#x27;,
                    &#x27;bg-success-light/10 dark:bg-success-light/20 border-success-light/40 dark:border-success-light&#x27;:
                      getClaimStatusColor(latestClaim()!.status) &#x3D;&#x3D;&#x3D; &#x27;green&#x27;,
                    &#x27;bg-error-bg dark:bg-error-900/20 border-error-border dark:border-error-800&#x27;:
                      getClaimStatusColor(latestClaim()!.status) &#x3D;&#x3D;&#x3D; &#x27;red&#x27;,
                    &#x27;bg-surface-base dark:bg-surface-raised/20 border-border-default dark:border-border-strong&#x27;:
                      getClaimStatusColor(latestClaim()!.status) &#x3D;&#x3D;&#x3D; &#x27;gray&#x27;,
                  }&quot;
                &gt;
                  &lt;div class&#x3D;&quot;flex items-start justify-between gap-4&quot;&gt;
                    &lt;div class&#x3D;&quot;flex-1&quot;&gt;
                      &lt;div class&#x3D;&quot;flex items-center gap-2 mb-2&quot;&gt;
                        &lt;span
                          class&#x3D;&quot;inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-semibold rounded-full&quot;
                          [ngClass]&#x3D;&quot;{
                            &#x27;bg-warning-light/20 text-warning-light dark:bg-warning-light/40 dark:text-warning-light&#x27;:
                              getClaimStatusColor(latestClaim()!.status) &#x3D;&#x3D;&#x3D; &#x27;orange&#x27;,
                            &#x27;bg-cta-default/20 text-cta-default dark:bg-cta-default/40 dark:text-cta-default&#x27;:
                              getClaimStatusColor(latestClaim()!.status) &#x3D;&#x3D;&#x3D; &#x27;blue&#x27;,
                            &#x27;bg-success-light/20 text-success-light dark:bg-success-light/40 dark:text-success-light&#x27;:
                              getClaimStatusColor(latestClaim()!.status) &#x3D;&#x3D;&#x3D; &#x27;green&#x27;,
                            &#x27;bg-error-bg-hover text-error-strong dark:bg-error-900/40 dark:text-error-200&#x27;:
                              getClaimStatusColor(latestClaim()!.status) &#x3D;&#x3D;&#x3D; &#x27;red&#x27;,
                            &#x27;bg-surface-raised text-text-primary dark:bg-surface-raised/40 dark:text-text-primary&#x27;:
                              getClaimStatusColor(latestClaim()!.status) &#x3D;&#x3D;&#x3D; &#x27;gray&#x27;,
                          }&quot;
                        &gt;
                          {{ getClaimStatusLabel(latestClaim()!.status) }}
                        &lt;/span&gt;
                        &lt;span class&#x3D;&quot;text-xs text-text-secondary dark:text-text-muted font-mono&quot;&gt;
                          #{{ latestClaim()!.id | slice: 0 : 8 }}
                        &lt;/span&gt;
                      &lt;/div&gt;
                      &lt;p class&#x3D;&quot;text-sm font-medium text-text-primary dark:text-text-inverse mb-1&quot;&gt;
                        Siniestro reportado el {{ formatDate(latestClaim()!.created_at) }}
                      &lt;/p&gt;
                      &lt;p class&#x3D;&quot;text-xs text-text-secondary dark:text-text-secondary line-clamp-2&quot;&gt;
                        {{ latestClaim()!.description }}
                      &lt;/p&gt;
                      &lt;p
                        class&#x3D;&quot;text-xs text-text-secondary dark:text-text-muted mt-2&quot;
                        *ngIf&#x3D;&quot;latestClaim()!.photos &amp;&amp; latestClaim()!.photos!.length &gt; 0&quot;
                      &gt;
                         {{ latestClaim()!.photos!.length }} foto(s) de evidencia
                      &lt;/p&gt;
                    &lt;/div&gt;
                  &lt;/div&gt;
                  &lt;div class&#x3D;&quot;mt-3 pt-3 border-t border-border-default dark:border-border-muted&quot;&gt;
                    &lt;p class&#x3D;&quot;text-xs text-text-secondary dark:text-text-secondary&quot;&gt;
                      &lt;strong&gt;Qu sigue?&lt;/strong&gt;
                      &lt;span *ngIf&#x3D;&quot;latestClaim()!.status &#x3D;&#x3D;&#x3D; &#x27;reported&#x27;&quot;&gt;
                        Un gestor de la aseguradora revisar tu reporte en las prximas 2 horas.
                      &lt;/span&gt;
                      &lt;span *ngIf&#x3D;&quot;latestClaim()!.status &#x3D;&#x3D;&#x3D; &#x27;under_review&#x27;&quot;&gt;
                        Tu siniestro est siendo evaluado por la aseguradora.
                      &lt;/span&gt;
                      &lt;span *ngIf&#x3D;&quot;latestClaim()!.status &#x3D;&#x3D;&#x3D; &#x27;approved&#x27;&quot;&gt;
                        Tu siniestro fue aprobado. Se procesar el pago correspondiente.
                      &lt;/span&gt;
                      &lt;span *ngIf&#x3D;&quot;latestClaim()!.status &#x3D;&#x3D;&#x3D; &#x27;rejected&#x27;&quot;&gt;
                        Tu siniestro fue rechazado. Contact a soporte para ms informacin.
                      &lt;/span&gt;
                      &lt;span *ngIf&#x3D;&quot;latestClaim()!.status &#x3D;&#x3D;&#x3D; &#x27;paid&#x27;&quot;&gt;
                        El pago del siniestro fue procesado exitosamente.
                      &lt;/span&gt;
                      &lt;span *ngIf&#x3D;&quot;latestClaim()!.status &#x3D;&#x3D;&#x3D; &#x27;closed&#x27;&quot;&gt;
                        Este siniestro est cerrado.
                      &lt;/span&gt;
                    &lt;/p&gt;
                  &lt;/div&gt;
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;

            &lt;!--  INSURANCE SUMMARY CARD - Removed loading state --&gt;

            &lt;!-- Pricing Breakdown Card --&gt;
          &lt;/section&gt;

          &lt;!-- Removed: app-payment-actions component --&gt;
        &lt;/div&gt;

        &lt;app-review-management [booking]&#x3D;&quot;booking()!&quot;&gt;&lt;/app-review-management&gt;

        &lt;!-- Disputes Section --&gt;
        @if (canCreateDispute() || booking()?.status &#x3D;&#x3D;&#x3D; &#x27;completed&#x27;) {
          &lt;div class&#x3D;&quot;card-premium rounded-2xl p-4 sm:p-6 shadow-soft&quot;&gt;
            &lt;app-disputes-list
              [bookingId]&#x3D;&quot;booking()!.id&quot;
              [showCreateButton]&#x3D;&quot;canCreateDispute()&quot;
              (createDispute)&#x3D;&quot;showDisputeForm.set(true)&quot;
            &gt;&lt;/app-disputes-list&gt;
          &lt;/div&gt;
        }

        &lt;!-- Refund Request Section --&gt;
        @if (canRequestRefund()) {
          &lt;div class&#x3D;&quot;card-premium rounded-2xl p-4 sm:p-6 shadow-soft&quot;&gt;
            &lt;div class&#x3D;&quot;flex items-center justify-between mb-4&quot;&gt;
              &lt;div&gt;
                &lt;h3 class&#x3D;&quot;text-lg font-semibold text-text-primary dark:text-text-inverse mb-1&quot;&gt;
                  Solicitar Reembolso
                &lt;/h3&gt;
                &lt;p class&#x3D;&quot;text-sm text-text-secondary dark:text-text-secondary&quot;&gt;
                  Si necesitas un reembolso para esta reserva, puedes solicitarlo aqu.
                &lt;/p&gt;
              &lt;/div&gt;
              &lt;button
                (click)&#x3D;&quot;showRefundForm.set(true)&quot;
                class&#x3D;&quot;px-4 py-2 bg-cta-default text-cta-text rounded-lg hover:bg-cta-default transition-colors&quot;
              &gt;
                Solicitar Reembolso
              &lt;/button&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        }

        &lt;!-- Dispute Form Modal --&gt;
        &lt;app-dispute-form
          [isOpen]&#x3D;&quot;showDisputeForm()&quot;
          [bookingId]&#x3D;&quot;booking()!.id&quot;
          (closeModal)&#x3D;&quot;showDisputeForm.set(false)&quot;
          (disputeCreated)&#x3D;&quot;onDisputeCreated()&quot;
        &gt;&lt;/app-dispute-form&gt;

        &lt;!-- Refund Request Modal --&gt;
        &lt;app-refund-request
          [isOpen]&#x3D;&quot;showRefundForm()&quot;
          [bookingId]&#x3D;&quot;booking()!.id&quot;
          (closeModal)&#x3D;&quot;showRefundForm.set(false)&quot;
          (refundRequested)&#x3D;&quot;onRefundRequested()&quot;
        &gt;&lt;/app-refund-request&gt;

        &lt;!-- Contract Section --&gt;
        &lt;div class&#x3D;&quot;mt-6&quot; *ngIf&#x3D;&quot;booking()&quot;&gt;
          &lt;app-booking-contract [bookingId]&#x3D;&quot;booking()!.id&quot;&gt;&lt;/app-booking-contract&gt;
        &lt;/div&gt;

        &lt;!-- Refund Status --&gt;
        &lt;div class&#x3D;&quot;mt-6&quot; *ngIf&#x3D;&quot;booking()&quot;&gt;
          &lt;app-refund-status [bookingId]&#x3D;&quot;booking()!.id&quot;&gt;&lt;/app-refund-status&gt;
        &lt;/div&gt;

        &lt;!-- Owner Damage Report Button --&gt;
        &lt;div
          *ngIf&#x3D;&quot;canReportDamage()&quot;
          class&#x3D;&quot;card-premium p-4 rounded-2xl shadow-soft bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-900/20 dark:to-orange-900/20 border-l-4 border-error-border&quot;
        &gt;
          &lt;div class&#x3D;&quot;flex items-start gap-4&quot;&gt;
            &lt;div class&#x3D;&quot;flex-shrink-0&quot;&gt;
              &lt;svg
                class&#x3D;&quot;w-8 h-8 text-error-text&quot;
                fill&#x3D;&quot;none&quot;
                stroke&#x3D;&quot;currentColor&quot;
                viewBox&#x3D;&quot;0 0 24 24&quot;
              &gt;
                &lt;path
                  stroke-linecap&#x3D;&quot;round&quot;
                  stroke-linejoin&#x3D;&quot;round&quot;
                  stroke-width&#x3D;&quot;2&quot;
                  d&#x3D;&quot;M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z&quot;
                /&gt;
              &lt;/svg&gt;
            &lt;/div&gt;
            &lt;div class&#x3D;&quot;flex-1&quot;&gt;
              &lt;h3 class&#x3D;&quot;text-lg font-semibold text-text-primary dark:text-text-inverse-pure mb-2&quot;&gt;
                Detectaste daos en el vehculo?
              &lt;/h3&gt;
              &lt;p class&#x3D;&quot;text-sm text-text-secondary dark:text-text-secondary mb-4&quot;&gt;
                Reporta cualquier dao detectado despus de la devolucin del vehculo. El monto
                ser deducido del depsito de garanta del locatario.
              &lt;/p&gt;
              &lt;a
                [routerLink]&#x3D;&quot;[&#x27;/bookings&#x27;, booking()?.id, &#x27;owner-damage-report&#x27;]&quot;
                class&#x3D;&quot;inline-flex items-center gap-2 px-4 py-2 bg-error-600 hover:bg-error-700 text-text-inverse rounded-xl font-medium transition-base shadow-sm&quot;
              &gt;
                &lt;svg class&#x3D;&quot;w-5 h-5&quot; fill&#x3D;&quot;none&quot; stroke&#x3D;&quot;currentColor&quot; viewBox&#x3D;&quot;0 0 24 24&quot;&gt;
                  &lt;path
                    stroke-linecap&#x3D;&quot;round&quot;
                    stroke-linejoin&#x3D;&quot;round&quot;
                    stroke-width&#x3D;&quot;2&quot;
                    d&#x3D;&quot;M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z&quot;
                  /&gt;
                &lt;/svg&gt;
                Reportar Daos
              &lt;/a&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        &lt;!-- Display Damage Report if already submitted --&gt;
        &lt;div
          *ngIf&#x3D;&quot;isOwner() &amp;&amp; booking()?.owner_reported_damages&quot;
          class&#x3D;&quot;card-premium p-4 rounded-2xl shadow-soft border-l-4 border-warning-border bg-warning-bg dark:bg-warning-900/20&quot;
        &gt;
          &lt;div class&#x3D;&quot;flex items-start gap-4&quot;&gt;
            &lt;div class&#x3D;&quot;flex-shrink-0&quot;&gt;
              &lt;svg
                class&#x3D;&quot;w-8 h-8 text-warning-text dark:text-warning-400&quot;
                fill&#x3D;&quot;none&quot;
                stroke&#x3D;&quot;currentColor&quot;
                viewBox&#x3D;&quot;0 0 24 24&quot;
              &gt;
                &lt;path
                  stroke-linecap&#x3D;&quot;round&quot;
                  stroke-linejoin&#x3D;&quot;round&quot;
                  stroke-width&#x3D;&quot;2&quot;
                  d&#x3D;&quot;M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z&quot;
                /&gt;
              &lt;/svg&gt;
            &lt;/div&gt;
            &lt;div class&#x3D;&quot;flex-1&quot;&gt;
              &lt;h3 class&#x3D;&quot;text-lg font-semibold text-warning-strong dark:text-warning-200 mb-2&quot;&gt;
                Reporte de Daos Enviado
              &lt;/h3&gt;
              &lt;div class&#x3D;&quot;space-y-2&quot;&gt;
                &lt;div class&#x3D;&quot;flex justify-between items-center&quot;&gt;
                  &lt;span class&#x3D;&quot;text-sm text-warning-strong dark:text-warning-300&quot;
                    &gt;Monto del dao:&lt;/span
                  &gt;
                  &lt;span class&#x3D;&quot;font-semibold text-warning-strong dark:text-warning-100&quot;&gt;
                    ${{ (booking()?.owner_damage_amount ?? 0) / 100 }} USD
                  &lt;/span&gt;
                &lt;/div&gt;
                &lt;div
                  *ngIf&#x3D;&quot;booking()?.owner_damage_description&quot;
                  class&#x3D;&quot;pt-2 border-t border-warning-border dark:border-warning-700&quot;
                &gt;
                  &lt;p class&#x3D;&quot;text-xs text-warning-strong dark:text-warning-300 font-medium mb-1&quot;&gt;
                    Descripcin:
                  &lt;/p&gt;
                  &lt;p class&#x3D;&quot;text-sm text-warning-strong dark:text-warning-100&quot;&gt;
                    {{ booking()?.owner_damage_description }}
                  &lt;/p&gt;
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        &lt;!-- Bilateral Confirmation Section --&gt;
        &lt;div *ngIf&#x3D;&quot;showConfirmationSection()&quot; class&#x3D;&quot;space-y-4&quot;&gt;
          &lt;!-- Timeline Component --&gt;
          &lt;div
            id&#x3D;&quot;booking-confirmation-timeline&quot;
            class&#x3D;&quot;rounded-2xl border border-border-default dark:border-border-muted bg-surface-raised dark:bg-surface-secondary p-4 sm:p-6 shadow-sm&quot;
          &gt;
            &lt;app-booking-confirmation-timeline
              [booking]&#x3D;&quot;booking()!&quot;
              [ownerName]&#x3D;&quot;carOwnerName()&quot;
              [renterName]&#x3D;&quot;booking()?.renter_name ?? &#x27;el locatario&#x27;&quot;
              (confirmationRequested)&#x3D;&quot;handleTimelineAction($event)&quot;
            &gt;&lt;/app-booking-confirmation-timeline&gt;
          &lt;/div&gt;

          &lt;!-- Owner Confirmation Component --&gt;
          &lt;div *ngIf&#x3D;&quot;isOwner()&quot; id&#x3D;&quot;owner-confirmation-section&quot;&gt;
            &lt;app-owner-confirmation
              [bookingId]&#x3D;&quot;booking()!.id&quot;
              [ownerConfirmed]&#x3D;&quot;booking()?.owner_confirmed_delivery ?? false&quot;
              [renterConfirmed]&#x3D;&quot;booking()?.renter_confirmed_payment ?? false&quot;
              (confirmed)&#x3D;&quot;handleConfirmationSuccess($event)&quot;
              (errorOccurred)&#x3D;&quot;handleConfirmationError($event)&quot;
            &gt;&lt;/app-owner-confirmation&gt;
          &lt;/div&gt;

          &lt;!-- Renter Confirmation Component --&gt;
          &lt;div *ngIf&#x3D;&quot;isRenter()&quot; id&#x3D;&quot;renter-confirmation-section&quot;&gt;
            &lt;app-renter-confirmation
              [bookingId]&#x3D;&quot;booking()!.id&quot;
              [ownerConfirmed]&#x3D;&quot;booking()?.owner_confirmed_delivery ?? false&quot;
              [renterConfirmed]&#x3D;&quot;booking()?.renter_confirmed_payment ?? false&quot;
              [damageAmount]&#x3D;&quot;booking()?.owner_damage_amount ?? null&quot;
              [damageDescription]&#x3D;&quot;booking()?.owner_damage_description ?? null&quot;
              [depositAmount]&#x3D;&quot;(booking()?.deposit_amount_cents ?? 25000) / 100&quot;
              (confirmed)&#x3D;&quot;handleConfirmationSuccess($event)&quot;
              (errorOccurred)&#x3D;&quot;handleConfirmationError($event)&quot;
            &gt;&lt;/app-renter-confirmation&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        &lt;!--  REPORT CLAIM BUTTON --&gt;
        &lt;div
          *ngIf&#x3D;&quot;booking()?.status &#x3D;&#x3D;&#x3D; &#x27;confirmed&#x27; || booking()?.status &#x3D;&#x3D;&#x3D; &#x27;in_progress&#x27;&quot;
          class&#x3D;&quot;card-premium p-4 rounded-2xl shadow-soft bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-900/20 dark:to-orange-900/20 border-l-4 border-error-border&quot;
        &gt;
          &lt;div class&#x3D;&quot;flex items-start gap-4&quot;&gt;
            &lt;div class&#x3D;&quot;flex-shrink-0&quot;&gt;
              &lt;svg
                class&#x3D;&quot;w-8 h-8 text-error-text&quot;
                fill&#x3D;&quot;none&quot;
                stroke&#x3D;&quot;currentColor&quot;
                viewBox&#x3D;&quot;0 0 24 24&quot;
              &gt;
                &lt;path
                  stroke-linecap&#x3D;&quot;round&quot;
                  stroke-linejoin&#x3D;&quot;round&quot;
                  stroke-width&#x3D;&quot;2&quot;
                  d&#x3D;&quot;M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z&quot;
                /&gt;
              &lt;/svg&gt;
            &lt;/div&gt;
            &lt;div class&#x3D;&quot;flex-1&quot;&gt;
              &lt;h3 class&#x3D;&quot;text-lg font-semibold text-text-primary dark:text-text-inverse-pure mb-2&quot;&gt;
                Tuviste un accidente o dao?
              &lt;/h3&gt;
              &lt;p class&#x3D;&quot;text-sm text-text-secondary dark:text-text-secondary mb-4&quot;&gt;
                Reporta cualquier incidente inmediatamente para activar tu cobertura de seguro.
              &lt;/p&gt;
              &lt;a
                [routerLink]&#x3D;&quot;[&#x27;/bookings&#x27;, booking()?.id, &#x27;report-claim&#x27;]&quot;
                class&#x3D;&quot;inline-flex items-center gap-2 px-4 py-2 bg-error-600 hover:bg-error-700 text-text-inverse rounded-xl font-medium transition-base shadow-sm&quot;
              &gt;
                &lt;svg class&#x3D;&quot;w-5 h-5&quot; fill&#x3D;&quot;none&quot; stroke&#x3D;&quot;currentColor&quot; viewBox&#x3D;&quot;0 0 24 24&quot;&gt;
                  &lt;path
                    stroke-linecap&#x3D;&quot;round&quot;
                    stroke-linejoin&#x3D;&quot;round&quot;
                    stroke-width&#x3D;&quot;2&quot;
                    d&#x3D;&quot;M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z&quot;
                  /&gt;
                &lt;/svg&gt;
                Reportar Siniestro/Dao
              &lt;/a&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
        &lt;!-- End Left Column --&gt;

        &lt;!-- Right Column: Chat or Payment Reminder --&gt;
        &lt;div *ngIf&#x3D;&quot;carOwnerId()&quot; id&#x3D;&quot;tour-booking-chat&quot; class&#x3D;&quot;lg:sticky lg:top-4 lg:self-start&quot;&gt;
          &lt;!--  Show chat for confirmed/active bookings --&gt;
          &lt;div
            *ngIf&#x3D;&quot;
              booking()?.status &#x3D;&#x3D;&#x3D; &#x27;confirmed&#x27; ||
              booking()?.status &#x3D;&#x3D;&#x3D; &#x27;in_progress&#x27; ||
              booking()?.status &#x3D;&#x3D;&#x3D; &#x27;pending&#x27; ||
              showConfirmationSection()
            &quot;
          &gt;
            &lt;h2 class&#x3D;&quot;mb-4 text-xl font-bold text-text-primary dark:text-text-primary&quot;&gt;
              Chat con el anfitrin
            &lt;/h2&gt;
            &lt;app-booking-chat
              [bookingId]&#x3D;&quot;booking()!.id&quot;
              [recipientId]&#x3D;&quot;carOwnerId()!&quot;
              [recipientName]&#x3D;&quot;carOwnerName()&quot;
            &gt;&lt;/app-booking-chat&gt;
          &lt;/div&gt;

          &lt;!--  Show payment reminder for pending payment --&gt;
          &lt;div *ngIf&#x3D;&quot;booking()?.status &#x3D;&#x3D;&#x3D; &#x27;pending_payment&#x27;&quot; class&#x3D;&quot;space-y-4&quot;&gt;
            &lt;div
              class&#x3D;&quot;bg-cta-default/10 dark:bg-cta-default/20 border border-cta-default/40 dark:border-cta-default/60 rounded-xl p-6&quot;
            &gt;
              &lt;div class&#x3D;&quot;flex items-start gap-3&quot;&gt;
                &lt;svg
                  class&#x3D;&quot;w-6 h-6 text-cta-default flex-shrink-0 mt-0.5&quot;
                  fill&#x3D;&quot;none&quot;
                  stroke&#x3D;&quot;currentColor&quot;
                  viewBox&#x3D;&quot;0 0 24 24&quot;
                &gt;
                  &lt;path
                    stroke-linecap&#x3D;&quot;round&quot;
                    stroke-linejoin&#x3D;&quot;round&quot;
                    stroke-width&#x3D;&quot;2&quot;
                    d&#x3D;&quot;M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z&quot;
                  /&gt;
                &lt;/svg&gt;
                &lt;div&gt;
                  &lt;h3 class&#x3D;&quot;text-lg font-semibold text-cta-default dark:text-cta-default mb-2&quot;&gt;
                    Reserva pendiente de pago
                  &lt;/h3&gt;
                  &lt;p class&#x3D;&quot;text-sm text-cta-default dark:text-cta-default mb-4&quot;&gt;
                    Para poder chatear con el anfitrin, primero debs completar el pago de tu
                    reserva.
                  &lt;/p&gt;
                  &lt;a
                    [routerLink]&#x3D;&quot;[&#x27;/bookings&#x27;, booking()?.id, &#x27;payment&#x27;]&quot;
                    class&#x3D;&quot;inline-flex items-center gap-2 px-4 py-2 bg-cta-default text-cta-text rounded-lg font-medium transition-colors&quot;
                  &gt;
                    &lt;svg class&#x3D;&quot;w-4 h-4&quot; fill&#x3D;&quot;none&quot; stroke&#x3D;&quot;currentColor&quot; viewBox&#x3D;&quot;0 0 24 24&quot;&gt;
                      &lt;path
                        stroke-linecap&#x3D;&quot;round&quot;
                        stroke-linejoin&#x3D;&quot;round&quot;
                        stroke-width&#x3D;&quot;2&quot;
                        d&#x3D;&quot;M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z&quot;
                      /&gt;
                    &lt;/svg&gt;
                    Completar pago
                  &lt;/a&gt;
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;

            &lt;!-- FAQ Section for Pending Payment --&gt;
            &lt;div
              class&#x3D;&quot;bg-surface-base dark:bg-surface-base/50 border border-border-default dark:border-border-muted rounded-xl p-4&quot;
            &gt;
              &lt;h4 class&#x3D;&quot;font-medium text-text-primary dark:text-text-primary mb-3&quot;&gt;
                Preguntas frecuentes
              &lt;/h4&gt;
              &lt;div class&#x3D;&quot;space-y-3 text-sm&quot;&gt;
                &lt;div&gt;
                  &lt;p class&#x3D;&quot;font-medium text-text-primary dark:text-text-primary&quot;&gt;
                    Cunto tiempo tengo para pagar?
                  &lt;/p&gt;
                  &lt;p class&#x3D;&quot;text-text-secondary dark:text-text-secondary dark:text-text-secondary&quot;&gt;
                    Tens 24 horas para completar el pago antes de que expire la reserva.
                  &lt;/p&gt;
                &lt;/div&gt;
                &lt;div&gt;
                  &lt;p class&#x3D;&quot;font-medium text-text-primary dark:text-text-primary&quot;&gt;
                    Puedo hacer preguntas al anfitrin?
                  &lt;/p&gt;
                  &lt;p class&#x3D;&quot;text-text-secondary dark:text-text-secondary dark:text-text-secondary&quot;&gt;
                    S, pero primero complet el pago para activar el chat.
                  &lt;/p&gt;
                &lt;/div&gt;
                &lt;div&gt;
                  &lt;p class&#x3D;&quot;font-medium text-text-primary dark:text-text-primary&quot;&gt;
                    Qu mtodos de pago aceptan?
                  &lt;/p&gt;
                  &lt;p class&#x3D;&quot;text-text-secondary dark:text-text-secondary dark:text-text-secondary&quot;&gt;
                    Tarjeta de crdito/dbito o saldo en tu wallet AutoRenta.
                  &lt;/p&gt;
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;

          &lt;!-- Operaciones &amp; Tracking --&gt;
          &lt;div class&#x3D;&quot;mt-6 space-y-4&quot;&gt;
            &lt;app-booking-ops-timeline
              [data]&#x3D;&quot;{
                payment_note: paymentView()
                  ? paymentView()!.method + &#x27;  &#x27; + paymentView()!.status
                  : null,
                payment_date: paymentView()?.date ?? null,
                pickup_confirmed_at: confirmation()?.pickup_confirmed_at ?? null,
                dropoff_confirmed_at: confirmation()?.dropoff_confirmed_at ?? null,
                owner_confirmation_at:
                  confirmation()?.owner_confirmation_at ?? booking()?.owner_confirmation_at,
                renter_confirmation_at:
                  confirmation()?.renter_confirmation_at ?? booking()?.renter_confirmation_at,
                returned_at: confirmation()?.returned_at ?? booking()?.returned_at,
                funds_released_at:
                  confirmation()?.funds_released_at ?? booking()?.funds_released_at,
                cancellation_reason:
                  cancellation()?.cancellation_reason ?? booking()?.cancellation_reason,
                cancellation_fee_cents:
                  cancellation()?.cancellation_fee_cents ??
                  booking()?.cancellation_fee_cents ??
                  null,
                cancelled_at: cancellation()?.cancelled_at ?? booking()?.cancelled_at,
              }&quot;
            &gt;&lt;/app-booking-ops-timeline&gt;

            &lt;app-booking-tracking
              [session]&#x3D;&quot;
                tracking()
                  ? {
                      active: tracking()!.active,
                      started_at: tracking()!.started_at,
                      ended_at: tracking()!.ended_at,
                      points_count: tracking()!.points,
                    }
                  : null
              &quot;
            &gt;&lt;/app-booking-tracking&gt;
          &lt;/div&gt;
        &lt;/div&gt;
        &lt;!-- End Right Column --&gt;
      &lt;/div&gt;
      &lt;!-- End Two Column Grid --&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre>
    </div>


    <div class="tab-pane fade " id="tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis-network.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><div class="max-w-7xl mx-auto py-8 px-4">  <!-- Loading State -->  <div *ngIf="loading()" class="text-center py-12">    <p class="text-text-secondary dark:text-text-secondary">Cargando reserva...</p>  </div>  <!-- Error State -->  <div *ngIf="error() && !loading()" class="bg-error-bg border border-error-border rounded-xl p-6">    <p class="text-error-strong">{{ error() }}</p>    <button      routerLink="/bookings"      class="mt-4 px-4 py-2 bg-error-600 text-text-inverse rounded-xl hover:bg-error-700"    >      Volver a mis reservas    </button>  </div>  <!-- Booking Detail -->  <div *ngIf="booking() && !loading()" class="space-y-4 sm:space-y-6">    <!-- Back Button -->    <button      routerLink="/bookings"      class="inline-flex items-center gap-2 text-sm font-medium text-cta-default hover:text-warning-light transition-base mb-2"    >      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">        <path          stroke-linecap="round"          stroke-linejoin="round"          stroke-width="2"          d="M10 19l-7-7m0 0l7-7m-7 7h18"        />      </svg>      Volver a mis reservas    </button>    <!-- Booking Flow Progress -->    <div      class="rounded-2xl border border-border-default dark:border-border-muted bg-surface-raised dark:bg-surface-secondary p-4 sm:p-6 shadow-sm"    >      <div class="flex items-center justify-between">        <div>          <p            class="text-xs font-semibold uppercase tracking-wide text-text-muted dark:text-text-secondary/70"          >            Estado del flujo          </p>          <p class="text-sm text-text-secondary dark:text-text-secondary/80">            Seguimiento paso a paso de tu reserva          </p>        </div>        <span class="text-xs font-medium text-cta-default">          Paso {{ currentBookingStageIndex() + 1 }} / {{ bookingFlowSteps.length }}        </span>      </div>      <div class="mt-5 flex flex-col gap-4 sm:flex-row sm:items-center sm:gap-0">        <ng-container *ngFor="let step of bookingFlowSteps; let i = index">          <div class="flex flex-1 items-start gap-3 p-2">            <div              class="flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-full border text-sm font-semibold transition-colors"              [ngClass]="{                \'bg-cta-default text-cta-text border-cta-default shadow-md shadow-accent-petrol/30\':                  isStepCompleted(i) || isStepCurrent(i),                \'bg-surface-raised text-text-muted border-ash-gray/40 dark:bg-surface-secondary/60 dark:text-text-secondary/50 dark:border-pearl-light/20\':                  isStepUpcoming(i),              }"            >              <svg                *ngIf="isStepCompleted(i)"                class="h-5 w-5"                fill="none"                stroke="currentColor"                viewBox="0 0 24 24"              >                <path                  stroke-linecap="round"                  stroke-linejoin="round"                  stroke-width="2"                  d="M5 13l4 4L19 7"                />              </svg>              <span *ngIf="!isStepCompleted(i)">{{ i + 1 }}</span>            </div>            <div>              <p                class="text-sm font-semibold"                [ngClass]="{                  \'text-text-primary dark:text-text-inverse\':                    isStepCompleted(i) || isStepCurrent(i),                  \'text-text-muted dark:text-text-secondary/60\': isStepUpcoming(i),                }"              >                {{ step.label }}              </p>              <p class="text-xs text-text-muted dark:text-text-secondary/70">                {{ step.description }}              </p>            </div>          </div>          <div            *ngIf="i < bookingFlowSteps.length - 1"            class="hidden sm:block h-0.5 flex-1 bg-gradient-to-r from-ash-gray/10 via-ash-gray/40 to-ash-gray/10"          ></div>        </ng-container>      </div>    </div>    <!-- Two Column Layout for Desktop -->    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">      <!-- Left Column: Booking Info -->      <div class="space-y-4 sm:space-y-6">        <!-- Compact Hero Section -->        <div          class="relative overflow-hidden rounded-lg border border-border-default dark:border-border-muted bg-gradient-to-r from-gray-50 to-gray-100 dark:border-border-muted dark:from-gray-800 dark:to-gray-900"        >          <div class="flex items-center gap-4 p-4">            <!-- Status Badge -->            <div class="flex flex-col gap-2">              <app-booking-status [booking]="booking()!"></app-booking-status>              <app-deposit-status-badge                *ngIf="booking()?.deposit_status"                [status]="booking()!.deposit_status!"              ></app-deposit-status-badge>            </div>            <!-- Distance Risk Tier Badge -->            <app-distance-risk-tier-badge              *ngIf="booking()?.distance_risk_tier && booking()?.delivery_required"              [tier]="booking()!.distance_risk_tier!"            ></app-distance-risk-tier-badge>            <!-- Car Info -->            <div class="flex-1 min-w-0">              <div class="flex items-start justify-between gap-2">                <div class="flex-1 min-w-0">                  <h1 class="text-lg font-bold text-text-primary dark:text-text-inverse truncate">                    {{ booking()?.car_title }}                  </h1>                  <p                    class="text-sm text-text-secondary dark:text-text-secondary dark:text-text-secondary"                  >                    {{ booking()?.car_brand }} {{ booking()?.car_model }} ({{                      booking()?.car_year                    }})                  </p>                  <p                    class="text-xs text-text-secondary dark:text-text-secondary dark:text-text-secondary"                    *ngIf="booking()?.car_city"                  >                     {{ booking()?.car_city }}                  </p>                </div>                <app-share-button                  type="booking"                  [bookingId]="booking()?.id || \'\'"                  [bookingDetails]="getBookingDetailsText()"                  label=""                  buttonClass="inline-flex items-center gap-1 px-2 py-1.5 rounded-lg border border-border-muted bg-surface-raised text-text-primary hover:bg-surface-base transition-colors"                  ariaLabel="Compartir reserva"                ></app-share-button>              </div>            </div>            <!-- ID Badge -->            <div class="hidden sm:block">              <p class="text-xs text-text-secondary dark:text-text-secondary font-mono">                ID: {{ booking()?.id | slice: 0 : 8 }}              </p>            </div>          </div>        </div>        <div class="booking-detail-layout">          <section class="booking-detail-main">            <!-- Compact Dates Card -->            <div              class="rounded-lg border border-border-default dark:border-border-muted bg-surface-raised dark:bg-surface-secondary p-3 shadow-sm dark:border-border-muted dark:bg-surface-base"              id="tour-booking-dates"            >              <h3 class="mb-2 text-sm font-semibold text-text-primary dark:text-text-secondary">                 Fechas de la Reserva              </h3>              <div class="flex items-center gap-4 text-sm">                <div class="flex-1">                  <p class="text-xs text-text-secondary dark:text-text-secondary">Inicio</p>                  <p class="font-medium text-text-primary dark:text-text-inverse">                    {{ formatDateTime(booking()!.start_at) }}                  </p>                </div>                <div class="flex-1">                  <p class="text-xs text-text-secondary dark:text-text-secondary">Fin</p>                  <p class="font-medium text-text-primary dark:text-text-inverse">                    {{ formatDateTime(booking()!.end_at) }}                  </p>                </div>                <div class="flex-shrink-0" *ngIf="booking()?.days_count">                  <p class="text-xs text-text-secondary dark:text-text-secondary">Duracin</p>                  <p class="font-semibold text-text-primary dark:text-text-inverse">                    {{ booking()?.days_count }}d                  </p>                </div>              </div>            </div>            <!--  NEW: Distance and Delivery Card -->            @if (booking()?.pickup_location_lat && booking()?.dropoff_location_lat) {              <div                class="rounded-lg border border-border-default dark:border-border-muted bg-surface-raised dark:bg-surface-secondary p-3 shadow-sm"              >                <h3 class="mb-3 text-sm font-semibold text-text-primary dark:text-text-secondary">                   Ubicaciones de Retiro y Devolucin                </h3>                <!-- Distance Info -->                @if (booking()?.delivery_distance_km) {                  <div                    class="mb-4 p-3 bg-cta-default/10 dark:bg-cta-default/30 rounded-lg border border-cta-default/40 dark:border-cta-default"                  >                    <div class="flex items-center justify-between">                      <span class="text-sm text-text-primary dark:text-text-secondary"                        >Distancia</span                      >                      <span class="font-semibold text-text-primary dark:text-text-inverse">                        {{ booking()!.delivery_distance_km | number: \'1.0-2\' }} km                      </span>                    </div>                    @if (booking()?.distance_risk_tier) {                      <div class="text-xs text-text-secondary dark:text-text-muted mt-1">                        Categora:                        @switch (booking()?.distance_risk_tier) {                          @case (\'local\') {                            <span class="text-success-light dark:text-success-light font-medium"                              >Local</span                            >                          }                          @case (\'regional\') {                            <span class="text-warning-text dark:text-warning-400 font-medium"                              >Regional</span                            >                          }                          @case (\'long_distance\') {                            <span class="text-warning-light dark:text-warning-light font-medium"                              >Larga distancia</span                            >                          }                        }                      </div>                    }                  </div>                }                <!-- Locations -->                <div class="space-y-3">                  <!-- Pickup Location -->                  <div>                    <p class="text-xs font-medium text-text-secondary dark:text-text-muted mb-1">                      Retiro                    </p>                    <p class="text-sm text-text-primary dark:text-text-inverse">                      {{ booking()!.pickup_location_lat | number: \'1.0-4\' }},                      {{ booking()!.pickup_location_lng | number: \'1.0-4\' }}                    </p>                  </div>                  <!-- Dropoff Location -->                  <div>                    <p class="text-xs font-medium text-text-secondary dark:text-text-muted mb-1">                      Devolucin                    </p>                    <p class="text-sm text-text-primary dark:text-text-inverse">                      {{ booking()!.dropoff_location_lat | number: \'1.0-4\' }},                      {{ booking()!.dropoff_location_lng | number: \'1.0-4\' }}                    </p>                  </div>                  <!-- Delivery Fee -->                  @if (booking()?.delivery_required && booking()?.delivery_fee_cents) {                    <div class="pt-3 border-t border-border-default dark:border-border-muted">                      <div class="flex items-center justify-between">                        <span class="text-sm font-medium text-text-primary dark:text-text-secondary"                          >Tarifa de delivery</span                        >                        <span class="font-semibold text-text-primary dark:text-text-inverse">                          ARS ${{ (booking()?.delivery_fee_cents ?? 0) / 100 | number: \'1.2-2\' }}                        </span>                      </div>                    </div>                  }                </div>              </div>            }            <!-- Requirements Card - Solo para reservas confirmadas o en progreso -->            <div              *ngIf="booking()?.status === \'confirmed\' || booking()?.status === \'in_progress\'"              class="card-premium rounded-2xl p-4 sm:p-6 shadow-soft border-2 border-cta-default/20"            >              <div class="flex items-center gap-2 mb-4">                <svg                  class="w-6 h-6 text-cta-default"                  fill="none"                  stroke="currentColor"                  viewBox="0 0 24 24"                >                  <path                    stroke-linecap="round"                    stroke-linejoin="round"                    stroke-width="2"                    d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"                  />                </svg>                <h3 class="h5">Requisitos para el Retiro</h3>              </div>              <p class="text-sm text-text-secondary dark:text-text-secondary mb-4">                Asegurate de cumplir con estos requisitos el da del retiro del vehculo:              </p>              <div class="space-y-3">                <!-- Edad mnima -->                <div                  class="flex items-start gap-3 p-3 rounded-lg bg-surface-secondary/50 dark:bg-surface-secondary/30"                >                  <svg                    class="w-5 h-5 text-cta-default flex-shrink-0 mt-0.5"                    fill="none"                    stroke="currentColor"                    viewBox="0 0 24 24"                  >                    <path                      stroke-linecap="round"                      stroke-linejoin="round"                      stroke-width="2"                      d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"                    />                  </svg>                  <div class="flex-1">                    <p class="text-sm font-semibold text-text-primary dark:text-text-inverse-pure">                      Edad mnima: 21 aos                    </p>                    <p class="text-xs text-text-secondary dark:text-text-secondary/70 mt-1">                      Debers presentar tu DNI o pasaporte para verificar tu edad.                    </p>                  </div>                </div>                <!-- Licencia de conducir -->                <div                  class="flex items-start gap-3 p-3 rounded-lg bg-surface-secondary/50 dark:bg-surface-secondary/30"                >                  <svg                    class="w-5 h-5 text-cta-default flex-shrink-0 mt-0.5"                    fill="none"                    stroke="currentColor"                    viewBox="0 0 24 24"                  >                    <path                      stroke-linecap="round"                      stroke-linejoin="round"                      stroke-width="2"                      d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"                    />                  </svg>                  <div class="flex-1">                    <p class="text-sm font-semibold text-text-primary dark:text-text-inverse-pure">                      Licencia de conducir vlida                    </p>                    <p class="text-xs text-text-secondary dark:text-text-secondary/70 mt-1">                      Con antigedad mnima de 1 ao y vigente durante toda la reserva.                    </p>                  </div>                </div>                <!-- Documento de identidad -->                <div                  class="flex items-start gap-3 p-3 rounded-lg bg-surface-secondary/50 dark:bg-surface-secondary/30"                >                  <svg                    class="w-5 h-5 text-cta-default flex-shrink-0 mt-0.5"                    fill="none"                    stroke="currentColor"                    viewBox="0 0 24 24"                  >                    <path                      stroke-linecap="round"                      stroke-linejoin="round"                      stroke-width="2"                      d="M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"                    />                  </svg>                  <div class="flex-1">                    <p class="text-sm font-semibold text-text-primary dark:text-text-inverse-pure">                      DNI o Pasaporte                    </p>                    <p class="text-xs text-text-secondary dark:text-text-secondary/70 mt-1">                      Original y en vigencia. No se aceptan copias.                    </p>                  </div>                </div>                <!-- Mtodo de pago / Wallet -->                <div                  class="flex items-start gap-3 p-3 rounded-lg bg-surface-secondary/50 dark:bg-surface-secondary/30"                >                  <svg                    class="w-5 h-5 text-cta-default flex-shrink-0 mt-0.5"                    fill="none"                    stroke="currentColor"                    viewBox="0 0 24 24"                  >                    <path                      stroke-linecap="round"                      stroke-linejoin="round"                      stroke-width="2"                      d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"                    />                  </svg>                  <div class="flex-1">                    <p class="text-sm font-semibold text-text-primary dark:text-text-inverse-pure">                      Depsito de garanta pagado                    </p>                    <p class="text-xs text-text-secondary dark:text-text-secondary/70 mt-1">                      <span *ngIf="booking()?.payment_method === \'wallet\'"                        > Pagado con Wallet ($250 USD bloqueados)</span                      >                      <span *ngIf="booking()?.payment_method !== \'wallet\'"                        >Tarjeta de crdito o efectivo en el momento del retiro.</span                      >                    </p>                  </div>                </div>                <!-- Verificacin de identidad -->                <div                  class="flex items-start gap-3 p-3 rounded-lg bg-surface-secondary/50 dark:bg-surface-secondary/30"                >                  <svg                    class="w-5 h-5 text-cta-default flex-shrink-0 mt-0.5"                    fill="none"                    stroke="currentColor"                    viewBox="0 0 24 24"                  >                    <path                      stroke-linecap="round"                      stroke-linejoin="round"                      stroke-width="2"                      d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"                    />                  </svg>                  <div class="flex-1">                    <p class="text-sm font-semibold text-text-primary dark:text-text-inverse-pure">                      Perfil verificado                    </p>                    <p class="text-xs text-text-secondary dark:text-text-secondary/70 mt-1">                      Verific tu identidad en tu perfil antes del retiro para agilizar el proceso.                    </p>                  </div>                </div>              </div>              <!-- Nota importante -->              <div class="info-card-petrol p-4 mt-4">                <div class="flex items-start gap-2">                  <svg                    class="w-5 h-5 text-cta-default flex-shrink-0 mt-0.5"                    fill="none"                    stroke="currentColor"                    viewBox="0 0 24 24"                  >                    <path                      stroke-linecap="round"                      stroke-linejoin="round"                      stroke-width="2"                      d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"                    />                  </svg>                  <div class="text-sm text-text-secondary dark:text-text-secondary">                    <p class="font-semibold text-text-primary dark:text-text-inverse-pure mb-1">                      Importante                    </p>                    <p>                      El anfitrin puede rechazar la entrega si no cumpls con todos los requisitos.                      Asegurate de tener todo listo antes de coordinar el retiro.                    </p>                  </div>                </div>              </div>            </div>            <!-- Pricing / Insurance cards -->            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">              <app-booking-pricing-breakdown                *ngIf="pricingView()"                [data]="pricingView()!"              ></app-booking-pricing-breakdown>              <app-booking-insurance-summary                *ngIf="insuranceView()"                [data]="insuranceView()!"              ></app-booking-insurance-summary>            </div>            <!-- Check-in/Check-out Actions Card (for renters) -->            <div              *ngIf="isRenter() && (canPerformCheckIn() || canPerformCheckOut())"              class="card-premium rounded-2xl p-4 sm:p-6 shadow-soft border-2 border-cta-default/20"            >              <h3 class="h5 mb-4">Acciones del Alquiler</h3>              <!-- Check-in Button -->              <div                *ngIf="canPerformCheckIn()"                class="mb-4 p-4 rounded-xl bg-cta-default/10 dark:bg-cta-default/20 border border-cta-default/40 dark:border-cta-default"              >                <div class="flex items-start gap-4">                  <div class="flex-shrink-0">                    <div                      class="w-12 h-12 rounded-full bg-cta-default/20 dark:bg-cta-default/40 flex items-center justify-center"                    >                      <svg                        class="w-6 h-6 text-cta-default dark:text-cta-default"                        fill="none"                        stroke="currentColor"                        viewBox="0 0 24 24"                      >                        <path                          stroke-linecap="round"                          stroke-linejoin="round"                          stroke-width="2"                          d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"                        />                      </svg>                    </div>                  </div>                  <div class="flex-1">                    <h4 class="font-semibold text-text-primary dark:text-text-inverse mb-1">                      Check-in del Vehculo                    </h4>                    <p                      class="text-sm text-text-secondary dark:text-text-secondary dark:text-text-secondary mb-3"                    >                      Realiz la inspeccin inicial del vehculo antes de iniciar el alquiler.                      Necesitars tomar fotos, registrar el odmetro y el nivel de combustible.                    </p>                    <a                      [routerLink]="[\'/bookings\', booking()?.id, \'check-in\']"                      class="inline-flex items-center gap-2 px-4 py-2 bg-cta-default text-cta-text rounded-lg font-medium transition-colors shadow-sm"                    >                      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">                        <path                          stroke-linecap="round"                          stroke-linejoin="round"                          stroke-width="2"                          d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"                        />                      </svg>                      Iniciar Check-in                    </a>                  </div>                </div>              </div>              <!-- Check-out Button -->              <div                *ngIf="canPerformCheckOut()"                class="p-4 rounded-xl bg-success-light/10 dark:bg-success-light/20 border border-success-light/40 dark:border-success-light"              >                <div class="flex items-start gap-4">                  <div class="flex-shrink-0">                    <div                      class="w-12 h-12 rounded-full bg-success-light/20 dark:bg-success-light/40 flex items-center justify-center"                    >                      <svg                        class="w-6 h-6 text-success-light dark:text-success-light"                        fill="none"                        stroke="currentColor"                        viewBox="0 0 24 24"                      >                        <path                          stroke-linecap="round"                          stroke-linejoin="round"                          stroke-width="2"                          d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"                        />                      </svg>                    </div>                  </div>                  <div class="flex-1">                    <h4 class="font-semibold text-text-primary dark:text-text-inverse mb-1">                      Check-out del Vehculo                    </h4>                    <p                      class="text-sm text-text-secondary dark:text-text-secondary dark:text-text-secondary mb-3"                    >                      Realiz la inspeccin final del vehculo al devolver el auto. Compar el                      estado con el check-in y report cualquier dao.                    </p>                    <a                      [routerLink]="[\'/bookings\', booking()?.id, \'check-out\']"                      class="inline-flex items-center gap-2 px-4 py-2 bg-success-light hover:bg-success-light text-text-primary rounded-lg font-medium transition-colors shadow-sm"                    >                      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">                        <path                          stroke-linecap="round"                          stroke-linejoin="round"                          stroke-width="2"                          d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"                        />                      </svg>                      Iniciar Check-out                    </a>                  </div>                </div>              </div>            </div>            <!-- Check-in/Check-out Status (if completed) -->            <div              *ngIf="isRenter() && (hasCheckIn() || hasCheckOut())"              class="card-premium rounded-2xl p-4 sm:p-6 shadow-soft"            >              <h3 class="h5 mb-4">Estado de Inspecciones</h3>              <div class="space-y-3">                <div                  *ngIf="hasCheckIn()"                  class="flex items-center gap-3 p-3 rounded-lg bg-success-light/10 dark:bg-success-light/20"                >                  <svg                    class="w-5 h-5 text-success-light dark:text-success-light"                    fill="none"                    stroke="currentColor"                    viewBox="0 0 24 24"                  >                    <path                      stroke-linecap="round"                      stroke-linejoin="round"                      stroke-width="2"                      d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"                    />                  </svg>                  <span class="text-sm font-medium text-success-light dark:text-success-light"                    >Check-in completado</span                  >                </div>                <div                  *ngIf="hasCheckOut()"                  class="flex items-center gap-3 p-3 rounded-lg bg-success-light/10 dark:bg-success-light/20"                >                  <svg                    class="w-5 h-5 text-success-light dark:text-success-light"                    fill="none"                    stroke="currentColor"                    viewBox="0 0 24 24"                  >                    <path                      stroke-linecap="round"                      stroke-linejoin="round"                      stroke-width="2"                      d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"                    />                  </svg>                  <span class="text-sm font-medium text-success-light dark:text-success-light"                    >Check-out completado</span                  >                </div>              </div>            </div>            <!-- Claims/Siniestros Section -->            <div              *ngIf="isRenter() && (canReportClaim() || hasClaim())"              class="card-premium rounded-2xl p-4 sm:p-6 shadow-soft border-2 border-error-border/50 dark:border-error-900/30"            >              <h3 class="h5 mb-4 flex items-center gap-2">                <svg                  class="w-6 h-6 text-error-text"                  fill="none"                  stroke="currentColor"                  viewBox="0 0 24 24"                >                  <path                    stroke-linecap="round"                    stroke-linejoin="round"                    stroke-width="2"                    d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"                  />                </svg>                Siniestros / Daos              </h3>              <!-- Report Claim Button -->              <div                *ngIf="canReportClaim()"                class="p-4 rounded-xl bg-error-bg dark:bg-error-900/20 border border-error-border dark:border-error-800"              >                <div class="flex items-start gap-4">                  <div class="flex-shrink-0">                    <div                      class="w-12 h-12 rounded-full bg-error-bg-hover dark:bg-error-900/40 flex items-center justify-center"                    >                      <svg                        class="w-6 h-6 text-error-text"                        fill="none"                        stroke="currentColor"                        viewBox="0 0 24 24"                      >                        <path                          stroke-linecap="round"                          stroke-linejoin="round"                          stroke-width="2"                          d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"                        />                      </svg>                    </div>                  </div>                  <div class="flex-1">                    <h4 class="font-semibold text-text-primary dark:text-text-inverse mb-1">                      Reportar Siniestro o Dao                    </h4>                    <p class="text-sm text-text-secondary dark:text-text-secondary mb-3">                      Tuviste un accidente o detectaste un dao en el vehculo? Reportalo                      inmediatamente con fotos y detalles. La aseguradora se contactar contigo.                    </p>                    <a                      [routerLink]="[\'/bookings\', booking()?.id, \'report-claim\']"                      class="inline-flex items-center gap-2 px-4 py-2 bg-error-600 hover:bg-error-700 text-text-inverse rounded-lg font-medium transition-colors shadow-sm"                    >                      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">                        <path                          stroke-linecap="round"                          stroke-linejoin="round"                          stroke-width="2"                          d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"                        />                      </svg>                      Reportar Siniestro                    </a>                  </div>                </div>              </div>              <!-- Claim Status Display -->              <div *ngIf="hasClaim() && latestClaim()" class="space-y-3">                <div                  class="p-4 rounded-xl border"                  [ngClass]="{                    \'bg-warning-light/10 dark:bg-warning-light/20 border-warning-light/40 dark:border-warning-light\':                      getClaimStatusColor(latestClaim()!.status) === \'orange\',                    \'bg-cta-default/10 dark:bg-cta-default/20 border-cta-default/40 dark:border-cta-default\':                      getClaimStatusColor(latestClaim()!.status) === \'blue\',                    \'bg-success-light/10 dark:bg-success-light/20 border-success-light/40 dark:border-success-light\':                      getClaimStatusColor(latestClaim()!.status) === \'green\',                    \'bg-error-bg dark:bg-error-900/20 border-error-border dark:border-error-800\':                      getClaimStatusColor(latestClaim()!.status) === \'red\',                    \'bg-surface-base dark:bg-surface-raised/20 border-border-default dark:border-border-strong\':                      getClaimStatusColor(latestClaim()!.status) === \'gray\',                  }"                >                  <div class="flex items-start justify-between gap-4">                    <div class="flex-1">                      <div class="flex items-center gap-2 mb-2">                        <span                          class="inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-semibold rounded-full"                          [ngClass]="{                            \'bg-warning-light/20 text-warning-light dark:bg-warning-light/40 dark:text-warning-light\':                              getClaimStatusColor(latestClaim()!.status) === \'orange\',                            \'bg-cta-default/20 text-cta-default dark:bg-cta-default/40 dark:text-cta-default\':                              getClaimStatusColor(latestClaim()!.status) === \'blue\',                            \'bg-success-light/20 text-success-light dark:bg-success-light/40 dark:text-success-light\':                              getClaimStatusColor(latestClaim()!.status) === \'green\',                            \'bg-error-bg-hover text-error-strong dark:bg-error-900/40 dark:text-error-200\':                              getClaimStatusColor(latestClaim()!.status) === \'red\',                            \'bg-surface-raised text-text-primary dark:bg-surface-raised/40 dark:text-text-primary\':                              getClaimStatusColor(latestClaim()!.status) === \'gray\',                          }"                        >                          {{ getClaimStatusLabel(latestClaim()!.status) }}                        </span>                        <span class="text-xs text-text-secondary dark:text-text-muted font-mono">                          #{{ latestClaim()!.id | slice: 0 : 8 }}                        </span>                      </div>                      <p class="text-sm font-medium text-text-primary dark:text-text-inverse mb-1">                        Siniestro reportado el {{ formatDate(latestClaim()!.created_at) }}                      </p>                      <p class="text-xs text-text-secondary dark:text-text-secondary line-clamp-2">                        {{ latestClaim()!.description }}                      </p>                      <p                        class="text-xs text-text-secondary dark:text-text-muted mt-2"                        *ngIf="latestClaim()!.photos && latestClaim()!.photos!.length > 0"                      >                         {{ latestClaim()!.photos!.length }} foto(s) de evidencia                      </p>                    </div>                  </div>                  <div class="mt-3 pt-3 border-t border-border-default dark:border-border-muted">                    <p class="text-xs text-text-secondary dark:text-text-secondary">                      <strong>Qu sigue?</strong>                      <span *ngIf="latestClaim()!.status === \'reported\'">                        Un gestor de la aseguradora revisar tu reporte en las prximas 2 horas.                      </span>                      <span *ngIf="latestClaim()!.status === \'under_review\'">                        Tu siniestro est siendo evaluado por la aseguradora.                      </span>                      <span *ngIf="latestClaim()!.status === \'approved\'">                        Tu siniestro fue aprobado. Se procesar el pago correspondiente.                      </span>                      <span *ngIf="latestClaim()!.status === \'rejected\'">                        Tu siniestro fue rechazado. Contact a soporte para ms informacin.                      </span>                      <span *ngIf="latestClaim()!.status === \'paid\'">                        El pago del siniestro fue procesado exitosamente.                      </span>                      <span *ngIf="latestClaim()!.status === \'closed\'">                        Este siniestro est cerrado.                      </span>                    </p>                  </div>                </div>              </div>            </div>            <!--  INSURANCE SUMMARY CARD - Removed loading state -->            <!-- Pricing Breakdown Card -->          </section>          <!-- Removed: app-payment-actions component -->        </div>        <app-review-management [booking]="booking()!"></app-review-management>        <!-- Disputes Section -->        @if (canCreateDispute() || booking()?.status === \'completed\') {          <div class="card-premium rounded-2xl p-4 sm:p-6 shadow-soft">            <app-disputes-list              [bookingId]="booking()!.id"              [showCreateButton]="canCreateDispute()"              (createDispute)="showDisputeForm.set(true)"            ></app-disputes-list>          </div>        }        <!-- Refund Request Section -->        @if (canRequestRefund()) {          <div class="card-premium rounded-2xl p-4 sm:p-6 shadow-soft">            <div class="flex items-center justify-between mb-4">              <div>                <h3 class="text-lg font-semibold text-text-primary dark:text-text-inverse mb-1">                  Solicitar Reembolso                </h3>                <p class="text-sm text-text-secondary dark:text-text-secondary">                  Si necesitas un reembolso para esta reserva, puedes solicitarlo aqu.                </p>              </div>              <button                (click)="showRefundForm.set(true)"                class="px-4 py-2 bg-cta-default text-cta-text rounded-lg hover:bg-cta-default transition-colors"              >                Solicitar Reembolso              </button>            </div>          </div>        }        <!-- Dispute Form Modal -->        <app-dispute-form          [isOpen]="showDisputeForm()"          [bookingId]="booking()!.id"          (closeModal)="showDisputeForm.set(false)"          (disputeCreated)="onDisputeCreated()"        ></app-dispute-form>        <!-- Refund Request Modal -->        <app-refund-request          [isOpen]="showRefundForm()"          [bookingId]="booking()!.id"          (closeModal)="showRefundForm.set(false)"          (refundRequested)="onRefundRequested()"        ></app-refund-request>        <!-- Contract Section -->        <div class="mt-6" *ngIf="booking()">          <app-booking-contract [bookingId]="booking()!.id"></app-booking-contract>        </div>        <!-- Refund Status -->        <div class="mt-6" *ngIf="booking()">          <app-refund-status [bookingId]="booking()!.id"></app-refund-status>        </div>        <!-- Owner Damage Report Button -->        <div          *ngIf="canReportDamage()"          class="card-premium p-4 rounded-2xl shadow-soft bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-900/20 dark:to-orange-900/20 border-l-4 border-error-border"        >          <div class="flex items-start gap-4">            <div class="flex-shrink-0">              <svg                class="w-8 h-8 text-error-text"                fill="none"                stroke="currentColor"                viewBox="0 0 24 24"              >                <path                  stroke-linecap="round"                  stroke-linejoin="round"                  stroke-width="2"                  d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"                />              </svg>            </div>            <div class="flex-1">              <h3 class="text-lg font-semibold text-text-primary dark:text-text-inverse-pure mb-2">                Detectaste daos en el vehculo?              </h3>              <p class="text-sm text-text-secondary dark:text-text-secondary mb-4">                Reporta cualquier dao detectado despus de la devolucin del vehculo. El monto                ser deducido del depsito de garanta del locatario.              </p>              <a                [routerLink]="[\'/bookings\', booking()?.id, \'owner-damage-report\']"                class="inline-flex items-center gap-2 px-4 py-2 bg-error-600 hover:bg-error-700 text-text-inverse rounded-xl font-medium transition-base shadow-sm"              >                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">                  <path                    stroke-linecap="round"                    stroke-linejoin="round"                    stroke-width="2"                    d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"                  />                </svg>                Reportar Daos              </a>            </div>          </div>        </div>        <!-- Display Damage Report if already submitted -->        <div          *ngIf="isOwner() && booking()?.owner_reported_damages"          class="card-premium p-4 rounded-2xl shadow-soft border-l-4 border-warning-border bg-warning-bg dark:bg-warning-900/20"        >          <div class="flex items-start gap-4">            <div class="flex-shrink-0">              <svg                class="w-8 h-8 text-warning-text dark:text-warning-400"                fill="none"                stroke="currentColor"                viewBox="0 0 24 24"              >                <path                  stroke-linecap="round"                  stroke-linejoin="round"                  stroke-width="2"                  d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"                />              </svg>            </div>            <div class="flex-1">              <h3 class="text-lg font-semibold text-warning-strong dark:text-warning-200 mb-2">                Reporte de Daos Enviado              </h3>              <div class="space-y-2">                <div class="flex justify-between items-center">                  <span class="text-sm text-warning-strong dark:text-warning-300"                    >Monto del dao:</span                  >                  <span class="font-semibold text-warning-strong dark:text-warning-100">                    ${{ (booking()?.owner_damage_amount ?? 0) / 100 }} USD                  </span>                </div>                <div                  *ngIf="booking()?.owner_damage_description"                  class="pt-2 border-t border-warning-border dark:border-warning-700"                >                  <p class="text-xs text-warning-strong dark:text-warning-300 font-medium mb-1">                    Descripcin:                  </p>                  <p class="text-sm text-warning-strong dark:text-warning-100">                    {{ booking()?.owner_damage_description }}                  </p>                </div>              </div>            </div>          </div>        </div>        <!-- Bilateral Confirmation Section -->        <div *ngIf="showConfirmationSection()" class="space-y-4">          <!-- Timeline Component -->          <div            id="booking-confirmation-timeline"            class="rounded-2xl border border-border-default dark:border-border-muted bg-surface-raised dark:bg-surface-secondary p-4 sm:p-6 shadow-sm"          >            <app-booking-confirmation-timeline              [booking]="booking()!"              [ownerName]="carOwnerName()"              [renterName]="booking()?.renter_name ?? \'el locatario\'"              (confirmationRequested)="handleTimelineAction($event)"            ></app-booking-confirmation-timeline>          </div>          <!-- Owner Confirmation Component -->          <div *ngIf="isOwner()" id="owner-confirmation-section">            <app-owner-confirmation              [bookingId]="booking()!.id"              [ownerConfirmed]="booking()?.owner_confirmed_delivery ?? false"              [renterConfirmed]="booking()?.renter_confirmed_payment ?? false"              (confirmed)="handleConfirmationSuccess($event)"              (errorOccurred)="handleConfirmationError($event)"            ></app-owner-confirmation>          </div>          <!-- Renter Confirmation Component -->          <div *ngIf="isRenter()" id="renter-confirmation-section">            <app-renter-confirmation              [bookingId]="booking()!.id"              [ownerConfirmed]="booking()?.owner_confirmed_delivery ?? false"              [renterConfirmed]="booking()?.renter_confirmed_payment ?? false"              [damageAmount]="booking()?.owner_damage_amount ?? null"              [damageDescription]="booking()?.owner_damage_description ?? null"              [depositAmount]="(booking()?.deposit_amount_cents ?? 25000) / 100"              (confirmed)="handleConfirmationSuccess($event)"              (errorOccurred)="handleConfirmationError($event)"            ></app-renter-confirmation>          </div>        </div>        <!--  REPORT CLAIM BUTTON -->        <div          *ngIf="booking()?.status === \'confirmed\' || booking()?.status === \'in_progress\'"          class="card-premium p-4 rounded-2xl shadow-soft bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-900/20 dark:to-orange-900/20 border-l-4 border-error-border"        >          <div class="flex items-start gap-4">            <div class="flex-shrink-0">              <svg                class="w-8 h-8 text-error-text"                fill="none"                stroke="currentColor"                viewBox="0 0 24 24"              >                <path                  stroke-linecap="round"                  stroke-linejoin="round"                  stroke-width="2"                  d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"                />              </svg>            </div>            <div class="flex-1">              <h3 class="text-lg font-semibold text-text-primary dark:text-text-inverse-pure mb-2">                Tuviste un accidente o dao?              </h3>              <p class="text-sm text-text-secondary dark:text-text-secondary mb-4">                Reporta cualquier incidente inmediatamente para activar tu cobertura de seguro.              </p>              <a                [routerLink]="[\'/bookings\', booking()?.id, \'report-claim\']"                class="inline-flex items-center gap-2 px-4 py-2 bg-error-600 hover:bg-error-700 text-text-inverse rounded-xl font-medium transition-base shadow-sm"              >                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">                  <path                    stroke-linecap="round"                    stroke-linejoin="round"                    stroke-width="2"                    d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"                  />                </svg>                Reportar Siniestro/Dao              </a>            </div>          </div>        </div>        <!-- End Left Column -->        <!-- Right Column: Chat or Payment Reminder -->        <div *ngIf="carOwnerId()" id="tour-booking-chat" class="lg:sticky lg:top-4 lg:self-start">          <!--  Show chat for confirmed/active bookings -->          <div            *ngIf="              booking()?.status === \'confirmed\' ||              booking()?.status === \'in_progress\' ||              booking()?.status === \'pending\' ||              showConfirmationSection()            "          >            <h2 class="mb-4 text-xl font-bold text-text-primary dark:text-text-primary">              Chat con el anfitrin            </h2>            <app-booking-chat              [bookingId]="booking()!.id"              [recipientId]="carOwnerId()!"              [recipientName]="carOwnerName()"            ></app-booking-chat>          </div>          <!--  Show payment reminder for pending payment -->          <div *ngIf="booking()?.status === \'pending_payment\'" class="space-y-4">            <div              class="bg-cta-default/10 dark:bg-cta-default/20 border border-cta-default/40 dark:border-cta-default/60 rounded-xl p-6"            >              <div class="flex items-start gap-3">                <svg                  class="w-6 h-6 text-cta-default flex-shrink-0 mt-0.5"                  fill="none"                  stroke="currentColor"                  viewBox="0 0 24 24"                >                  <path                    stroke-linecap="round"                    stroke-linejoin="round"                    stroke-width="2"                    d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"                  />                </svg>                <div>                  <h3 class="text-lg font-semibold text-cta-default dark:text-cta-default mb-2">                    Reserva pendiente de pago                  </h3>                  <p class="text-sm text-cta-default dark:text-cta-default mb-4">                    Para poder chatear con el anfitrin, primero debs completar el pago de tu                    reserva.                  </p>                  <a                    [routerLink]="[\'/bookings\', booking()?.id, \'payment\']"                    class="inline-flex items-center gap-2 px-4 py-2 bg-cta-default text-cta-text rounded-lg font-medium transition-colors"                  >                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">                      <path                        stroke-linecap="round"                        stroke-linejoin="round"                        stroke-width="2"                        d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"                      />                    </svg>                    Completar pago                  </a>                </div>              </div>            </div>            <!-- FAQ Section for Pending Payment -->            <div              class="bg-surface-base dark:bg-surface-base/50 border border-border-default dark:border-border-muted rounded-xl p-4"            >              <h4 class="font-medium text-text-primary dark:text-text-primary mb-3">                Preguntas frecuentes              </h4>              <div class="space-y-3 text-sm">                <div>                  <p class="font-medium text-text-primary dark:text-text-primary">                    Cunto tiempo tengo para pagar?                  </p>                  <p class="text-text-secondary dark:text-text-secondary dark:text-text-secondary">                    Tens 24 horas para completar el pago antes de que expire la reserva.                  </p>                </div>                <div>                  <p class="font-medium text-text-primary dark:text-text-primary">                    Puedo hacer preguntas al anfitrin?                  </p>                  <p class="text-text-secondary dark:text-text-secondary dark:text-text-secondary">                    S, pero primero complet el pago para activar el chat.                  </p>                </div>                <div>                  <p class="font-medium text-text-primary dark:text-text-primary">                    Qu mtodos de pago aceptan?                  </p>                  <p class="text-text-secondary dark:text-text-secondary dark:text-text-secondary">                    Tarjeta de crdito/dbito o saldo en tu wallet AutoRenta.                  </p>                </div>              </div>            </div>          </div>          <!-- Operaciones & Tracking -->          <div class="mt-6 space-y-4">            <app-booking-ops-timeline              [data]="{                payment_note: paymentView()                  ? paymentView()!.method + \'  \' + paymentView()!.status                  : null,                payment_date: paymentView()?.date ?? null,                pickup_confirmed_at: confirmation()?.pickup_confirmed_at ?? null,                dropoff_confirmed_at: confirmation()?.dropoff_confirmed_at ?? null,                owner_confirmation_at:                  confirmation()?.owner_confirmation_at ?? booking()?.owner_confirmation_at,                renter_confirmation_at:                  confirmation()?.renter_confirmation_at ?? booking()?.renter_confirmation_at,                returned_at: confirmation()?.returned_at ?? booking()?.returned_at,                funds_released_at:                  confirmation()?.funds_released_at ?? booking()?.funds_released_at,                cancellation_reason:                  cancellation()?.cancellation_reason ?? booking()?.cancellation_reason,                cancellation_fee_cents:                  cancellation()?.cancellation_fee_cents ??                  booking()?.cancellation_fee_cents ??                  null,                cancelled_at: cancellation()?.cancelled_at ?? booking()?.cancelled_at,              }"            ></app-booking-ops-timeline>            <app-booking-tracking              [session]="                tracking()                  ? {                      active: tracking()!.active,                      started_at: tracking()!.started_at,                      ended_at: tracking()!.ended_at,                      points_count: tracking()!.points,                    }                  : null              "            ></app-booking-tracking>          </div>        </div>        <!-- End Right Column -->      </div>      <!-- End Two Column Grid -->    </div>  </div></div></div>'
    var COMPONENTS = [{'name': 'AccordionComponent', 'selector': 'app-accordion'},{'name': 'AccountingAdminPage', 'selector': 'autorenta-accounting-admin-page'},{'name': 'AccountingDashboardComponent', 'selector': 'app-accounting-dashboard'},{'name': 'AccountingDashboardPage', 'selector': 'app-accounting-dashboard'},{'name': 'AdminAnalyticsPage', 'selector': 'app-admin-analytics-page'},{'name': 'AdminClaimDetailPage', 'selector': 'app-admin-claim-detail'},{'name': 'AdminClaimsPage', 'selector': 'app-admin-claims'},{'name': 'AdminDashboardPage', 'selector': 'autorenta-admin-dashboard-page'},{'name': 'AdminDisputesPage', 'selector': 'app-admin-disputes'},{'name': 'AdminFeatureFlagsPage', 'selector': 'app-admin-feature-flags'},{'name': 'AdminPricingPage', 'selector': 'app-admin-pricing-page'},{'name': 'AdminRefundsPage', 'selector': 'autorenta-admin-refunds-page'},{'name': 'AdminReviewsPage', 'selector': 'app-admin-reviews'},{'name': 'AdminSettlementsPage', 'selector': 'app-admin-settlements-page'},{'name': 'AdminVerificationsPage', 'selector': 'autorenta-admin-verifications-page'},{'name': 'AdminWithdrawalsPage', 'selector': 'autorenta-admin-withdrawals-page'},{'name': 'AiPhotoGeneratorComponent', 'selector': 'app-ai-photo-generator'},{'name': 'AnalyticsDemoComponent', 'selector': 'app-analytics-demo'},{'name': 'AppComponent', 'selector': 'app-root'},{'name': 'AppHeaderComponent', 'selector': 'app-app-header'},{'name': 'AuditLogsPage', 'selector': 'app-audit-logs'},{'name': 'AuthCallbackPage', 'selector': 'app-auth-callback-page'},{'name': 'AutorentarCreditCardComponent', 'selector': 'app-autorentar-credit-card'},{'name': 'AvailabilityAlertComponent', 'selector': 'app-availability-alert'},{'name': 'AvailabilityCalendarPage', 'selector': 'app-availability-calendar'},{'name': 'BadgeComponent', 'selector': 'app-badge'},{'name': 'BalanceSheetPage', 'selector': 'app-balance-sheet'},{'name': 'BankAccountFormComponent', 'selector': 'app-bank-account-form'},{'name': 'BankAccountsComponent', 'selector': 'app-bank-accounts'},{'name': 'BankAccountsListComponent', 'selector': 'app-bank-accounts-list'},{'name': 'BaseChatComponent', 'selector': 'app-base-chat'},{'name': 'BecomeRenterPage', 'selector': 'app-become-renter'},{'name': 'BirthDateModalComponent', 'selector': 'app-birth-date-modal'},{'name': 'BlockDateModalComponent', 'selector': 'app-block-date-modal'},{'name': 'BonusProtectorPurchaseComponent', 'selector': 'app-bonus-protector-purchase'},{'name': 'BonusProtectorSimulatorComponent', 'selector': 'app-bonus-protector-simulator'},{'name': 'BookingBenefitsComponent', 'selector': 'app-booking-benefits'},{'name': 'BookingChatComponent', 'selector': 'app-booking-chat'},{'name': 'BookingChatWrapperComponent', 'selector': 'app-booking-chat'},{'name': 'BookingCheckoutPage', 'selector': 'app-booking-checkout'},{'name': 'BookingConfirmationPage', 'selector': 'app-booking-confirmation'},{'name': 'BookingConfirmationStepComponent', 'selector': 'app-booking-confirmation-step'},{'name': 'BookingConfirmationTimelineComponent', 'selector': 'app-booking-confirmation-timeline'},{'name': 'BookingContractComponent', 'selector': 'app-booking-contract'},{'name': 'BookingContractPage', 'selector': 'app-booking-contract-page'},{'name': 'BookingDatesLocationStepComponent', 'selector': 'app-booking-dates-location-step'},{'name': 'BookingDatesStepComponent', 'selector': 'app-booking-dates-step'},{'name': 'BookingDetailPage', 'selector': 'app-booking-detail'},{'name': 'BookingDetailPaymentPage', 'selector': 'app-booking-detail-payment'},{'name': 'BookingDriverStepComponent', 'selector': 'app-booking-driver-step'},{'name': 'BookingExtrasStepComponent', 'selector': 'app-booking-extras-step'},{'name': 'BookingFlowMetricsComponent', 'selector': 'app-booking-flow-metrics'},{'name': 'BookingInsuranceStepComponent', 'selector': 'app-booking-insurance-step'},{'name': 'BookingInsuranceSummaryComponent', 'selector': 'app-booking-insurance-summary'},{'name': 'BookingLocationFormComponent', 'selector': 'app-booking-location-form'},{'name': 'BookingLocationFormComponent', 'selector': 'app-booking-location-form'},{'name': 'BookingOpsTimelineComponent', 'selector': 'app-booking-ops-timeline'},{'name': 'BookingPaymentCoverageStepComponent', 'selector': 'app-booking-payment-coverage-step'},{'name': 'BookingPaymentPage', 'selector': 'app-booking-payment'},{'name': 'BookingPaymentStepComponent', 'selector': 'app-booking-payment-step'},{'name': 'BookingPendingPage', 'selector': 'app-booking-pending'},{'name': 'BookingPickerPage', 'selector': 'app-booking-picker'},{'name': 'BookingPricingBreakdownComponent', 'selector': 'app-booking-pricing-breakdown'},{'name': 'BookingPricingBreakdownComponent', 'selector': 'app-booking-pricing-breakdown'},{'name': 'BookingReviewStepComponent', 'selector': 'app-booking-review-step'},{'name': 'BookingStatusComponent', 'selector': 'app-booking-status'},{'name': 'BookingStepIndicatorComponent', 'selector': 'app-booking-step-indicator'},{'name': 'BookingSuccessPage', 'selector': 'app-booking-success'},{'name': 'BookingSummaryCardComponent', 'selector': 'app-booking-summary-card'},{'name': 'BookingTrackingComponent', 'selector': 'app-booking-tracking'},{'name': 'BookingWizardPage', 'selector': 'app-booking-wizard'},{'name': 'BottomSheetComponent', 'selector': 'app-bottom-sheet'},{'name': 'BottomSheetComponent', 'selector': 'app-bottom-sheet'},{'name': 'BottomSheetFiltersComponent', 'selector': 'app-bottom-sheet-filters'},{'name': 'BulkBlockingPage', 'selector': 'app-bulk-blocking'},{'name': 'ButtonComponent', 'selector': 'app-button'},{'name': 'ButtonV2Component', 'selector': 'app-button-v2'},{'name': 'CalendarComponent', 'selector': 'app-calendar'},{'name': 'CalendarEventsListComponent', 'selector': 'app-calendar-events-list'},{'name': 'CalendarPage', 'selector': 'app-calendar'},{'name': 'CalendarWidgetComponent', 'selector': 'app-calendar-widget'},{'name': 'Car3dViewerComponent', 'selector': 'app-car-3d-viewer'},{'name': 'CarBookingPage', 'selector': 'app-car-booking'},{'name': 'CarCard', 'selector': 'app-car-card'},{'name': 'CarCardComponent', 'selector': 'app-car-card'},{'name': 'CarChatComponent', 'selector': 'app-car-chat'},{'name': 'CardComponent', 'selector': 'app-card'},{'name': 'CardComponent', 'selector': 'app-card'},{'name': 'CarDetailPage', 'selector': 'app-car-detail-page'},{'name': 'CardHoldPanelComponent', 'selector': 'app-card-hold-panel'},{'name': 'CarReviewsSectionComponent', 'selector': 'app-car-reviews-section'},{'name': 'CarsConversionPage', 'selector': 'app-cars-conversion'},{'name': 'CarsDrawerComponent', 'selector': 'app-cars-drawer'},{'name': 'CarsListComponent', 'selector': 'app-cars-list'},{'name': 'CarsListPage', 'selector': 'app-cars-list-page'},{'name': 'CarsMapComponent', 'selector': 'app-cars-map'},{'name': 'CashFlowPage', 'selector': 'app-cash-flow'},{'name': 'ChatShellComponent', 'selector': 'app-chat-shell'},{'name': 'CheckInPage', 'selector': 'app-check-in'},{'name': 'CheckOutPage', 'selector': 'app-check-out'},{'name': 'ChipComponent', 'selector': 'app-chip'},{'name': 'CitySelectComponent', 'selector': 'app-city-select'},{'name': 'ClaimFormComponent', 'selector': 'app-claim-form'},{'name': 'ClassBenefitsModalComponent', 'selector': 'app-class-benefits-modal'},{'name': 'ComparePage', 'selector': 'app-compare-page'},{'name': 'ContractPdfViewerComponent', 'selector': 'app-contract-pdf-viewer'},{'name': 'ContractSignModalComponent', 'selector': 'app-contract-sign-modal'},{'name': 'ContractsManagementPage', 'selector': 'app-contracts-management'},{'name': 'CoverageFundDashboardComponent', 'selector': 'app-coverage-fund-dashboard'},{'name': 'CoverageUpgradeSelectorComponent', 'selector': 'app-coverage-upgrade-selector'},{'name': 'CreditSecurityPanelComponent', 'selector': 'app-credit-security-panel'},{'name': 'CustomFeatureComponent', 'selector': 'app-custom-feature'},{'name': 'DamageComparisonComponent', 'selector': 'app-damage-comparison'},{'name': 'DarkModeToggleComponent', 'selector': 'app-dark-mode-toggle'},{'name': 'DashboardCalendarPage', 'selector': 'app-dashboard-calendar-page'},{'name': 'DashboardPage', 'selector': 'app-dashboard-page'},{'name': 'DatabaseExportPage', 'selector': 'app-database-export'},{'name': 'DateRangePickerComponent', 'selector': 'app-date-range-picker'},{'name': 'DateSearchComponent', 'selector': 'app-date-search'},{'name': 'DepositPage', 'selector': 'app-deposit'},{'name': 'DepositsMonitoringPage', 'selector': 'app-deposits-monitoring'},{'name': 'DepositStatusBadgeComponent', 'selector': 'app-deposit-status-badge'},{'name': 'DepositWarningComponent', 'selector': 'app-deposit-warning'},{'name': 'DevToolsComponent', 'selector': 'app-dev-tools'},{'name': 'DismissibleTourComponent', 'selector': 'app-dismissible-tour'},{'name': 'DisputeDetailPage', 'selector': 'app-dispute-detail-page'},{'name': 'DisputeFormComponent', 'selector': 'app-dispute-form'},{'name': 'DisputesListComponent', 'selector': 'app-disputes-list'},{'name': 'DisputesManagementPage', 'selector': 'app-disputes-management'},{'name': 'DistanceBadgeComponent', 'selector': 'app-distance-badge'},{'name': 'DistanceRiskTierBadgeComponent', 'selector': 'app-distance-risk-tier-badge'},{'name': 'DistanceSummaryComponent', 'selector': 'app-distance-summary'},{'name': 'DniUploaderComponent', 'selector': 'app-dni-uploader'},{'name': 'DriverProfileAdvancedComponent', 'selector': 'app-driver-profile-advanced'},{'name': 'DriverProfileCardComponent', 'selector': 'app-driver-profile-card'},{'name': 'DriverProfilePage', 'selector': 'app-driver-profile-page'},{'name': 'DrivingStatsPage', 'selector': 'app-driving-stats'},{'name': 'DynamicPriceBreakdownModalComponent', 'selector': 'app-dynamic-price-breakdown-modal'},{'name': 'DynamicPriceDisplayComponent', 'selector': 'app-dynamic-price-display'},{'name': 'DynamicPriceLockPanelComponent', 'selector': 'app-dynamic-price-lock-panel'},{'name': 'DynamicPricingBadgeComponent', 'selector': 'app-dynamic-pricing-badge'},{'name': 'EarningsCardComponent', 'selector': 'app-earnings-card'},{'name': 'EarningsPage', 'selector': 'app-earnings-page'},{'name': 'EmailVerificationComponent', 'selector': 'app-email-verification'},{'name': 'EmptyStateComponent', 'selector': 'app-empty-state'},{'name': 'EnhancedMapTooltipComponent', 'selector': 'app-enhanced-map-tooltip'},{'name': 'ErrorStateComponent', 'selector': 'app-error-state'},{'name': 'EvidenceUploaderComponent', 'selector': 'app-evidence-uploader'},{'name': 'ExchangeRatesPage', 'selector': 'app-exchange-rates'},{'name': 'ExplorePage', 'selector': 'app-explore'},{'name': 'FABComponent', 'selector': 'app-fab'},{'name': 'FacebookSidebarComponent', 'selector': 'app-facebook-sidebar'},{'name': 'FAQSectionComponent', 'selector': 'app-faq-section'},{'name': 'FavoriteButtonComponent', 'selector': 'app-favorite-button'},{'name': 'FavoritesPage', 'selector': 'app-favorites-page'},{'name': 'FgoManagementComponent', 'selector': 'app-fgo-management'},{'name': 'FgoOverviewPage', 'selector': 'app-fgo-overview'},{'name': 'FinancialHealthPage', 'selector': 'app-financial-health'},{'name': 'FipeAutocompleteComponent', 'selector': 'app-fipe-autocomplete'},{'name': 'FlagReviewModalComponent', 'selector': 'app-flag-review-modal'},{'name': 'FloatingActionFabComponent', 'selector': 'app-floating-action-fab'},{'name': 'FooterComponent', 'selector': 'app-footer'},{'name': 'GuaranteeOptionsInfoComponent', 'selector': 'app-guarantee-options-info'},{'name': 'HelpButtonComponent', 'selector': 'app-help-button'},{'name': 'HelpMenuComponent', 'selector': 'app-help-menu'},{'name': 'HostSupportInfoPanelComponent', 'selector': 'app-host-support-info-panel'},{'name': 'IconComponent', 'selector': 'app-icon'},{'name': 'InboxPage', 'selector': 'app-inbox'},{'name': 'IncomeStatementPage', 'selector': 'app-income-statement'},{'name': 'InfoBannerComponent', 'selector': 'app-info-banner'},{'name': 'InitialGoalModalComponent', 'selector': 'app-initial-goal-modal'},{'name': 'InputComponent', 'selector': 'app-input'},{'name': 'InspectionUploaderComponent', 'selector': 'app-inspection-uploader'},{'name': 'InsurancePage', 'selector': 'app-insurance-page'},{'name': 'InsurancePolicyPage', 'selector': 'app-insurance-policy'},{'name': 'InsuranceSelectorComponent', 'selector': 'app-insurance-selector'},{'name': 'InsuranceSummaryCardComponent', 'selector': 'app-insurance-summary-card'},{'name': 'JournalEntriesPage', 'selector': 'app-journal-entries'},{'name': 'KpiCardComponent', 'selector': 'app-kpi-card'},{'name': 'LanguageSelectorComponent', 'selector': 'app-language-selector'},{'name': 'LayoutComponent', 'selector': 'app-layout'},{'name': 'LedgerHistoryComponent', 'selector': 'app-ledger-history'},{'name': 'LedgerPage', 'selector': 'app-ledger'},{'name': 'LicenseUploaderComponent', 'selector': 'app-license-uploader'},{'name': 'LiveTrackingMapComponent', 'selector': 'app-live-tracking-map'},{'name': 'LoadingStateComponent', 'selector': 'app-loading-state'},{'name': 'LocationMapPickerComponent', 'selector': 'app-location-map-picker'},{'name': 'LocationPickerComponent', 'selector': 'app-location-picker'},{'name': 'LocationSettingsPage', 'selector': 'app-location-settings-page'},{'name': 'LoginPage', 'selector': 'app-login-page'},{'name': 'MakeCalendarPublicButtonComponent', 'selector': 'app-make-calendar-public-button'},{'name': 'ManualJournalEntryPage', 'selector': 'app-manual-journal-entry'},{'name': 'MapBookingPanelComponent', 'selector': 'app-map-booking-panel'},{'name': 'MapCardTooltipComponent', 'selector': 'app-map-card-tooltip'},{'name': 'MapControlsComponent', 'selector': 'app-map-controls'},{'name': 'MapDetailsPanelComponent', 'selector': 'app-map-details-panel'},{'name': 'MapDrawerComponent', 'selector': 'app-map-drawer'},{'name': 'MapFiltersComponent', 'selector': 'app-map-filters'},{'name': 'MapLayersControlComponent', 'selector': 'app-map-layers-control'},{'name': 'MapMarkerComponent', 'selector': 'app-map-marker'},{'name': 'MarketplaceV2Page', 'selector': 'app-marketplace-v2-page'},{'name': 'MercadoPagoCallbackPage', 'selector': 'app-mercadopago-callback'},{'name': 'MercadopagoCardFormComponent', 'selector': 'app-mercadopago-card-form'},{'name': 'MercadoPagoConnectComponent', 'selector': 'app-mercadopago-connect'},{'name': 'MercadopagoPaymentBrickComponent', 'selector': 'app-mercadopago-payment-brick'},{'name': 'MessagesPage', 'selector': 'app-messages'},{'name': 'MissingDocumentsWidgetComponent', 'selector': 'app-missing-documents-widget'},{'name': 'MobileBottomNavComponent', 'selector': 'app-mobile-bottom-nav'},{'name': 'ModalComponent', 'selector': 'app-modal'},{'name': 'ModerateReviewsPage', 'selector': 'app-moderate-reviews'},{'name': 'MpCallbackPage', 'selector': 'app-mp-callback'},{'name': 'MpOnboardingModalComponent', 'selector': 'app-mp-onboarding-modal'},{'name': 'MultiCarCalendarComponent', 'selector': 'app-multi-car-calendar'},{'name': 'MyBookingsPage', 'selector': 'app-my-bookings-page'},{'name': 'MyCarsPage', 'selector': 'app-my-cars-page'},{'name': 'MyClaimsPage', 'selector': 'app-my-claims'},{'name': 'NotificationPreferencesPage', 'selector': 'app-notification-preferences'},{'name': 'NotificationsComponent', 'selector': 'app-notifications'},{'name': 'NotificationsPage', 'selector': 'app-notifications-page'},{'name': 'NotificationsSettingsPage', 'selector': 'app-notifications-settings'},{'name': 'OfflineBannerComponent', 'selector': 'app-offline-banner'},{'name': 'OfflineMessagesIndicatorComponent', 'selector': 'app-offline-messages-indicator'},{'name': 'OfflineMessagesPanelComponent', 'selector': 'app-offline-messages-panel'},{'name': 'OnboardingComponent', 'selector': 'app-onboarding'},{'name': 'OnboardingPage', 'selector': 'app-onboarding-page'},{'name': 'OrganizationDashboardComponent', 'selector': 'app-organization-dashboard'},{'name': 'OwnerBookingsPage', 'selector': 'app-owner-bookings-page'},{'name': 'OwnerCheckInPage', 'selector': 'app-owner-check-in'},{'name': 'OwnerCheckOutPage', 'selector': 'app-owner-check-out'},{'name': 'OwnerConfirmationComponent', 'selector': 'app-owner-confirmation'},{'name': 'OwnerDamageReportPage', 'selector': 'app-owner-damage-report'},{'name': 'OwnerDashboardPage', 'selector': 'app-owner-dashboard'},{'name': 'PaymentActionsComponent', 'selector': 'app-payment-actions'},{'name': 'PaymentMethodButtonsComponent', 'selector': 'app-payment-method-buttons'},{'name': 'PaymentMethodComparisonModalComponent', 'selector': 'app-payment-method-comparison-modal'},{'name': 'PaymentMethodSelectorComponent', 'selector': 'app-payment-method-selector'},{'name': 'PaymentModeAlertComponent', 'selector': 'app-payment-mode-alert'},{'name': 'PaymentModeToggleComponent', 'selector': 'app-payment-mode-toggle'},{'name': 'PaymentProviderSelectorComponent', 'selector': 'app-payment-provider-selector'},{'name': 'PaymentSummaryPanelComponent', 'selector': 'app-payment-summary-panel'},{'name': 'PayoutHistoryComponent', 'selector': 'app-payout-history'},{'name': 'PayoutsHistoryComponent', 'selector': 'app-payouts-history'},{'name': 'PayoutsPage', 'selector': 'app-payouts-page'},{'name': 'PayoutStatsComponent', 'selector': 'app-payout-stats'},{'name': 'PayoutsWidgetComponent', 'selector': 'app-payouts-widget'},{'name': 'PayPalButtonComponent', 'selector': 'app-paypal-button'},{'name': 'PendingApprovalPage', 'selector': 'app-pending-approval'},{'name': 'PendingReviewsBannerComponent', 'selector': 'app-pending-reviews-banner'},{'name': 'PendingReviewsListComponent', 'selector': 'app-pending-reviews-list'},{'name': 'PendingReviewsPage', 'selector': 'app-pending-reviews'},{'name': 'PeriodClosuresPage', 'selector': 'app-period-closures'},{'name': 'PersonalizedDashboardComponent', 'selector': 'app-personalized-dashboard'},{'name': 'PersonalizedLocationComponent', 'selector': 'app-personalized-location'},{'name': 'PhoneVerificationComponent', 'selector': 'app-phone-verification'},{'name': 'PickupLocationSelectorComponent', 'selector': 'app-pickup-location-selector'},{'name': 'PremiumFeatureComponent', 'selector': 'app-premium-feature'},{'name': 'ProfessionalDateInputComponent', 'selector': 'app-professional-date-input'},{'name': 'ProfileContactPage', 'selector': 'app-profile-contact'},{'name': 'ProfileContactSectionComponent', 'selector': 'app-profile-contact-section'},{'name': 'ProfileExpandedPage', 'selector': 'app-profile-expanded-page'},{'name': 'ProfileHeaderComponent', 'selector': 'app-profile-header'},{'name': 'ProfileIdentitySectionComponent', 'selector': 'app-profile-identity-section'},{'name': 'ProfileKpisComponent', 'selector': 'app-profile-kpis'},{'name': 'ProfilePage', 'selector': 'app-profile-page'},{'name': 'ProfilePreferencesPage', 'selector': 'app-profile-preferences'},{'name': 'ProfileSecurityPage', 'selector': 'app-profile-security'},{'name': 'ProfileVerificationPage', 'selector': 'app-profile-verification'},{'name': 'ProfileWizardComponent', 'selector': 'app-profile-wizard'},{'name': 'PromoCodeInputComponent', 'selector': 'app-promo-code-input'},{'name': 'ProtectionCreditCardComponent', 'selector': 'app-protection-credit-card'},{'name': 'ProtectionCreditExplanationModalComponent', 'selector': 'app-protection-credit-explanation-modal'},{'name': 'ProtectionsPage', 'selector': 'app-protections-page'},{'name': 'ProvisionsPage', 'selector': 'app-provisions'},{'name': 'PublicProfilePage', 'selector': 'app-public-profile'},{'name': 'PublishCarV2Page', 'selector': 'app-publish-car-v2'},{'name': 'PullToRefreshComponent', 'selector': 'app-pull-to-refresh'},{'name': 'PwaCapabilitiesComponent', 'selector': 'app-pwa-capabilities'},{'name': 'PwaInstallBannerComponent', 'selector': 'app-pwa-install-banner'},{'name': 'PwaInstallPromptComponent', 'selector': 'app-pwa-install-prompt'},{'name': 'PwaTitlebarComponent', 'selector': 'app-pwa-titlebar'},{'name': 'PwaUpdatePromptComponent', 'selector': 'app-pwa-update-prompt'},{'name': 'QuickBookingModalComponent', 'selector': 'app-quick-booking-modal'},{'name': 'QuickBookPage', 'selector': 'app-quick-book-page'},{'name': 'ReconciliationPage', 'selector': 'app-reconciliation'},{'name': 'ReembolsabilityBadgeComponent', 'selector': 'app-reembolsability-badge'},{'name': 'ReferralLandingPage', 'selector': 'app-referral-landing'},{'name': 'ReferralsPage', 'selector': 'app-referrals'},{'name': 'RefundRequestComponent', 'selector': 'app-refund-request'},{'name': 'RefundStatusComponent', 'selector': 'app-refund-status'},{'name': 'RegisterPage', 'selector': 'app-register-page'},{'name': 'RenterConfirmationComponent', 'selector': 'app-renter-confirmation'},{'name': 'ReportClaimPage', 'selector': 'app-report-claim'},{'name': 'RequestPayoutModalComponent', 'selector': 'app-request-payout-modal'},{'name': 'ResetPasswordPage', 'selector': 'app-reset-password-page'},{'name': 'ResponsiveFeatureComponent', 'selector': 'app-responsive-feature'},{'name': 'RevenueRecognitionPage', 'selector': 'app-revenue-recognition'},{'name': 'ReviewCardComponent', 'selector': 'app-review-card'},{'name': 'ReviewFormComponent', 'selector': 'app-review-form'},{'name': 'ReviewManagementComponent', 'selector': 'app-review-management'},{'name': 'ReviewRadarChartComponent', 'selector': 'app-review-radar-chart'},{'name': 'ReviewsPage', 'selector': 'app-reviews-page'},{'name': 'ReviewSummaryComponent', 'selector': 'app-review-summary'},{'name': 'RiskCalculatorViewerComponent', 'selector': 'app-risk-calculator-viewer'},{'name': 'RiskPolicyTableComponent', 'selector': 'app-risk-policy-table'},{'name': 'SectionCardComponent', 'selector': 'app-section-card'},{'name': 'SelfieCaptureComponent', 'selector': 'app-selfie-capture'},{'name': 'SettlementSimulatorComponent', 'selector': 'app-settlement-simulator'},{'name': 'ShareButtonComponent', 'selector': 'app-share-button'},{'name': 'ShareMenuComponent', 'selector': 'app-share-menu'},{'name': 'SimpleCheckoutComponent', 'selector': 'app-simple-checkout'},{'name': 'SkeletonComponent', 'selector': 'app-skeleton'},{'name': 'SkeletonLoaderComponent', 'selector': 'app-skeleton-loader'},{'name': 'SmartOnboardingComponent', 'selector': 'app-smart-onboarding'},{'name': 'SplashComponent', 'selector': 'app-splash'},{'name': 'SplashLoaderComponent', 'selector': 'app-splash-loader'},{'name': 'StatisticsWidgetComponent', 'selector': 'app-statistics-widget'},{'name': 'StatsPage', 'selector': 'app-stats-page'},{'name': 'StatsStripComponent', 'selector': 'app-stats-strip'},{'name': 'StepperModalComponent', 'selector': 'app-stepper-modal'},{'name': 'StickyCtaMobileComponent', 'selector': 'app-sticky-cta-mobile'},{'name': 'StockPhotosSelectorComponent', 'selector': 'app-stock-photos-selector'},{'name': 'TermsAndConsentsComponent', 'selector': 'app-terms-and-consents'},{'name': 'TermsPage', 'selector': 'app-terms'},{'name': 'ThreeCanvasComponent', 'selector': 'app-three-canvas'},{'name': 'ToastComponent', 'selector': 'app-toast'},{'name': 'TooltipComponent', 'selector': 'app-tooltip'},{'name': 'TourStatusComponent', 'selector': 'app-tour-status'},{'name': 'TransactionHistoryComponent', 'selector': 'app-transaction-history'},{'name': 'TransferFundsComponent', 'selector': 'app-transfer-funds'},{'name': 'UploadImageComponent', 'selector': 'app-upload-image'},{'name': 'UrgencyBannerComponent', 'selector': 'app-urgency-banner'},{'name': 'UrgentBookingPage', 'selector': 'app-urgent-booking'},{'name': 'UrgentRentalBannerComponent', 'selector': 'app-urgent-rental-banner'},{'name': 'UserBadgesComponent', 'selector': 'app-user-badges'},{'name': 'UtilityBarComponent', 'selector': 'app-utility-bar'},{'name': 'VehicleDocumentsPage', 'selector': 'app-vehicle-documents'},{'name': 'VerificationBadgeComponent', 'selector': 'app-verification-badge'},{'name': 'VerificationBlockingModalComponent', 'selector': 'app-verification-blocking-modal'},{'name': 'VerificationPage', 'selector': 'app-verification'},{'name': 'VerificationProgressComponent', 'selector': 'app-verification-progress'},{'name': 'VerificationPromptBannerComponent', 'selector': 'app-verification-prompt-banner'},{'name': 'WaitlistCountComponent', 'selector': 'app-waitlist-count'},{'name': 'WaitlistPage', 'selector': 'app-waitlist-page'},{'name': 'WalletAccountNumberCardComponent', 'selector': 'app-wallet-account-number-card'},{'name': 'WalletBalanceCardComponent', 'selector': 'app-wallet-balance-card'},{'name': 'WalletFaqComponent', 'selector': 'app-wallet-faq'},{'name': 'WalletPage', 'selector': 'app-wallet'},{'name': 'WalletTransfersComponent', 'selector': 'app-wallet-transfers'},{'name': 'WaterfallSimulatorComponent', 'selector': 'app-waterfall-simulator'},{'name': 'WazeLiveMapComponent', 'selector': 'app-waze-live-map'},{'name': 'WithdrawalHistoryComponent', 'selector': 'app-withdrawal-history'},{'name': 'WithdrawalRequestFormComponent', 'selector': 'app-withdrawal-request-form'},{'name': 'WithdrawalsAdminPage', 'selector': 'app-withdrawals-admin'},{'name': 'WizardComponent', 'selector': 'app-wizard'},{'name': 'WizardStepComponent', 'selector': 'app-wizard-step'}];
    var DIRECTIVES = [{'name': 'AutoAltDirective', 'selector': 'img[appAutoAlt]'},{'name': 'ClickOutsideDirective', 'selector': '[appClickOutside]'},{'name': 'EscapeKeyDirective', 'selector': '[appEscapeKey]'},{'name': 'FeatureFlagDirective', 'selector': '[appFeatureFlag]'},{'name': 'FocusTrapDirective', 'selector': '[appFocusTrap]'},{'name': 'FocusTrapDirective', 'selector': '[appFocusTrap]'},{'name': 'FormErrorAriaDirective', 'selector': 'input[appFormErrorAria], textarea[appFormErrorAria], select[appFormErrorAria]'},{'name': 'ResponsiveImageDirective', 'selector': 'img[appResponsiveImage]'}];
    var ACTUAL_COMPONENT = {'name': 'BookingDetailPage'};
</script>
<script src="../js/tree.js"></script>

















                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'BookingDetailPage.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
