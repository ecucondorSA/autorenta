# Cloudflare Pages - _redirects
# https://developers.cloudflare.com/pages/platform/redirects
# Este archivo se copia autom√°ticamente al build y se sobrescribe por create-cloudflare-config.js

# App download redirects (short URLs for social media)
/app      https://play.google.com/apps/test/app.autorentar/70    302
/android  https://play.google.com/apps/test/app.autorentar/70    302
/descarga https://play.google.com/apps/test/app.autorentar/70    302

# Fix broken relative asset loads when entering the SPA from a nested route.
#
# Cloudflare can emit `Link: <chunk-XYZ.js>; rel=modulepreload` headers based on the HTML.
# When the browser resolves that relative URL under `/cars/publish`, it requests `/cars/chunk-XYZ.js`.
# Those files only exist at the site root, so without this redirect Cloudflare would serve the SPA
# fallback HTML (text/html) and Chrome will throw strict MIME errors for module scripts.
#
# NOTE: Cloudflare redirects support only 301/302/303/307/308 and 200 rewrites.
# We keep this as a redirect to the canonical root asset.
/:section/chunk-* /chunk-:splat 302
/:section/main-* /main-:splat 302
/:section/polyfills-* /polyfills-:splat 302
/:section/styles-* /styles-:splat 302

/:a/:b/chunk-* /chunk-:splat 302
/:a/:b/main-* /main-:splat 302
/:a/:b/polyfills-* /polyfills-:splat 302
/:a/:b/styles-* /styles-:splat 302

# Redirect all requests to index.html for Angular SPA routing
# IMPORTANTE: Esto permite que Angular maneje todas las rutas, incluyendo /auth/callback
/*    /index.html   200
