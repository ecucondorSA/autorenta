<section
  class="mx-auto max-w-3xl space-y-6 rounded-xl border border-slate-200 bg-white p-8 shadow-sm dark:border-slate-deep dark:bg-anthracite/80 dark:shadow-card transition-colors"
>
  <header>
    <h1 class="text-2xl font-semibold text-slate-900 dark:text-ivory-luminous">Publicar un auto</h1>
    <p class="mt-2 text-sm text-slate-600 dark:text-pearl-light/80">
      Completá los datos básicos. Nuestro equipo revisará la publicación antes de activarla.
    </p>
  </header>

  <form class="grid gap-4" (submit)="$event.preventDefault(); submit()">
    <label class="text-sm font-medium text-slate-700 dark:text-pearl-light">
      Título
      <input
        type="text"
        required
        class="mt-1 w-full rounded border border-slate-300 px-3 py-2 text-sm text-slate-900 placeholder-slate-400 focus:border-blue-500 focus:outline-none focus:ring focus:ring-blue-200 dark:border-slate-deep/80 dark:bg-slate-deep/70 dark:text-pearl-light dark:placeholder-pearl-light/40 dark:focus:border-accent-petrol dark:focus:ring-accent-petrol/30"
        [value]="title()"
        (input)="title.set($any($event.target).value)"
      />
    </label>

    <label class="text-sm font-medium text-slate-700 dark:text-pearl-light">
      Descripción
      <textarea
        rows="4"
        required
        class="mt-1 w-full rounded border border-slate-300 px-3 py-2 text-sm text-slate-900 placeholder-slate-400 focus:border-blue-500 focus:outline-none focus:ring focus:ring-blue-200 dark:border-slate-deep/80 dark:bg-slate-deep/70 dark:text-pearl-light dark:placeholder-pearl-light/40 dark:focus:border-accent-petrol dark:focus:ring-accent-petrol/30"
        [value]="description()"
        (input)="description.set($any($event.target).value)"
      ></textarea>
    </label>

    <div class="grid gap-4 sm:grid-cols-2">
      <label class="text-sm font-medium text-slate-700 dark:text-pearl-light">
        Ciudad
        <input
          type="text"
          required
          class="mt-1 w-full rounded border border-slate-300 px-3 py-2 text-sm text-slate-900 placeholder-slate-400 focus:border-blue-500 focus:outline-none focus:ring focus:ring-blue-200 dark:border-slate-deep/80 dark:bg-slate-deep/70 dark:text-pearl-light dark:placeholder-pearl-light/40 dark:focus:border-accent-petrol dark:focus:ring-accent-petrol/30"
          [value]="city()"
          (input)="city.set($any($event.target).value)"
        />
      </label>
      <label class="text-sm font-medium text-slate-700 dark:text-pearl-light">
        Provincia
        <input
          type="text"
          required
          class="mt-1 w-full rounded border border-slate-300 px-3 py-2 text-sm text-slate-900 placeholder-slate-400 focus:border-blue-500 focus:outline-none focus:ring focus:ring-blue-200 dark:border-slate-deep/80 dark:bg-slate-deep/70 dark:text-pearl-light dark:placeholder-pearl-light/40 dark:focus:border-accent-petrol dark:focus:ring-accent-petrol/30"
          [value]="state()"
          (input)="state.set($any($event.target).value)"
        />
      </label>
    </div>

    <div class="grid gap-4 sm:grid-cols-3">
      <label class="text-sm font-medium text-slate-700 dark:text-pearl-light">
        Precio por día (ARS)
        <input
          type="number"
          min="0"
          required
          class="mt-1 w-full rounded border border-slate-300 px-3 py-2 text-sm text-slate-900 placeholder-slate-400 focus:border-blue-500 focus:outline-none focus:ring focus:ring-blue-200 dark:border-slate-deep/80 dark:bg-slate-deep/70 dark:text-pearl-light dark:placeholder-pearl-light/40 dark:focus:border-accent-petrol dark:focus:ring-accent-petrol/30"
          [value]="price()"
          (input)="price.set(+$any($event.target).value)"
        />
      </label>
      <label class="text-sm font-medium text-slate-700 dark:text-pearl-light">
        Asientos
        <input
          type="number"
          min="1"
          max="9"
          required
          class="mt-1 w-full rounded border border-slate-300 px-3 py-2 text-sm text-slate-900 placeholder-slate-400 focus:border-blue-500 focus:outline-none focus:ring focus:ring-blue-200 dark:border-slate-deep/80 dark:bg-slate-deep/70 dark:text-pearl-light dark:placeholder-pearl-light/40 dark:focus:border-accent-petrol dark:focus:ring-accent-petrol/30"
          [value]="seats()"
          (input)="seats.set(+$any($event.target).value)"
        />
      </label>
      <label class="text-sm font-medium text-slate-700 dark:text-pearl-light">
        Transmisión
        <select
          class="mt-1 w-full rounded border border-slate-300 px-3 py-2 text-sm text-slate-900 focus:border-blue-500 focus:outline-none focus:ring focus:ring-blue-200 dark:border-slate-deep/80 dark:bg-slate-deep/70 dark:text-pearl-light dark:focus:border-accent-petrol dark:focus:ring-accent-petrol/30"
          [value]="transmission()"
          (change)="transmission.set($any($event.target).value)"
        >
          <option value="manual">Manual</option>
          <option value="automatic">Automática</option>
        </select>
      </label>
    </div>

    <app-upload-image (filesSelected)="onFilesSelected($event)"></app-upload-image>

    <button
      type="submit"
      class="w-full rounded bg-blue-600 px-4 py-2 text-sm font-semibold text-white hover:bg-blue-700 disabled:cursor-not-allowed disabled:bg-blue-300 dark:bg-accent-petrol dark:hover:bg-accent-petrol/90 dark:disabled:bg-slate-deep/60"
      [disabled]="loading()"
    >
      {{ loading() ? 'Guardando...' : 'Enviar publicación' }}
    </button>

    <p *ngIf="message()" class="text-sm text-blue-600 dark:text-accent-petrol/80">{{ message() }}</p>
  </form>
</section>
