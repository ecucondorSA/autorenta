<section class="mx-auto max-w-4xl space-y-6 pb-12">
  <header class="space-y-2">
    <h1 class="text-3xl font-bold text-text-primary dark:text-text-primary">Public치 tu auto</h1>
    <p class="text-sm text-text-secondary dark:text-text-secondary/80">
      Complet치 la informaci칩n en secciones. El equipo de AutorentA revisar치 y aprobar치 tu
      publicaci칩n.
    </p>
  </header>

  <form class="space-y-6" [formGroup]="form" (ngSubmit)="submit()">
    <!-- Secci칩n 1: Informaci칩n B치sica -->
    <section
      class="rounded-xl border border-border-default/70 dark:border-slate-deep bg-surface-raised dark:bg-surface-raised p-6 shadow-soft dark:shadow-card transition-colors duration-300"
    >
      <h2 class="mb-4 text-xl font-semibold text-text-primary dark:text-text-primary">
        游닇 Informaci칩n B치sica
      </h2>
      <div class="grid gap-4 md:grid-cols-2">
        <label
          class="flex flex-col gap-2 text-sm font-medium text-text-secondary dark:text-text-secondary"
        >
          T칤tulo del anuncio
          <input
            class="rounded-lg border border-border-default dark:border-slate-deep bg-surface-raised dark:bg-surface-base px-3 py-2 text-text-primary dark:text-text-primary placeholder:text-text-muted dark:placeholder:text-neutral-500 focus:border-cta-default dark:focus:border-cta-default/60 focus:outline-none focus:ring-2 focus:ring-cta-default/20 dark:focus:ring-cta-default/30 transition-colors duration-200"
            formControlName="title"
            placeholder="Ej: Toyota Corolla 2023 - Impecable, bajo kilometraje"
          />
          <span class="text-xs text-text-muted dark:text-neutral-400"
            >M칤nimo 10 caracteres, describe tu auto</span
          >
        </label>

        <label
          class="flex flex-col gap-2 text-sm font-medium text-text-secondary dark:text-text-secondary md:col-span-2"
        >
          Descripci칩n
          <textarea
            class="min-h-[100px] rounded-lg border border-border-default dark:border-slate-deep bg-surface-raised dark:bg-surface-base px-3 py-2 text-text-primary dark:text-text-primary placeholder:text-text-muted dark:placeholder:text-neutral-500 focus:border-cta-default dark:focus:border-cta-default/60 focus:outline-none focus:ring-2 focus:ring-cta-default/20 dark:focus:ring-cta-default/30 transition-colors duration-200"
            formControlName="description"
            placeholder="Describe el estado del auto, mantenimiento, accesorios incluidos, condiciones de entrega, etc."
          ></textarea>
          <span class="text-xs text-text-muted dark:text-neutral-400">M칤nimo 30 caracteres</span>
        </label>
      </div>
    </section>

    <!-- Secci칩n 2: Marca y Modelo -->
    <section
      class="rounded-xl border border-border-default/70 dark:border-slate-deep bg-surface-raised dark:bg-surface-raised p-6 shadow-soft dark:shadow-card transition-colors duration-300"
    >
      <h2 class="mb-4 text-xl font-semibold text-text-primary dark:text-text-primary">
        游뚱 Marca y Modelo
      </h2>
      <div class="grid gap-4 md:grid-cols-3">
        <label
          class="flex flex-col gap-2 text-sm font-medium text-text-secondary dark:text-text-secondary"
        >
          Marca
          <select
            class="rounded-lg border border-border-default dark:border-slate-deep bg-surface-raised dark:bg-surface-base px-3 py-2 text-text-primary dark:text-text-primary focus:border-cta-default dark:focus:border-cta-default/60 focus:outline-none focus:ring-2 focus:ring-cta-default/20 dark:focus:ring-cta-default/30 transition-colors duration-200"
            formControlName="brand_id"
            [disabled]="loadingBrands()"
          >
            <option value="">Selecciona una marca</option>
            <option *ngFor="let brand of brands()" [value]="brand.id">{{ brand.name }}</option>
          </select>
        </label>

        <label
          class="flex flex-col gap-2 text-sm font-medium text-text-secondary dark:text-text-secondary"
        >
          Modelo
          <select
            class="rounded-lg border border-border-default dark:border-slate-deep bg-surface-raised dark:bg-surface-base px-3 py-2 text-text-primary dark:text-text-primary focus:border-cta-default dark:focus:border-cta-default/60 focus:outline-none focus:ring-2 focus:ring-cta-default/20 dark:focus:ring-cta-default/30 transition-colors duration-200"
            formControlName="model_id"
            [disabled]="!form.get('brand_id')?.value || loadingModels()"
          >
            <option value="">Selecciona un modelo</option>
            <option *ngFor="let model of models()" [value]="model.id">
              {{ model.name }}
              <span class="text-xs text-text-muted dark:text-neutral-400"
                >({{ model.category }})</span
              >
            </option>
          </select>
        </label>

        <label
          class="flex flex-col gap-2 text-sm font-medium text-text-secondary dark:text-text-secondary"
        >
          A침o
          <input
            class="rounded-lg border border-border-default dark:border-slate-deep bg-surface-raised dark:bg-surface-base px-3 py-2 text-text-primary dark:text-text-primary focus:border-cta-default dark:focus:border-cta-default/60 focus:outline-none focus:ring-2 focus:ring-cta-default/20 dark:focus:ring-cta-default/30 transition-colors duration-200"
            type="number"
            formControlName="year"
            min="2000"
            [max]="maxYear"
          />
        </label>
      </div>
    </section>

    <!-- Secci칩n 3: Especificaciones T칠cnicas -->
    <section
      class="rounded-xl border border-border-default/70 dark:border-slate-deep bg-surface-raised dark:bg-surface-raised p-6 shadow-soft dark:shadow-card transition-colors duration-300"
    >
      <h2 class="mb-4 text-xl font-semibold text-text-primary dark:text-text-primary">
        丘뙖잺 Especificaciones
      </h2>
      <div class="grid gap-4 md:grid-cols-4">
        <label
          class="flex flex-col gap-2 text-sm font-medium text-text-secondary dark:text-text-secondary"
        >
          Asientos
          <input
            class="rounded-lg border border-border-default dark:border-slate-deep bg-surface-raised dark:bg-surface-base px-3 py-2 text-text-primary dark:text-text-primary focus:border-cta-default dark:focus:border-cta-default/60 focus:outline-none focus:ring-2 focus:ring-cta-default/20 dark:focus:ring-cta-default/30 transition-colors duration-200"
            type="number"
            formControlName="seats"
            min="2"
            max="9"
          />
        </label>

        <label
          class="flex flex-col gap-2 text-sm font-medium text-text-secondary dark:text-text-secondary"
        >
          Puertas
          <input
            class="rounded-lg border border-border-default dark:border-slate-deep bg-surface-raised dark:bg-surface-base px-3 py-2 text-text-primary dark:text-text-primary focus:border-cta-default dark:focus:border-cta-default/60 focus:outline-none focus:ring-2 focus:ring-cta-default/20 dark:focus:ring-cta-default/30 transition-colors duration-200"
            type="number"
            formControlName="doors"
            min="2"
            max="6"
          />
        </label>

        <label
          class="flex flex-col gap-2 text-sm font-medium text-text-secondary dark:text-text-secondary"
        >
          Transmisi칩n
          <select
            class="rounded-lg border border-border-default dark:border-slate-deep bg-surface-raised dark:bg-surface-base px-3 py-2 text-text-primary dark:text-text-primary focus:border-cta-default dark:focus:border-cta-default/60 focus:outline-none focus:ring-2 focus:ring-cta-default/20 dark:focus:ring-cta-default/30 transition-colors duration-200"
            formControlName="transmission"
          >
            <option value="automatic">Autom치tica</option>
            <option value="manual">Manual</option>
          </select>
        </label>

        <label
          class="flex flex-col gap-2 text-sm font-medium text-text-secondary dark:text-text-secondary"
        >
          Combustible
          <select
            class="rounded-lg border border-border-default dark:border-slate-deep bg-surface-raised dark:bg-surface-base px-3 py-2 text-text-primary dark:text-text-primary focus:border-cta-default dark:focus:border-cta-default/60 focus:outline-none focus:ring-2 focus:ring-cta-default/20 dark:focus:ring-cta-default/30 transition-colors duration-200"
            formControlName="fuel_type"
          >
            <option value="nafta">Nafta</option>
            <option value="gasoil">Di칠sel</option>
            <option value="hibrido">H칤brido</option>
            <option value="electrico">El칠ctrico</option>
          </select>
        </label>

        <label
          class="flex flex-col gap-2 text-sm font-medium text-text-secondary dark:text-text-secondary md:col-span-2"
        >
          Kilometraje
          <input
            class="rounded-lg border border-border-default dark:border-slate-deep bg-surface-raised dark:bg-surface-base px-3 py-2 text-text-primary dark:text-text-primary placeholder:text-text-muted dark:placeholder:text-neutral-500 focus:border-cta-default dark:focus:border-cta-default/60 focus:outline-none focus:ring-2 focus:ring-cta-default/20 dark:focus:ring-cta-default/30 transition-colors duration-200"
            type="number"
            formControlName="mileage"
            placeholder="0"
          />
          <span class="text-xs text-text-muted dark:text-neutral-400"
            >Kilometraje actual del veh칤culo</span
          >
        </label>
      </div>
    </section>

    <!-- Secci칩n 4: Precio y Condiciones -->
    <section
      id="pricing-section"
      class="rounded-xl border border-border-default/70 dark:border-slate-deep bg-surface-raised dark:bg-surface-raised p-6 shadow-soft dark:shadow-card transition-colors duration-300"
    >
      <h2 class="mb-4 text-xl font-semibold text-text-primary dark:text-text-primary">
        游눳 Precio y Condiciones
      </h2>
      <div class="grid gap-4 md:grid-cols-3">
        <label
          class="flex flex-col gap-2 text-sm font-medium text-text-secondary dark:text-text-secondary"
        >
          Precio por d칤a (USD)
          <input
            class="rounded-lg border border-border-default dark:border-slate-deep bg-surface-raised dark:bg-surface-base px-3 py-2 text-text-primary dark:text-text-primary placeholder:text-text-muted dark:placeholder:text-neutral-500 focus:border-cta-default dark:focus:border-cta-default/60 focus:outline-none focus:ring-2 focus:ring-cta-default/20 dark:focus:ring-cta-default/30 transition-colors duration-200"
            type="number"
            formControlName="price_per_day"
            min="10"
            placeholder="50"
          />
          <span class="text-xs text-text-muted dark:text-neutral-400">Precio diario en d칩lares</span>
        </label>

        <label
          class="flex flex-col gap-2 text-sm font-medium text-text-secondary dark:text-text-secondary md:col-span-2"
        >
          Valor del veh칤culo (USD)
          <div class="flex flex-col gap-2 md:flex-row md:items-center">
            <input
              class="flex-1 rounded-lg border border-border-default dark:border-slate-deep bg-surface-raised dark:bg-surface-base px-3 py-2 text-text-primary dark:text-text-primary placeholder:text-text-muted dark:placeholder:text-neutral-500 focus:border-cta-default dark:focus:border-cta-default/60 focus:outline-none focus:ring-2 focus:ring-cta-default/20 dark:focus:ring-cta-default/30 transition-colors duration-200"
              type="number"
              formControlName="value_usd"
              min="1000"
              placeholder="15000"
            />
            @if (suggestedVehicleValueUsd(); as suggestion) {
              <button
                type="button"
                (click)="applySuggestedVehicleValue()"
                class="inline-flex items-center justify-center rounded-lg border border-cta-default/40 px-3 py-2 text-xs font-semibold text-cta-default transition-colors duration-200 hover:bg-cta-default/10"
              >
                Usar sugerido
              </button>
            }
          </div>
          <span class="text-xs text-text-muted dark:text-neutral-400">
            @if (suggestedVehicleValueUsd(); as suggestion) {
              Valor sugerido: {{ suggestion | number: '1.0-0' }} USD (precio diario 칑
              {{ valuationAverageDays }} d칤as)
            } @else {
              Indic치 el valor estimado del veh칤culo en d칩lares
            }
          </span>
        </label>

        <label
          class="flex flex-col gap-2 text-sm font-medium text-text-secondary dark:text-text-secondary"
        >
          M칤nimo de d칤as
          <input
            class="rounded-lg border border-border-default dark:border-slate-deep bg-surface-raised dark:bg-surface-base px-3 py-2 text-text-primary dark:text-text-primary focus:border-cta-default dark:focus:border-cta-default/60 focus:outline-none focus:ring-2 focus:ring-cta-default/20 dark:focus:ring-cta-default/30 transition-colors duration-200"
            type="number"
            formControlName="min_rental_days"
            min="1"
          />
          <span class="text-xs text-text-muted dark:text-neutral-400">M칤nimo d칤as de alquiler</span>
        </label>

        <label
          class="flex flex-col gap-2 text-sm font-medium text-text-secondary dark:text-text-secondary"
        >
          M치ximo de d칤as
          <input
            class="rounded-lg border border-border-default dark:border-slate-deep bg-surface-raised dark:bg-surface-base px-3 py-2 text-text-primary dark:text-text-primary placeholder:text-text-muted dark:placeholder:text-neutral-500 focus:border-cta-default dark:focus:border-cta-default/60 focus:outline-none focus:ring-2 focus:ring-cta-default/20 dark:focus:ring-cta-default/30 transition-colors duration-200"
            type="number"
            formControlName="max_rental_days"
            min="1"
            placeholder="30"
          />
          <span class="text-xs text-text-muted dark:text-neutral-400">M치ximo d칤as de alquiler</span>
        </label>

        <div class="md:col-span-3">
          <label class="flex items-center gap-2 cursor-pointer">
            <input
              type="checkbox"
              formControlName="deposit_required"
              class="h-4 w-4 rounded border-border-default dark:border-slate-deep text-cta-default focus:ring-2 focus:ring-cta-default/30 dark:focus:ring-cta-default/40"
            />
            <span class="text-sm font-medium text-text-secondary dark:text-text-secondary"
              >Requiere dep칩sito de garant칤a?</span
            >
          </label>
        </div>

        <label
          *ngIf="form.get('deposit_required')?.value"
          class="flex flex-col gap-2 text-sm font-medium text-text-secondary dark:text-text-secondary md:col-span-2"
        >
          Monto del dep칩sito (USD)
          <input
            class="rounded-lg border border-border-default dark:border-slate-deep bg-surface-raised dark:bg-surface-base px-3 py-2 text-text-primary dark:text-text-primary placeholder:text-text-muted dark:placeholder:text-neutral-500 focus:border-cta-default dark:focus:border-cta-default/60 focus:outline-none focus:ring-2 focus:ring-cta-default/20 dark:focus:ring-cta-default/30 transition-colors duration-200"
            type="number"
            formControlName="deposit_amount"
            min="50"
            placeholder="200"
          />
          <span class="text-xs text-text-muted dark:text-neutral-400"
            >Monto m칤nimo recomendado: $200 USD</span
          >
        </label>

        <div id="insurance-selector" class="md:col-span-3">
          <label class="flex items-center gap-2 cursor-pointer">
            <input
              type="checkbox"
              formControlName="insurance_included"
              class="h-4 w-4 rounded border-border-default dark:border-slate-deep text-cta-default focus:ring-2 focus:ring-cta-default/30 dark:focus:ring-cta-default/40"
            />
            <span class="text-sm font-medium text-text-secondary dark:text-text-secondary"
              >El seguro est치 incluido en el precio</span
            >
          </label>
        </div>
      </div>

      <!-- Formas de pago -->
      <div class="mt-6 border-t border-border-default/70 dark:border-slate-deep pt-6">
        <h3 class="mb-3 text-sm font-semibold text-text-primary dark:text-text-primary">
          Formas de pago aceptadas
        </h3>
        <div class="grid gap-3 md:grid-cols-3">
          <label class="flex items-center gap-2 cursor-pointer">
            <input
              type="checkbox"
              [checked]="form.get('payment_methods')?.value?.includes('cash')"
              (change)="togglePaymentMethod('cash')"
              class="h-4 w-4 rounded border-border-default dark:border-slate-deep text-cta-default focus:ring-2 focus:ring-cta-default/30 dark:focus:ring-cta-default/40"
            />
            <span class="text-sm text-text-secondary dark:text-text-secondary">Efectivo</span>
          </label>
          <label class="flex items-center gap-2 cursor-pointer">
            <input
              type="checkbox"
              [checked]="form.get('payment_methods')?.value?.includes('transfer')"
              (change)="togglePaymentMethod('transfer')"
              class="h-4 w-4 rounded border-border-default dark:border-slate-deep text-cta-default focus:ring-2 focus:ring-cta-default/30 dark:focus:ring-cta-default/40"
            />
            <span class="text-sm text-text-secondary dark:text-text-secondary">Transferencia</span>
          </label>
          <label class="flex items-center gap-2 cursor-pointer">
            <input
              type="checkbox"
              [checked]="form.get('payment_methods')?.value?.includes('card')"
              (change)="togglePaymentMethod('card')"
              class="h-4 w-4 rounded border-border-default dark:border-slate-deep text-cta-default focus:ring-2 focus:ring-cta-default/30 dark:focus:ring-cta-default/40"
            />
            <span class="text-sm text-text-secondary dark:text-text-secondary">Tarjeta</span>
          </label>
        </div>
      </div>

      <!-- Opciones de entrega -->
      <div class="mt-6 border-t border-border-default/70 dark:border-slate-deep pt-6">
        <h3 class="mb-3 text-sm font-semibold text-text-primary dark:text-text-primary">
          Opciones de entrega
        </h3>
        <div class="grid gap-3 md:grid-cols-2">
          <label class="flex items-center gap-2 cursor-pointer">
            <input
              type="checkbox"
              [checked]="form.get('delivery_options')?.value?.includes('pickup')"
              (change)="toggleDeliveryOption('pickup')"
              class="h-4 w-4 rounded border-border-default dark:border-slate-deep text-cta-default focus:ring-2 focus:ring-cta-default/30 dark:focus:ring-cta-default/40"
            />
            <span class="text-sm text-text-secondary dark:text-text-secondary"
              >Retiro en ubicaci칩n</span
            >
          </label>
          <label class="flex items-center gap-2 cursor-pointer">
            <input
              type="checkbox"
              [checked]="form.get('delivery_options')?.value?.includes('delivery')"
              (change)="toggleDeliveryOption('delivery')"
              class="h-4 w-4 rounded border-border-default dark:border-slate-deep text-cta-default focus:ring-2 focus:ring-cta-default/30 dark:focus:ring-cta-default/40"
            />
            <span class="text-sm text-text-secondary dark:text-text-secondary"
              >Entrega a domicilio (costo adicional)</span
            >
          </label>
        </div>
      </div>
    </section>

    <!-- Secci칩n 5: Ubicaci칩n -->
    <section
      class="rounded-xl border border-border-default/70 dark:border-slate-deep bg-surface-raised dark:bg-surface-raised p-6 shadow-soft dark:shadow-card transition-colors duration-300"
    >
      <h2 class="mb-4 text-xl font-semibold text-text-primary dark:text-text-primary">
        游늸 Ubicaci칩n
      </h2>
      <p class="mb-4 text-sm text-text-secondary dark:text-text-secondary/80">
        Ingres치 la direcci칩n exacta donde se retirar치 el auto. Las coordenadas se calcular치n
        autom치ticamente.
      </p>

      <div class="grid gap-4">
        <!-- Direcci칩n -->
        <div class="grid gap-4 md:grid-cols-3">
          <label
            class="flex flex-col gap-2 text-sm font-medium text-text-secondary dark:text-text-secondary md:col-span-2"
          >
            Calle
            <input
              class="rounded-lg border border-border-default dark:border-slate-deep bg-surface-raised dark:bg-surface-base px-3 py-2 text-text-primary dark:text-text-primary placeholder:text-text-muted dark:placeholder:text-neutral-500 focus:border-cta-default dark:focus:border-cta-default/60 focus:outline-none focus:ring-2 focus:ring-cta-default/20 dark:focus:ring-cta-default/30 transition-colors duration-200"
              formControlName="location_street"
              placeholder="Av. 18 de Julio"
            />
          </label>

          <label
            class="flex flex-col gap-2 text-sm font-medium text-text-secondary dark:text-text-secondary"
          >
            N칰mero
            <input
              class="rounded-lg border border-border-default dark:border-slate-deep bg-surface-raised dark:bg-surface-base px-3 py-2 text-text-primary dark:text-text-primary placeholder:text-text-muted dark:placeholder:text-neutral-500 focus:border-cta-default dark:focus:border-cta-default/60 focus:outline-none focus:ring-2 focus:ring-cta-default/20 dark:focus:ring-cta-default/30 transition-colors duration-200"
              formControlName="location_street_number"
              placeholder="1234"
            />
          </label>
        </div>

        <!-- Ciudad y barrio -->
        <div class="grid gap-4 md:grid-cols-3">
          <label
            class="flex flex-col gap-2 text-sm font-medium text-text-secondary dark:text-text-secondary"
          >
            Ciudad
            <input
              class="rounded-lg border border-border-default dark:border-slate-deep bg-surface-raised dark:bg-surface-base px-3 py-2 text-text-primary dark:text-text-primary placeholder:text-text-muted dark:placeholder:text-neutral-500 focus:border-cta-default dark:focus:border-cta-default/60 focus:outline-none focus:ring-2 focus:ring-cta-default/20 dark:focus:ring-cta-default/30 transition-colors duration-200"
              formControlName="location_city"
              placeholder="Montevideo"
            />
          </label>

          <label
            class="flex flex-col gap-2 text-sm font-medium text-text-secondary dark:text-text-secondary"
          >
            Barrio (opcional)
            <input
              class="rounded-lg border border-border-default dark:border-slate-deep bg-surface-raised dark:bg-surface-base px-3 py-2 text-text-primary dark:text-text-primary placeholder:text-text-muted dark:placeholder:text-neutral-500 focus:border-cta-default dark:focus:border-cta-default/60 focus:outline-none focus:ring-2 focus:ring-cta-default/20 dark:focus:ring-cta-default/30 transition-colors duration-200"
              formControlName="location_neighborhood"
              placeholder="Centro, Pocitos, etc."
            />
          </label>

          <label
            class="flex flex-col gap-2 text-sm font-medium text-text-secondary dark:text-text-secondary"
          >
            C칩digo Postal (opcional)
            <input
              class="rounded-lg border border-border-default dark:border-slate-deep bg-surface-raised dark:bg-surface-base px-3 py-2 text-text-primary dark:text-text-primary placeholder:text-text-muted dark:placeholder:text-neutral-500 focus:border-cta-default dark:focus:border-cta-default/60 focus:outline-none focus:ring-2 focus:ring-cta-default/20 dark:focus:ring-cta-default/30 transition-colors duration-200"
              formControlName="location_postal_code"
              placeholder="11100"
            />
          </label>
        </div>

        <!-- Departamento y pa칤s -->
        <div class="grid gap-4 md:grid-cols-2">
          <label
            class="flex flex-col gap-2 text-sm font-medium text-text-secondary dark:text-text-secondary"
          >
            Departamento
            <input
              class="rounded-lg border border-border-default dark:border-slate-deep bg-surface-raised dark:bg-surface-base px-3 py-2 text-text-primary dark:text-text-primary placeholder:text-text-muted dark:placeholder:text-neutral-500 focus:border-cta-default dark:focus:border-cta-default/60 focus:outline-none focus:ring-2 focus:ring-cta-default/20 dark:focus:ring-cta-default/30 transition-colors duration-200"
              formControlName="location_state"
              placeholder="Montevideo"
            />
          </label>

          <label
            class="flex flex-col gap-2 text-sm font-medium text-text-secondary dark:text-text-secondary"
          >
            Pa칤s
            <input
              class="rounded-lg border border-border-default dark:border-slate-deep bg-surface-secondary dark:bg-surface-base/50 px-3 py-2 text-text-primary dark:text-text-primary"
              formControlName="location_country"
              readonly
            />
          </label>
        </div>

        <div
          class="rounded-lg bg-cta-default/10 dark:bg-cta-default/20 border border-cta-default/30 dark:border-cta-default/40 p-3"
        >
          <p class="text-xs text-cta-default dark:text-cta-default/90">
            游눠 <strong>Nota:</strong> La direcci칩n se geocodificar치 autom치ticamente al publicar el
            auto para mostrarlo en el mapa.
          </p>
        </div>
      </div>
    </section>

    <!-- Secci칩n 6: Fotos -->
    <section
      id="photo-uploader"
      class="rounded-xl border border-border-default/70 dark:border-slate-deep bg-surface-raised dark:bg-surface-raised p-6 shadow-soft dark:shadow-card transition-colors duration-300"
    >
      <h2 class="mb-4 text-xl font-semibold text-text-primary dark:text-text-primary">
        游닞 Fotos del Auto
      </h2>
      <app-upload-image (filesSelected)="onFilesSelected($event)"></app-upload-image>
      <p class="mt-3 text-xs text-text-secondary dark:text-text-secondary/80">
        Pod칠s subir m칰ltiples fotos. La primera ser치 la foto principal. Se recomienda fotos de buena
        calidad desde diferentes 치ngulos.
      </p>
    </section>

    <!-- Secci칩n 7: T칠rminos (Opcional) -->
    <section
      class="rounded-xl border border-border-default/70 dark:border-slate-deep bg-surface-raised dark:bg-surface-raised p-6 shadow-soft dark:shadow-card transition-colors duration-300"
    >
      <h2 class="mb-4 text-xl font-semibold text-text-primary dark:text-text-primary">
        游늯 T칠rminos Adicionales (Opcional)
      </h2>
      <label
        class="flex flex-col gap-2 text-sm font-medium text-text-secondary dark:text-text-secondary"
      >
        <textarea
          class="min-h-[100px] rounded-lg border border-border-default dark:border-slate-deep bg-surface-raised dark:bg-surface-base px-3 py-2 text-text-primary dark:text-text-primary placeholder:text-text-muted dark:placeholder:text-neutral-500 focus:border-cta-default dark:focus:border-cta-default/60 focus:outline-none focus:ring-2 focus:ring-cta-default/20 dark:focus:ring-cta-default/30 transition-colors duration-200"
          formControlName="terms_and_conditions"
          placeholder="Ej: No se permite fumar, Se requiere licencia vigente con al menos 2 a침os de antig칲edad, etc."
        ></textarea>
        <span class="text-xs text-text-muted dark:text-neutral-400"
          >Condiciones espec칤ficas o restricciones para el alquiler</span
        >
      </label>
    </section>

    <!-- Bot칩n de env칤o -->
    <div
      class="flex items-center gap-4 rounded-xl border border-border-default/70 dark:border-slate-deep bg-surface-secondary dark:bg-surface-base p-6 transition-colors duration-300"
    >
      <div class="flex-1">
        <p class="text-sm font-medium text-text-primary dark:text-text-primary">
          쯃isto para publicar?
        </p>
        <p class="text-xs text-text-secondary dark:text-text-secondary/80">
          Tu anuncio ser치 revisado por el equipo antes de publicarse.
        </p>
      </div>
      <button
        id="publish-button"
        class="flex items-center justify-center gap-2 rounded-lg bg-cta-default text-cta-text transition hover:bg-cta-default/90 dark:hover:bg-cta-default hover:shadow-medium dark:hover:shadow-card-hover disabled:cursor-not-allowed disabled:bg-ash-gray dark:disabled:bg-neutral-600 disabled:opacity-50"
        type="submit"
        [disabled]="submitting() || form.invalid"
      >
        <span *ngIf="!submitting()">游닋 Enviar para revisi칩n</span>
        <span *ngIf="submitting()" class="flex items-center gap-2">
          <span
            class="inline-block h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"
          ></span>
          Publicando...
        </span>
      </button>
    </div>
  </form>
</section>
