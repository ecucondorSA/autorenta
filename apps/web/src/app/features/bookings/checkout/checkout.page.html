<section
  class="mx-auto max-w-xl space-y-6 rounded-xl border border-slate-200 bg-white p-8 shadow-sm"
>
  <header>
    <h1 class="text-2xl font-semibold text-slate-900">Checkout</h1>
    <p class="text-sm text-slate-600">Simul√° el flujo de pago para confirmar tu reserva.</p>
  </header>

  <div class="space-y-2 text-sm text-slate-600">
    <p><strong>Reserva:</strong> {{ bookingId() }}</p>
    <p><strong>Intento:</strong> {{ intentId() ?? 'N/A' }}</p>
    <p><strong>Estado:</strong> {{ status() }}</p>
    <p *ngIf="booking() as current">
      <strong>Total:</strong> {{ current.total_amount | money: current.currency }}
    </p>
  </div>

  <div class="flex flex-col gap-3">
    <button
      class="rounded bg-blue-600 px-4 py-2 text-sm font-semibold text-white hover:bg-blue-700 disabled:cursor-not-allowed disabled:bg-blue-300"
      (click)="createIntent()"
      [disabled]="loading() || !bookingId()"
    >
      {{ loading() ? 'Procesando...' : 'Generar intento de pago' }}
    </button>

    <button
      class="rounded border border-blue-600 px-4 py-2 text-sm font-semibold text-blue-600 hover:bg-blue-50 disabled:cursor-not-allowed disabled:border-slate-300 disabled:text-slate-400"
      (click)="simulatePayment()"
      [disabled]="loading() || !intentId()"
    >
      Simular pago aprobado
    </button>
  </div>

  <p *ngIf="message()" class="text-sm text-blue-600">{{ message() }}</p>
</section>
