/**
 * PROFILE CONTACT SECTION STYLES
 */

/* Auto-save indicator */
.auto-save-indicator {
  @apply flex items-center gap-3 mb-5 px-5 py-3 rounded-xl
    text-sm font-medium shadow-sm;

  ion-spinner {
    width: 18px;
    height: 18px;
    --color: currentColor;
  }

  ion-icon {
    @apply text-xl;
  }

  /* Saving state */
  &--saving {
    @apply bg-gradient-to-r from-blue-50 to-blue-100/50
      border-l-4 border-blue-500
      text-blue-700;
  }

  /* Saved state */
  &--saved {
    @apply bg-gradient-to-r from-green-50 to-green-100/50
      border-l-4 border-green-500
      text-green-700;
  }
}

/* View Mode */
.contact-view {
  @apply space-y-6;
}

.field-group {
  @apply pb-5 border-b border-border-default/20
    last:border-b-0 last:pb-0
    transition-colors duration-200;

  &:hover {
    @apply border-border-default/30;
  }
}

.field-label {
  @apply block text-xs font-semibold uppercase tracking-wider
    text-text-muted mb-2;
}

.field-value {
  @apply text-base font-medium text-text-primary
    m-0 flex items-center gap-3 leading-relaxed;

  &--multiline {
    @apply items-start;
  }
}

.field-icon {
  @apply text-lg flex-shrink-0 text-text-secondary;

  &.text-success {
    @apply text-green-600;
  }
}

.preserve-newlines {
  @apply whitespace-pre-line;
}

.field-badge {
  @apply ml-2 px-2 py-0.5 rounded text-xs font-medium
    bg-surface-secondary
    text-text-secondary
    flex items-center gap-1;

  ion-icon {
    @apply text-sm;
  }
}

/* Edit Mode - Form */
.contact-form {
  @apply space-y-8;
}

.form-field {
  @apply mb-6;
}

.form-label {
  @apply block text-sm font-semibold text-text-primary mb-3
    flex items-center justify-between tracking-wide;

  .text-error {
    @apply text-red-600 ml-0.5;
  }
}

.form-input,
.form-select {
  @apply w-full px-5 py-3.5 rounded-xl
    bg-surface-base
    border-2 border-border-default/30
    text-text-primary text-base
    placeholder:text-text-muted/60
    shadow-sm
    transition-all duration-200
    focus:outline-none focus:ring-2 focus:ring-cta-default/20
    focus:border-cta-default
    focus:shadow-md;

  &:hover {
    @apply border-border-default/50
      shadow-md;
  }

  &:disabled,
  &--disabled {
    @apply opacity-50 cursor-not-allowed bg-surface-secondary/50;
  }

  &--error {
    @apply border-red-500
      focus:ring-red-500/20
      focus:border-red-500;
  }

  &--with-prefix {
    @apply pl-20;
  }
}

.form-select {
  @apply cursor-pointer;
}

/* Input with prefix (phone number) */
.input-with-prefix {
  @apply relative;
}

.input-prefix {
  @apply absolute left-4 top-1/2 -translate-y-1/2
    text-sm font-medium text-text-secondary
    pointer-events-none;
}

/* Checkbox */
.form-checkbox {
  @apply flex items-center gap-2;

  input[type='checkbox'] {
    @apply w-5 h-5 rounded border-2 border-border-default/40
      bg-surface-base
      text-cta-default
      focus:ring-2 focus:ring-cta-default/50
      transition-all duration-200 cursor-pointer;

    &:checked {
      @apply bg-cta-default border-cta-default;
    }
  }

  label {
    @apply text-sm text-text-primary cursor-pointer select-none;
  }
}

/* Form row (side by side) */
.form-row {
  @apply grid grid-cols-1 md:grid-cols-2 gap-4;
}

.form-hint {
  @apply mt-2 text-xs text-text-muted;
}

.form-error {
  @apply mt-2 flex items-center gap-1 text-xs text-error;

  ion-icon {
    @apply text-sm flex-shrink-0;
  }
}

.form-divider {
  @apply relative my-6 text-center;

  &::before {
    @apply absolute inset-0 flex items-center;
    content: '';
    @apply border-t border-border-default/20;
  }

  &__text {
    @apply relative inline-block px-4
      bg-surface-base
      text-sm font-medium text-text-muted;
  }
}

.form-notice {
  @apply flex items-start gap-3 p-4 rounded-lg;

  &--info {
    @apply bg-blue-50
      border border-blue-200;
  }

  &__icon {
    @apply text-xl flex-shrink-0 mt-0.5;

    .form-notice--info & {
      @apply text-blue-600;
    }
  }

  &__content {
    @apply flex-1;

    strong {
      @apply text-sm font-semibold block mb-1;

      .form-notice--info & {
        @apply text-blue-600;
      }
    }

    p {
      @apply text-xs text-text-secondary m-0;
    }
  }
}

/* Responsive */
@media (max-width: 640px) {
  .form-input,
  .form-select {
    @apply px-3 py-2.5 text-sm;

    &--with-prefix {
      @apply pl-14;
    }
  }

  .input-prefix {
    @apply left-3 text-xs;
  }

  .form-label {
    @apply text-xs;
  }

  .form-hint,
  .form-error {
    @apply text-xs;
  }

  .form-row {
    @apply grid-cols-1;
  }
}

/* Animation for auto-save */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.auto-save-indicator {
  animation: fadeIn 0.3s ease-out;
}
